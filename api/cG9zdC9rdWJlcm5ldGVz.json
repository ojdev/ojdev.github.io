{"title":"kubernetes","date":"2019-05-22T08:59:56.000Z","slug":"kubernetes","updated":"2019-05-22T09:19:28.025Z","content":"<h1 id=\"创建虚拟机主节点\">创建虚拟机主节点<a href=\"post/kubernetes#创建虚拟机主节点\"></a></h1><p>在windows上模拟kubernetes集群，推荐使用hyper-v</p>\n<p>打开Hyper-V管理器，点击右侧快速创建，在弹出的窗口中选择左侧的Ubuntu 19.04，点击右下角的创建虚拟机，就会自动下载镜像并创建，国内下载镜像较慢，推荐挂上全局的代理。</p>\n<p>创建完虚拟机后给该虚拟机重命名为k8s-master作为主节点。选择连接，开始自动安装并配置ubuntu。</p>\n<h1 id=\"在主节点中安装k8s\">在主节点中安装k8s<a href=\"post/kubernetes#在主节点中安装k8s\"></a></h1><p>我们采用<a href=\"https://github.com/kubernetes/minikube\" target=\"_blank\" rel=\"noopener\">minikube</a>来安装，简单快捷.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64 &amp;&amp; sudo install minikube-linux-amd64 /usr/<span class=\"built_in\">local</span>/bin/minikube</span><br></pre></td></tr></table></figure>\n<p>因为要连接到google，所以可能需要代理，使用下面的方式</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https_proxy=192.168.0.1:1080 curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64 &amp;&amp; sudo install minikube-linux-amd64 /usr/<span class=\"built_in\">local</span>/bin/minikube</span><br></pre></td></tr></table></figure>\n<p>安装完成后查看一下版本号，确认安装成功</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">minikube version</span><br></pre></td></tr></table></figure>\n<p>如果安装成功则会打印出版本号</p>\n<p>开始创建集群</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">minikube start</span><br></pre></td></tr></table></figure>\n<p>同样，如果需要的话使用代理</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https_proxy=192.168.0.1:1080 minikube start</span><br></pre></td></tr></table></figure>\n","next":{"title":"canpian-11","slug":"canpian-11"},"link":"http://ojdev.github.io/post/kubernetes/","toc":[{"title":"创建虚拟机主节点","id":"创建虚拟机主节点","index":"1"},{"title":"在主节点中安装k8s","id":"在主节点中安装k8s","index":"2"}]}