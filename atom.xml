<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>åå±±</title>
  
  
  <link href="https://oujun.work/atom.xml" rel="self"/>
  
  <link href="https://oujun.work/"/>
  <updated>2024-08-07T12:24:54.443Z</updated>
  <id>https://oujun.work/</id>
  
  <author>
    <name>æ¬§ä¿Š</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>DevOpsä¸­Scrumæ¨¡å¼ä½¿ç”¨è¯´æ˜</title>
    <link href="https://oujun.work/2024/08/07/DevOps%E4%B8%ADScrum%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.html"/>
    <id>https://oujun.work/2024/08/07/DevOps%E4%B8%ADScrum%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.html</id>
    <published>2024-08-07T12:00:00.000Z</published>
    <updated>2024-08-07T12:24:54.443Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä½œè€…ï¼š <a href="/chunqiudada">@åœæµ·æƒ(chunqiudada)</a></p></blockquote><h1 id="é•¿ç¯‡æ•…äº‹-story"><a href="#é•¿ç¯‡æ•…äº‹-story" class="headerlink" title="é•¿ç¯‡æ•…äº‹(story)"></a>é•¿ç¯‡æ•…äº‹(story)</h1><p>ä½“é‡è¶³å¤Ÿå¤§çš„éœ€æ±‚ ä¼šåˆ›å»ºä¸ºé•¿ç¯‡æ•…äº‹ã€‚<br>æˆ–è€…éœ€è¦è·¨ å†²åˆº(sprint)å‘¨æœŸçš„éœ€æ±‚ ä¼šåˆ›å»ºä¸ºé•¿ç¯‡æ•…äº‹ã€‚</p><h2 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h2><p>ä¸€ä¸ªå†²åˆº(sprint)å‘¨æœŸå†…çš„éœ€æ±‚ ä¼šåˆ›å»ºä¸ºç‰¹æ€§ã€‚<br>é•¿ç¯‡æ•…äº‹æ‹†è§£ä¸ºç‰¹æ€§ã€‚</p><h3 id="ç§¯å‹å·¥ä½œï¼ˆbacklogï¼‰"><a href="#ç§¯å‹å·¥ä½œï¼ˆbacklogï¼‰" class="headerlink" title="ç§¯å‹å·¥ä½œï¼ˆbacklogï¼‰"></a>ç§¯å‹å·¥ä½œï¼ˆbacklogï¼‰</h3><p>ä½“é‡è¶³å¤Ÿå°çš„éœ€æ±‚ ä¼šç›´æ¥åˆ›å»ºä¸ºç§¯å‹å·¥ä½œã€‚<br>ç‰¹æ€§æ‹†è§£ä¸ºç§¯å‹å·¥ä½œã€‚</p><h4 id="ä»»åŠ¡ï¼ˆtaskï¼‰"><a href="#ä»»åŠ¡ï¼ˆtaskï¼‰" class="headerlink" title="ä»»åŠ¡ï¼ˆtaskï¼‰"></a>ä»»åŠ¡ï¼ˆtaskï¼‰</h4><p>ç§¯å‹å·¥ä½œæ‹†è§£ä¸ºä»»åŠ¡ã€‚<br>ä»»åŠ¡ä¸ä¼šç‹¬ç«‹å­˜åœ¨ã€‚</p><hr><h1 id="ç­–ç•¥"><a href="#ç­–ç•¥" class="headerlink" title="ç­–ç•¥"></a>ç­–ç•¥</h1><h2 id="æ— ä¸Šçº§å¤„ç†"><a href="#æ— ä¸Šçº§å¤„ç†" class="headerlink" title="æ— ä¸Šçº§å¤„ç†"></a>æ— ä¸Šçº§å¤„ç†</h2><p>é¡¶çº§å·¥ä½œé¡¹ä¸ºé•¿ç¯‡æ•…äº‹ã€‚<br>ä¸ºé˜²æ­¢ æ— é¡¶çº§çš„ ç‰¹æ€§ å­˜åœ¨ï¼Œæ¯æœˆä¼šåˆ›å»ºä¸€ä¸ªä»¥æœˆä¸ºåå­—çš„é•¿ç¯‡æ•…äº‹ï¼Œç‰¹æ€§çº§å·¥ä½œé¡¹æŒ‚åœ¨æœˆé•¿ç¯‡æ•…äº‹ä¸‹ã€‚<br>ä¸ºé˜²æ­¢ æ— é¡¶çº§çš„ ç§¯å‹å·¥ä½œ å­˜åœ¨ï¼Œä¼šåœ¨æœˆé•¿ç¯‡æ•…äº‹ä¸‹ åˆ›å»º ä¸€ä¸ª æœˆå°ä»»åŠ¡ ç‰¹æ€§ã€‚</p><h2 id="æ ‡ğŸ“—é¡¹"><a href="#æ ‡ğŸ“—é¡¹" class="headerlink" title="æ ‡ğŸ“—é¡¹"></a>æ ‡ğŸ“—é¡¹</h2><p><img src="https://cdn.nlark.com/yuque/0/2021/png/23127493/1636366901512-2632716a-343d-4d36-9388-dc98b5a87a16.png#clientId=ue7dbd6f2-169e-4&from=paste&height=574&id=ub471424c&originHeight=574&originWidth=1342&originalType=binary&ratio=1&size=192040&status=done&style=none&taskId=u1a9ec754-3296-4331-a029-a04cb20a4e3&width=1342" alt="image.png"><br>æ‹†è§£åçš„å·¥ä½œé¡¹ ä¼šåœ¨ç§¯å‹å·¥ä½œï¼ˆbacklogï¼‰é¢æ¿ä¸­ï¼ŒæŒ‰ç…§å±‚çº§ä½“ç°ã€‚<br>ä¸ºäº†èƒ½å¤Ÿæ¸…æ™° å“ªäº›å·¥ä½œé¡¹æ˜¯ éœ€æ±‚ï¼Œæ‰€ä»¥æŠŠéœ€æ±‚çš„å·¥ä½œé¡¹ æ ‡é¢˜ åŠ ğŸ“— å‰ç¼€ã€‚</p><hr><h1 id="é˜¶æ®µåŠä¼šè®®å®šä¹‰"><a href="#é˜¶æ®µåŠä¼šè®®å®šä¹‰" class="headerlink" title="é˜¶æ®µåŠä¼šè®®å®šä¹‰"></a>é˜¶æ®µåŠä¼šè®®å®šä¹‰</h1><h2 id="é˜¶æ®µæ ‡è®°"><a href="#é˜¶æ®µæ ‡è®°" class="headerlink" title="é˜¶æ®µæ ‡è®°"></a>é˜¶æ®µæ ‡è®°</h2><p>éœ€æ±‚ä»æå‡ºåˆ°è¿›å…¥å¼€å‘é˜¶æ®µï¼Œä¸­é—´éœ€è¦ç»å†å„ä¸ªå‰ç½®é˜¶æ®µã€‚ç›®å‰ä¼šé‡‡ç”¨åœ¨å·¥ä½œé¡¹ä¸­è¿›è¡Œæ ‡è®°çš„æ–¹å¼ï¼Œæ–¹ä¾¿äº†è§£å·¥ä½œé¡¹çš„è¿›è¡ŒçŠ¶å†µã€‚é˜¶æ®µæ ‡è®°ä¸ä¸å·¥ä½œé¡¹æœ¬èº«çŠ¶æ€å¼ºå…³è”ã€‚<br><img src="https://cdn.nlark.com/yuque/0/2021/png/23127493/1636453885680-9a4f3070-5948-4a44-9482-7fd5ba092400.png#clientId=u4c034ef1-a799-4&from=paste&height=297&id=uc770951f&originHeight=594&originWidth=1858&originalType=binary&ratio=1&size=126988&status=done&style=none&taskId=u84e2431f-aaf3-4e29-9956-3cf8112a425&width=929" alt="image.png"></p><h2 id="0ã€æœªå¯åŠ¨"><a href="#0ã€æœªå¯åŠ¨" class="headerlink" title="0ã€æœªå¯åŠ¨"></a>0ã€æœªå¯åŠ¨</h2><p>åœ¨éœ€æ±‚é•¿æœŸç§¯å‹çš„æƒ…å†µä¸‹ï¼Œå¯é€‰æ‹©æ€§æ·»åŠ è¯¥æ ‡è®°ã€‚</p><h2 id="1ã€é¢„è¯„å®¡-é¢„å®¡ä¼š"><a href="#1ã€é¢„è¯„å®¡-é¢„å®¡ä¼š" class="headerlink" title="1ã€é¢„è¯„å®¡ - é¢„å®¡ä¼š"></a>1ã€é¢„è¯„å®¡ - é¢„å®¡ä¼š</h2><p>åœ¨è¯¥é˜¶æ®µä¸­ï¼Œä¼šè¿›è¡Œé¢„å®¡ä¼šã€‚ç›¸å…³äººä¸€è‡´é€šè¿‡åï¼Œä¼šè¿›å…¥éœ€æ±‚è¯„å®¡é˜¶æ®µã€‚<br>é¢„å®¡ä¼šæ¬¡æ•°ä¸é™åˆ¶ï¼Œç›´è‡³é€šè¿‡ä¸ºæ­¢ã€‚<br>ç”±SMä¸POè¿›è¡Œç»„ç»‡ï¼Œç›¸å…³æŠ€æœ¯è´Ÿè´£äººå‚ä¸ã€‚<br>ä¸»è¦ç›®çš„æ˜¯è¯„ä¼° éœ€æ±‚åœ¨ç³»ç»Ÿä¸­çš„å¯è¡Œæ€§ä»¥åŠåˆæ­¥è®¾è®¡æ–¹æ¡ˆã€‚</p><h2 id="2ã€éœ€æ±‚è¯„å®¡-éœ€æ±‚è¯„å®¡ä¼š"><a href="#2ã€éœ€æ±‚è¯„å®¡-éœ€æ±‚è¯„å®¡ä¼š" class="headerlink" title="2ã€éœ€æ±‚è¯„å®¡ - éœ€æ±‚è¯„å®¡ä¼š"></a>2ã€éœ€æ±‚è¯„å®¡ - éœ€æ±‚è¯„å®¡ä¼š</h2><p>åœ¨è¯¥é˜¶æ®µä¸­ï¼Œä¼šè¿›è¡Œéœ€æ±‚è¯„å®¡ä¼šã€‚ç›¸å…³äººä¸€ç›´é€šè¿‡åï¼Œä¼šè¿›å…¥æŠ€æœ¯æ–¹æ¡ˆé˜¶æ®µã€‚<br>éœ€æ±‚è¯„å®¡ä¼šæ¬¡æ•°ä¸é™åˆ¶ï¼Œç›´è‡³é€šè¿‡ä¸ºæ­¢ã€‚<br>ç”±SMä¸POè¿›è¡Œç»„ç»‡ï¼Œç›¸å…³æŠ€æœ¯è´Ÿè´£äººã€å¼€å‘è€…ã€æµ‹è¯•å‚ä¸ã€‚äº§å“è¿è¥é€‰æ‹©æ€§å‚ä¸ã€‚<br>éœ€æ±‚è¯„å®¡ä¼šå‰ï¼Œéœ€è¦åˆ†äº«è®¾è®¡PRDæˆ–åŸå‹ï¼Œå½¢å¼ä»¥é’‰é’‰æˆ–å·¥ä½œé¡¹é™„ä»¶å½¢å¼åˆ†äº«ã€‚<br>ä¸»è¦ç›®çš„æ˜¯åˆæ­¥æ•²å®šéœ€æ±‚è®¾è®¡ï¼Œä»¥åŠåŠŸèƒ½è¡¨ç°éª¨æ¶ã€‚</p><h2 id="3ã€æŠ€æœ¯æ–¹æ¡ˆ-æŠ€æœ¯æ–¹æ¡ˆä¼š"><a href="#3ã€æŠ€æœ¯æ–¹æ¡ˆ-æŠ€æœ¯æ–¹æ¡ˆä¼š" class="headerlink" title="3ã€æŠ€æœ¯æ–¹æ¡ˆ - æŠ€æœ¯æ–¹æ¡ˆä¼š"></a>3ã€æŠ€æœ¯æ–¹æ¡ˆ - æŠ€æœ¯æ–¹æ¡ˆä¼š</h2><p>åœ¨è¯¥é˜¶æ®µä¸­ï¼Œä¼šè¿›è¡ŒæŠ€æœ¯æ–¹æ¡ˆä¼šã€‚ç›¸å…³äººä¸€ç›´é€šè¿‡åï¼Œä¼šè¿›å…¥æ’æœŸé˜¶æ®µã€‚<br>æŠ€æœ¯æ–¹æ¡ˆä¼šæ¬¡æ•°ä¸é™åˆ¶ï¼Œç›´è‡³é€šè¿‡ä¸ºæ­¢ã€‚<br>ç”±SMä¸ç›¸å…³æŠ€æœ¯è´Ÿè´£äººè¿›è¡Œç»„ç»‡ï¼Œå¼€å‘è€…å‚ä¸ã€‚<br>æ ¹æ®éœ€æ±‚å¤§å°åŠæ€§è´¨ï¼Œä¼šé€‰æ‹©æ€§äº§å‡ºç›¸å…³æŠ€æœ¯æ–‡æ¡£åŠæ¥å£å®šä¹‰ç­‰ã€‚<br>ä¸»è¦ç›®çš„æ˜¯ç¡®è®¤åŠŸèƒ½å…·ä½“å®ç°æ–¹æ¡ˆï¼Œä»¥åŠåˆ†æåœ¨å®ç°è¿‡ç¨‹ä¸­ä¼šç¢°åˆ°çš„å…·ä½“å¼€å‘é—®é¢˜ã€‚</p><h2 id="4ã€æ’æœŸ-å†²åˆºå¯åŠ¨ä¼š"><a href="#4ã€æ’æœŸ-å†²åˆºå¯åŠ¨ä¼š" class="headerlink" title="4ã€æ’æœŸ - å†²åˆºå¯åŠ¨ä¼š"></a>4ã€æ’æœŸ - å†²åˆºå¯åŠ¨ä¼š</h2><p>åœ¨è¯¥é˜¶æ®µä¸­ï¼Œä¼šè¿›è¡Œå†²åˆºå¯åŠ¨ä¼šã€‚<br>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå†²åˆºå¯åŠ¨ä¼š ç›´æ¥è·Ÿåœ¨æœ€åä¸€æ¬¡æŠ€æœ¯æ–¹æ¡ˆä¼šåã€‚<br>ç”±SMä¸ç›¸å…³æŠ€æœ¯è´Ÿè´£äººè¿›è¡Œç»„ç»‡ï¼Œå¼€å‘è€…å‚ä¸ã€‚å…¶ä»–è§’è‰²é€‰æ‹©æ€§å‚ä¸ã€‚<br>ä¸»è¦ç›®çš„æ˜ç¡®å…·ä½“å¼€å‘è€…ï¼Œä»¥åŠä»»åŠ¡æ’æœŸã€‚</p><hr><h1 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h1><p>1ã€æµ‹è¯•ä¸å†ä¸å¼€å‘è€…å…±ç”¨ä»»åŠ¡ï¼Œæµ‹è¯•ä»»åŠ¡ç‹¬ç«‹ç®¡ç†ã€‚<br>2ã€ä¸å†ä½¿ç”¨æŒ‡æ´¾ç»™åŠçŠ¶æ€å­—æ®µ æè¿°æµ‹è¯•é˜¶æ®µçš„æµè½¬ã€‚<br>3ã€æµ‹è¯•æ‹¥æœ‰å½“å‰é˜¶æ®µæµ‹è¯•ä»»åŠ¡çš„ç‹¬ç«‹çœ‹æ¿ï¼Œå¯ä»¥æ˜ç¡®å½“å‰é˜¶æ®µæ‰€æœ‰æµ‹è¯•ä»»åŠ¡ã€‚<br>4ã€æµ‹è¯•ä¸å¼€å‘è€…å…±ç”¨å†²åˆºã€‚<br><img src="https://cdn.nlark.com/yuque/0/2021/png/23127493/1636463578475-f2663ff8-f559-45aa-a620-23bcb5bb7008.png#clientId=u5adc556a-c7f1-4&from=paste&height=302&id=u19568503&originHeight=302&originWidth=724&originalType=binary&ratio=1&size=50695&status=done&style=none&taskId=u296e3132-1360-44eb-9f88-3035e96b7fc&width=724" alt="image.png"></p><h2 id="é…ç½®ç­–ç•¥"><a href="#é…ç½®ç­–ç•¥" class="headerlink" title="é…ç½®ç­–ç•¥"></a>é…ç½®ç­–ç•¥</h2><p>æµ‹è¯•ç»„æ‹¥æœ‰ã€NewProjectDemo\æµ‹è¯•ç»„ã€‘åŒºåŸŸã€‚<br>å…¶ä»–å„ä¸ªè¿›è¡Œä¸­çš„ç»„ï¼ŒåŒæ—¶æ‹¥æœ‰ã€NewProjectDemo\æµ‹è¯•ç»„ã€‘åŒºåŸŸã€‚<br>æµ‹è¯•ç»„æ‹¥æœ‰æœ¬é˜¶æ®µå…¨éƒ¨è¿­ä»£ã€‚</p><h2 id="ğŸ§°-æµ‹è¯•ç§¯å‹å·¥ä½œ"><a href="#ğŸ§°-æµ‹è¯•ç§¯å‹å·¥ä½œ" class="headerlink" title="ğŸ§° æµ‹è¯•ç§¯å‹å·¥ä½œ"></a>ğŸ§° æµ‹è¯•ç§¯å‹å·¥ä½œ</h2><p>æµ‹è¯•ç§¯å‹å·¥ä½œåˆ›å»ºåœ¨ä»»ä½•ä¸€ä¸ªç‰¹æ€§ä¸‹ï¼Œä¸”åªèƒ½åœ¨ç‰¹æ€§ä¸‹ã€‚<br>æµ‹è¯•ç§¯å‹å·¥ä½œçš„åŒºåŸŸä¸€å®šè¦é€‰æ‹©ã€NewProjectDemo\æµ‹è¯•ç»„ã€‘ã€‚<br>æµ‹è¯•ç§¯å‹å·¥ä½œçš„çš„è¿­ä»£æ ¹æ®åŒçº§å¼€å‘ä»»åŠ¡é€‰æ‹©ã€‚<br>æµ‹è¯•ç§¯å‹å·¥ä½œçš„æ ‡é¢˜æ·»åŠ ğŸ§° å‰ç¼€ã€‚</p><h3 id="æµ‹è¯•ä»»åŠ¡"><a href="#æµ‹è¯•ä»»åŠ¡" class="headerlink" title="æµ‹è¯•ä»»åŠ¡"></a>æµ‹è¯•ä»»åŠ¡</h3><p>æµ‹è¯•ç§¯å‹å·¥ä½œæ‹†è§£ä¸ºæµ‹è¯•ä»»åŠ¡ã€‚<br>æµ‹è¯•ä»»åŠ¡ä»¥ã€æµ‹è¯•ã€‘ä¸ºå‰ç¼€ã€‚<br>æµ‹è¯•ä»»åŠ¡çš„è¿­ä»£å’ŒåŒºåŸŸè·Ÿéšæµ‹è¯•ç§¯å‹å·¥ä½œã€‚<br>æµ‹è¯•ä»»åŠ¡åŒæ ·éœ€è¦æ ‡è®°å‰©ä½™å·¥ä½œé‡ã€‚</p><h3 id="æµ‹è¯•ç”¨ä¾‹"><a href="#æµ‹è¯•ç”¨ä¾‹" class="headerlink" title="æµ‹è¯•ç”¨ä¾‹"></a>æµ‹è¯•ç”¨ä¾‹</h3><p>æµ‹è¯•ç”¨ä¾‹æŒ‚åœ¨æµ‹è¯•ç§¯å‹å·¥ä½œä¸‹ã€‚<br>æä¾›æµ‹è¯•ç”¨ä¾‹å…±äº«æŸ¥è¯¢ï¼Œç”¨æ¥æŸ¥è¯¢å…¨éƒ¨æµ‹è¯•ç”¨ä¾‹åŠä¸Šçº§å…³è”ã€‚<br><img src="https://cdn.nlark.com/yuque/0/2021/png/23127493/1636464923056-3eed29de-be5b-439a-ad81-f8926a0fd263.png#clientId=u5adc556a-c7f1-4&from=paste&height=232&id=u760ea2cc&originHeight=232&originWidth=551&originalType=binary&ratio=1&size=22026&status=done&style=none&taskId=ube710aab-d5c5-409c-bd27-f9bfdb0c0ce&width=551" alt="image.png"></p><h2 id="æµ‹è¯•é˜¶æ®µ"><a href="#æµ‹è¯•é˜¶æ®µ" class="headerlink" title="æµ‹è¯•é˜¶æ®µ"></a>æµ‹è¯•é˜¶æ®µ</h2><p>éœ€æ±‚å¼€å‘å®Œæˆåï¼Œé€šè¿‡ç«™ä¼šã€é’‰é’‰ç­‰å³æ—¶æ€§æ¸ é“é€šçŸ¥åˆ°æµ‹è¯• å¯ä»¥å¼€å§‹æµ‹è¯•ï¼Œæ­¤æ—¶ä»»åŠ¡è¿›å…¥åˆ°æµ‹è¯•é˜¶æ®µã€‚<br>è¿›å…¥æµ‹è¯•é˜¶æ®µåï¼Œæµ‹è¯•å¼€å§‹ä»‹å…¥åˆ°ä»»åŠ¡å¯¹åº”çš„ç«™ä¼šï¼Œå®æ—¶åŒæ­¥æµ‹è¯•ç»“æœï¼Œç›´è‡³éœ€æ±‚ä¸Šçº¿ã€‚</p><hr><h1 id="BUG"><a href="#BUG" class="headerlink" title="BUG"></a>BUG</h1><p>BUGæœ¬è´¨åˆ†ä¸ºã€å¼€å‘é˜¶æ®µBUGã€‘å’Œã€ç”Ÿäº§BUGã€‘ã€‚</p><h2 id="å¼€å‘é˜¶æ®µBUG"><a href="#å¼€å‘é˜¶æ®µBUG" class="headerlink" title="å¼€å‘é˜¶æ®µBUG"></a>å¼€å‘é˜¶æ®µBUG</h2><p>ç”±æµ‹è¯•è€…æŒ‰éœ€å†³å®šæ˜¯å¦éœ€è¦åˆ›å»ºBUGï¼Œå¯ä»¥åœ¨é’‰é’‰ä¸­å³æ—¶æ²Ÿé€šã€‚<br>åˆ›å»ºçš„BUGéœ€è¦æŒ‚åœ¨æµ‹è¯•ç§¯å‹å·¥ä½œæ‰€å¯¹åº”çš„ç‰¹æ€§ä¸‹ã€‚<br>å¦‚éœ€åˆ›å»ºBUGï¼Œæ¨èä»¥æµ‹è¯•è½®æ¬¡å®šä¹‰ä¸€ä¸ªBUGï¼Œå¹¶åœ¨BUGå†…é›†ä¸­æè¿°ã€‚<br>ä¸æ¨èå¯¹å•ä¸€éœ€æ±‚æˆ–ä»»åŠ¡åˆ›å»ºè¿‡å¤šå¼€å‘é˜¶æ®µBUGã€‚</p><h2 id="ç”Ÿäº§BUG"><a href="#ç”Ÿäº§BUG" class="headerlink" title="ç”Ÿäº§BUG"></a>ç”Ÿäº§BUG</h2><p>ç›®å‰ä¸åœ¨ æ­¤ teamæ¡†æ¶ ä¸­ä½“ç°ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;ä½œè€…ï¼š &lt;a href=&quot;/chunqiudada&quot;&gt;@åœæµ·æƒ(chunqiudada)&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;é•¿ç¯‡æ•…äº‹-story&quot;&gt;&lt;a href=&quot;#é•¿ç¯‡æ•…äº‹-story&quot; class=&quot;headerli</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="æ¶æ„" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%9E%B6%E6%9E%84/"/>
    
    
    <category term="æ¶æ„" scheme="https://oujun.work/tags/%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>å®ç°æŠ½å¡åŠŸèƒ½çš„è“„æ°´æ± æŠ½æ ·ç®—æ³•åˆ†æ</title>
    <link href="https://oujun.work/2024/07/12/gacha-reservoir-sampling.html"/>
    <id>https://oujun.work/2024/07/12/gacha-reservoir-sampling.html</id>
    <published>2024-07-12T14:13:00.000Z</published>
    <updated>2024-07-12T14:13:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨æ¸¸æˆå¼€å‘ä¸­ï¼ŒæŠ½å¡ç³»ç»Ÿæ˜¯ä¸€ç§å¸¸è§çš„éšæœºäº‹ä»¶æ¨¡æ‹Ÿï¼Œå…¶èƒŒåçš„éšæœºç®—æ³•ç›´æ¥å½±å“åˆ°ç©å®¶ä½“éªŒå’Œæ¸¸æˆå¹³è¡¡æ€§ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨è“„æ°´æ± æŠ½æ ·ç®—æ³•å®ç°æŠ½å¡åŠŸèƒ½ï¼Œå¹¶é€šè¿‡C#ä»£ç ç¤ºä¾‹è¿›è¡Œè¯¦ç»†è§£æã€‚</p><h2 id="è“„æ°´æ± æŠ½æ ·ç®—æ³•ç®€ä»‹"><a href="#è“„æ°´æ± æŠ½æ ·ç®—æ³•ç®€ä»‹" class="headerlink" title="è“„æ°´æ± æŠ½æ ·ç®—æ³•ç®€ä»‹"></a>è“„æ°´æ± æŠ½æ ·ç®—æ³•ç®€ä»‹</h2><p>è“„æ°´æ± æŠ½æ ·ç®—æ³•æ˜¯ä¸€ç§ç”¨äºä»åŠ¨æ€æ•°æ®é›†åˆä¸­éšæœºæŠ½å–å›ºå®šå¤§å°æ ·æœ¬çš„ç®—æ³•ã€‚åœ¨æŠ½å¡ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿæ ¹æ®å¡ç‰‡çš„æ¦‚ç‡åˆ†å¸ƒï¼Œå®ç°æŒ‰ç…§ä¸åŒç¨€æœ‰åº¦æŠ½å–å¡ç‰‡çš„åŠŸèƒ½ï¼Œå¹¶ç¡®ä¿åœ¨ä¸€å®šæ¬¡æ•°å†…æŠ½å–åˆ°ä¿åº•ç¨€æœ‰åº¦çš„å¡ç‰‡ã€‚</p><h2 id="å®ç°ä»£ç åˆ†æ"><a href="#å®ç°ä»£ç åˆ†æ" class="headerlink" title="å®ç°ä»£ç åˆ†æ"></a>å®ç°ä»£ç åˆ†æ</h2><p>ä»¥ä¸‹æ˜¯ä½¿ç”¨C#å®ç°çš„æŠ½å¡ç³»ç»Ÿä»£ç ç¤ºä¾‹ï¼š</p><h3 id="å®šä¹‰å¡ç‰‡"><a href="#å®šä¹‰å¡ç‰‡" class="headerlink" title="å®šä¹‰å¡ç‰‡"></a>å®šä¹‰å¡ç‰‡</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> å¡ç‰‡</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;name&quot;&gt;</span>å¡åå­—<span class="hljs-doctag">&lt;/param&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;token&quot;&gt;</span>ç”¨äºæ ‡è¯†å¡ç‰‡ç±»å‹<span class="hljs-doctag">&lt;/param&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;probability&quot;&gt;</span>ç”¨äºå­˜å‚¨å¡ç‰‡çš„æ¦‚ç‡<span class="hljs-doctag">&lt;/param&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Card</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> name, <span class="hljs-built_in">string</span> token, <span class="hljs-built_in">double</span> probability</span>)</span><br>&#123;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> å¡åå­—</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125; = name;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> ç”¨äºæ ‡è¯†å¡ç‰‡ç±»å‹</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Token &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125; = token;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> ç”¨äºå­˜å‚¨å¡ç‰‡çš„æ¦‚ç‡</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> Probability &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125; = probability;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æŠ½å¡ç»“æœ"><a href="#æŠ½å¡ç»“æœ" class="headerlink" title="æŠ½å¡ç»“æœ"></a>æŠ½å¡ç»“æœ</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> æŠ½å¡ç»“æœ</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title">DrawResult</span><br>&#123;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> æŠ½å¡ä¿¡æ¯</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">public</span> Card DrawnCard &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> å‰©ä½™ä¿åº•æ¬¡æ•°</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">public</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt; RemainingGuarantees &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æŠ½å¡"><a href="#æŠ½å¡" class="headerlink" title="æŠ½å¡"></a>æŠ½å¡</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">Gacha</span><br>&#123;<br>    <span class="hljs-keyword">private</span> List&lt;Card&gt; cards = <span class="hljs-keyword">new</span>();<br>    <span class="hljs-keyword">private</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt; drawCounters = <span class="hljs-keyword">new</span>();<br>    <span class="hljs-keyword">private</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt; guarantees = <span class="hljs-keyword">new</span>();<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Gacha</span>(<span class="hljs-params">Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt; guaranteeConfig</span>)</span><br>    &#123;<br>        <span class="hljs-comment">// åˆå§‹åŒ–ä¿åº•æ¬¡æ•°é…ç½®</span><br>        guarantees = guaranteeConfig;<br>        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> guarantees.Keys)<br>        &#123;<br>            drawCounters[key] = <span class="hljs-number">0</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddCard</span>(<span class="hljs-params">Card card</span>)</span><br>    &#123;<br>        cards.Add(card);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> DrawResult <span class="hljs-title">DrawCard</span>()</span><br>    &#123;<br>        Card drawnCard = <span class="hljs-literal">null</span>;<br><br>        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> token <span class="hljs-keyword">in</span> guarantees.Keys)<br>        &#123;<br>            drawCounters[token]++;<br>            <span class="hljs-keyword">if</span> (drawCounters[token] &gt;= guarantees[token])<br>            &#123;<br>                drawCounters[token] = <span class="hljs-number">0</span>;<br>                drawnCard = GetCardByToken(token);<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (drawnCard == <span class="hljs-literal">null</span>)<br>        &#123;<br>            <span class="hljs-comment">// æ‰§è¡Œè“„æ°´æ± æŠ½æ ·ç®—æ³•</span><br>            <span class="hljs-built_in">double</span> totalProbability = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> card <span class="hljs-keyword">in</span> cards)<br>            &#123;<br>                totalProbability += card.Probability;<br>            &#125;<br><br>            <span class="hljs-built_in">double</span> randomPoint = <span class="hljs-keyword">new</span> Random().NextDouble() * totalProbability;<br><br>            <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> card <span class="hljs-keyword">in</span> cards)<br>            &#123;<br>                <span class="hljs-keyword">if</span> (randomPoint &lt; card.Probability)<br>                &#123;<br>                    drawnCard = card;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    randomPoint -= card.Probability;<br>                &#125;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (drawnCard != <span class="hljs-literal">null</span> &amp;&amp; drawCounters.ContainsKey(drawnCard.Token))<br>        &#123;<br>            drawCounters[drawnCard.Token] = <span class="hljs-number">0</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> DrawResult<br>        &#123;<br>            DrawnCard = drawnCard,<br>            RemainingGuarantees = GetRemainingGuarantees()<br>        &#125;;<br>    &#125;<br><br>    <span class="hljs-comment">// çœç•¥äº†å…¶ä»–è¾…åŠ©æ–¹æ³•çš„å…·ä½“å®ç°</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> Card <span class="hljs-title">GetCardByToken</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> token</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> card <span class="hljs-keyword">in</span> cards)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (card.Token == token)<br>            &#123;<br>                <span class="hljs-keyword">return</span> card;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt; <span class="hljs-title">GetRemainingGuarantees</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">var</span> remainingGuarantees = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt;();<br>        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> token <span class="hljs-keyword">in</span> guarantees.Keys)<br>        &#123;<br>            remainingGuarantees[token] = guarantees[token] - drawCounters[token];<br>        &#125;<br>        <span class="hljs-keyword">return</span> remainingGuarantees;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æµ‹è¯•ä»£ç "><a href="#æµ‹è¯•ä»£ç " class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs csharp">Gacha gacha = <span class="hljs-keyword">new</span> Gacha(<span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt;<br>        &#123;<br>            &#123; <span class="hljs-string">&quot;SSR&quot;</span>, <span class="hljs-number">80</span> &#125;,<br>            <span class="hljs-comment">//&#123; &quot;SR&quot;, 10 &#125;</span><br>        &#125;);<br><br><span class="hljs-comment">// æ·»åŠ å¡ç‰‡åŠå…¶æ¦‚ç‡</span><br><br>gacha.AddCard(<span class="hljs-keyword">new</span> Card(<span class="hljs-string">&quot;SSR Card&quot;</span>, <span class="hljs-string">&quot;SSR&quot;</span>, <span class="hljs-number">0.01</span>));  <span class="hljs-comment">// 1% æ¦‚ç‡</span><br>gacha.AddCard(<span class="hljs-keyword">new</span> Card(<span class="hljs-string">&quot;SR Card&quot;</span>, <span class="hljs-string">&quot;SR&quot;</span>, <span class="hljs-number">0.05</span>));   <span class="hljs-comment">// 5% æ¦‚ç‡</span><br>gacha.AddCard(<span class="hljs-keyword">new</span> Card(<span class="hljs-string">&quot;R Card&quot;</span>, <span class="hljs-string">&quot;R&quot;</span>, <span class="hljs-number">0.15</span>));    <span class="hljs-comment">// 15% æ¦‚ç‡</span><br>gacha.AddCard(<span class="hljs-keyword">new</span> Card(<span class="hljs-string">&quot;N Card&quot;</span>, <span class="hljs-string">&quot;N&quot;</span>, <span class="hljs-number">0.79</span>));    <span class="hljs-comment">// 79% æ¦‚ç‡</span><br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> p = <span class="hljs-number">0</span>; p &lt; <span class="hljs-number">10</span>; p++)<br>&#123;<br>    <span class="hljs-comment">// æŠ½å¡</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++)<br>    &#123;<br>        <span class="hljs-keyword">var</span> drawResult = gacha.DrawCard();<br>        Console.Write(<span class="hljs-string">$&quot;æŠ½åˆ°ä¸€å¼ \t<span class="hljs-subst">&#123;drawResult.DrawnCard.Name&#125;</span>&quot;</span>);<br><br>        Console.Write(<span class="hljs-string">&quot;\tä¿åº•æ¬¡æ•°:&quot;</span>);<br>        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> guarantee <span class="hljs-keyword">in</span> drawResult.RemainingGuarantees)<br>        &#123;<br>            Console.Write(<span class="hljs-string">$&quot;<span class="hljs-subst">&#123;guarantee.Key&#125;</span>: <span class="hljs-subst">&#123;guarantee.Value&#125;</span> å‰©ä½™æŠ½å¡\t&quot;</span>);<br>        &#125;<br>        Console.WriteLine();<br>    &#125;<br>    Console.WriteLine(<span class="hljs-string">&quot;=====================================&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æµ‹è¯•ç»“æœ"><a href="#æµ‹è¯•ç»“æœ" class="headerlink" title="æµ‹è¯•ç»“æœ"></a>æµ‹è¯•ç»“æœ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><code class="hljs shell">æŠ½åˆ°ä¸€å¼         SR Card ä¿åº•æ¬¡æ•°:SSR: 79 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 78 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 77 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 76 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 75 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 74 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 73 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 72 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 71 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 70 å‰©ä½™æŠ½å¡<br>=====================================<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 69 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 68 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 67 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 66 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 65 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 64 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 63 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 62 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 61 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 60 å‰©ä½™æŠ½å¡<br>=====================================<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 59 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 58 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 57 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 56 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 55 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 54 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 53 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 52 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 51 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 50 å‰©ä½™æŠ½å¡<br>=====================================<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 49 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 48 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 47 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 46 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 45 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 44 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 43 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 42 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 41 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 40 å‰©ä½™æŠ½å¡<br>=====================================<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 39 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 38 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 37 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 36 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 35 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 34 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 33 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 32 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 31 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 30 å‰©ä½™æŠ½å¡<br>=====================================<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 29 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 28 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 27 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 26 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 25 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 24 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 23 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 22 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 21 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         SR Card ä¿åº•æ¬¡æ•°:SSR: 20 å‰©ä½™æŠ½å¡<br>=====================================<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 19 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 18 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         SR Card ä¿åº•æ¬¡æ•°:SSR: 17 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 16 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 15 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 14 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 13 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 12 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 11 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 10 å‰©ä½™æŠ½å¡<br>=====================================<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 9 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 8 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 7 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 6 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         SR Card ä¿åº•æ¬¡æ•°:SSR: 5 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 4 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 3 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 2 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 1 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         SSR Card        ä¿åº•æ¬¡æ•°:SSR: 80 å‰©ä½™æŠ½å¡<br>=====================================<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 79 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 78 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 77 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 76 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 75 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 74 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 73 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 72 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 71 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 70 å‰©ä½™æŠ½å¡<br>=====================================<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 69 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 68 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 67 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 66 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         SSR Card        ä¿åº•æ¬¡æ•°:SSR: 80 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 79 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 78 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 77 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 76 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 75 å‰©ä½™æŠ½å¡<br>=====================================<br></code></pre></td></tr></table></figure><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•åˆ©ç”¨è“„æ°´æ± æŠ½æ ·ç®—æ³•å®ç°æ¸¸æˆä¸­çš„æŠ½å¡ç³»ç»Ÿã€‚é€šè¿‡åŠ¨æ€è®¡ç®—å¡ç‰‡çš„æ¦‚ç‡åˆ†å¸ƒå¹¶ç»“åˆä¿åº•æœºåˆ¶ï¼Œç¡®ä¿ç©å®¶åœ¨ä¸€å®šæŠ½å¡æ¬¡æ•°å†…èƒ½å¤Ÿè·å¾—æœŸæœ›çš„ç¨€æœ‰åº¦å¡ç‰‡ã€‚è¿™ç§ç®—æ³•ä¸ä»…ç®€å•é«˜æ•ˆï¼Œè€Œä¸”èƒ½å¤Ÿæœ‰æ•ˆæ§åˆ¶æŠ½å¡ç»“æœçš„éšæœºæ€§ï¼Œä¸ºæ¸¸æˆå¼€å‘è€…æä¾›äº†ä¸€ç§å¯é çš„å®ç°æ–¹æ¡ˆã€‚</p><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®æ¸¸æˆçš„å…·ä½“éœ€æ±‚è°ƒæ•´ç®—æ³•ç»†èŠ‚ï¼Œå¦‚è°ƒæ•´ä¿åº•æ¬¡æ•°å’Œå¡ç‰‡çš„æ¦‚ç‡åˆ†å¸ƒï¼Œä»¥å®ç°æ›´ç¬¦åˆæ¸¸æˆå¹³è¡¡æ€§å’Œç©å®¶æœŸå¾…çš„æŠ½å¡ç³»ç»Ÿã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åœ¨æ¸¸æˆå¼€å‘ä¸­ï¼ŒæŠ½å¡ç³»ç»Ÿæ˜¯ä¸€ç§å¸¸è§çš„éšæœºäº‹ä»¶æ¨¡æ‹Ÿï¼Œå…¶èƒŒåçš„éšæœºç®—æ³•ç›´æ¥å½±å“åˆ°ç©å®¶ä½“éªŒå’Œæ¸¸æˆå¹³è¡¡æ€§ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨è“„æ°´æ± æŠ½æ ·ç®—æ³•å®ç°æŠ½å¡åŠŸèƒ½ï¼Œå¹¶é€šè¿‡C#ä»£ç ç¤ºä¾‹è¿›è¡Œè¯¦ç»†è§£æã€‚&lt;/p&gt;
&lt;h2 id=&quot;è“„æ°´æ± æŠ½æ ·ç®—æ³•ç®€ä»‹&quot;&gt;&lt;a href=&quot;#è“„æ°´æ± æŠ½æ ·ç®—æ³•ç®€ä»‹&quot; class</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="C#" scheme="https://oujun.work/tags/C/"/>
    
    <category term="æŠ½å¡" scheme="https://oujun.work/tags/%E6%8A%BD%E5%8D%A1/"/>
    
    <category term="è“„æ°´æ± æŠ½æ ·ç®—æ³•" scheme="https://oujun.work/tags/%E8%93%84%E6%B0%B4%E6%B1%A0%E6%8A%BD%E6%A0%B7%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Jenkins</title>
    <link href="https://oujun.work/2024/06/11/Jenkins.html"/>
    <id>https://oujun.work/2024/06/11/Jenkins.html</id>
    <published>2024-06-11T02:16:00.000Z</published>
    <updated>2024-06-12T09:39:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">jenkins:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">jenkins/jenkins:lts-jdk21</span><br>    <span class="hljs-attr">user:</span> <span class="hljs-string">root</span><br>    <span class="hljs-attr">container_name:</span> <span class="hljs-string">jenkins</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">TZ=Asia/Shanghai</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">DOCKER_TLS_CERTDIR=/certs</span><br>    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span><br>    <span class="hljs-attr">privileged:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-number">8080</span><span class="hljs-string">:8080</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-number">50000</span><span class="hljs-string">:50000</span><br>    <span class="hljs-attr">working_dir:</span> <span class="hljs-string">/var/jenkins_home</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">/var/run/docker.sock:/var/run/docker.sock</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">jenkins-data:/var/jenkins_home</span><br><span class="hljs-attr">volumes:</span><br>  <span class="hljs-attr">jenkins-data:</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">jenkins-data</span><br></code></pre></td></tr></table></figure><h1 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h1><p><code>docker compose up -d</code></p><h1 id="æŸ¥çœ‹å¯†ç "><a href="#æŸ¥çœ‹å¯†ç " class="headerlink" title="æŸ¥çœ‹å¯†ç "></a>æŸ¥çœ‹å¯†ç </h1><p>ä»…åœ¨ç¬¬ä¸€æ¬¡å¯åŠ¨å®¹å™¨åä½¿ç”¨æŸ¥çœ‹æ—¥å¿—<code>docker logs jenkins-blueocean</code></p><p>æ—¥å¿—ä¸­å‡ºç°å¦‚ä¸‹å†…å®¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs logs">*************************************************************<br>*************************************************************<br>*************************************************************<br><br>Jenkins initial setup is required. An admin user has been created and a password generated.<br>Please use the following password to proceed to installation:<br><br>è¿™é‡Œçš„å°±æ˜¯ç®¡ç†å‘˜å¯†ç <br><br>This may also be found at: /var/jenkins_home/secrets/initialAdminPassword<br><br>*************************************************************<br>*************************************************************<br>*************************************************************<br></code></pre></td></tr></table></figure><p>å¦‚æœå¿˜è®°äº†adminå¯†ç ï¼Œé‚£ä¹ˆè¿›å…¥å®¹å™¨ï¼Œä½¿ç”¨catè¿›è¡ŒæŸ¥è¯¢ã€‚</p><p><code>docker exec -it jenkins-blueocean bash</code><br><code>cat /var/jenkins_home/secrets/initialAdminPassword</code></p><h1 id="Jenkins-æ›´æ–°åœ°å€é•œåƒä¿®æ”¹"><a href="#Jenkins-æ›´æ–°åœ°å€é•œåƒä¿®æ”¹" class="headerlink" title="Jenkins æ›´æ–°åœ°å€é•œåƒä¿®æ”¹"></a>Jenkins æ›´æ–°åœ°å€é•œåƒä¿®æ”¹</h1><p>è¿›å…¥åˆ°å®¹å™¨å†…éƒ¨ï¼Œä¿®æ”¹ <code>/var/jenkins_home/updates/default.json</code> ,å°†å…¶ä¸­çš„<code>updates.jenkins-ci.org/download</code> æ›¿æ¢ä¸º <code>mirrors.tuna.tsinghua.edu.cn/jenkins</code></p><p>æˆ–è€…ç›´æ¥ä½¿ç”¨sedä¿®æ”¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sed -i &#x27;s/https:\/\/updates.jenkins.io\/download/http:\/\/mirrors.aliyun.com\/jenkins/g&#x27; default.json<br></code></pre></td></tr></table></figure><p>æœ‰äº›ç‰ˆæœ¬æ˜¯å¦‚ä¸‹å†…å®¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sed -i &#x27;s/https:\/\/updates.jenkins-ci.org\/download/http:\/\/mirrors.aliyun.com\/jenkins/g&#x27; default.json<br></code></pre></td></tr></table></figure><p>ç„¶åé‡å¯æœåŠ¡ã€‚</p><h1 id="Jenkins-åˆå§‹åŒ–"><a href="#Jenkins-åˆå§‹åŒ–" class="headerlink" title="Jenkins åˆå§‹åŒ–"></a>Jenkins åˆå§‹åŒ–</h1><p>éšåä½¿ç”¨æµè§ˆå™¨è®¿é—®<code>ip:8080</code> å¡«å…¥ç®¡ç†å‘˜å¯†ç ï¼Œç‚¹å‡»<code>ç»§ç»­</code>ï¼Œé€‰æ‹©<code>å®‰è£…æ¨èçš„æ’ä»¶</code>ç­‰å¾…å®‰è£…å®Œæˆã€‚</p><h1 id="æ’ä»¶æ›´æ–°åœ°å€é•œåƒä¿®æ”¹"><a href="#æ’ä»¶æ›´æ–°åœ°å€é•œåƒä¿®æ”¹" class="headerlink" title="æ’ä»¶æ›´æ–°åœ°å€é•œåƒä¿®æ”¹"></a>æ’ä»¶æ›´æ–°åœ°å€é•œåƒä¿®æ”¹</h1><p>è¿›å…¥ <code>Manage Jenkins</code> -&gt; <code>Manage Plugin</code> -&gt; <code>Advanced</code> æœ€ä¸‹é¢æœ‰ <code>Update Site</code>ï¼Œè®¾ç½®ä¸ºï¼š<code>https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å®‰è£…&quot;&gt;&lt;a href=&quot;#å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…&quot;&gt;&lt;/a&gt;å®‰è£…&lt;/h1&gt;&lt;figure class=&quot;highlight yaml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span c</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="è¿ç»´" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="Jenkins" scheme="https://oujun.work/tags/Jenkins/"/>
    
    <category term="CICD" scheme="https://oujun.work/tags/CICD/"/>
    
    <category term="DevOps" scheme="https://oujun.work/tags/DevOps/"/>
    
  </entry>
  
  <entry>
    <title>DDDæ˜¯ä»€ä¹ˆ</title>
    <link href="https://oujun.work/2024/06/11/ddd.html"/>
    <id>https://oujun.work/2024/06/11/ddd.html</id>
    <published>2024-06-11T01:33:00.000Z</published>
    <updated>2024-06-11T01:33:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>DDDæ˜¯é¢†åŸŸï¼ˆDomainï¼‰é©±åŠ¨ï¼ˆDrivenï¼‰è®¾è®¡ï¼ˆDesignï¼‰çš„ç®€å†™ï¼Œæ˜¯ä¸€ç§æˆ˜ç•¥è®¾è®¡ï¼Œå…ˆç»˜åˆ¶ä¸šåŠ¡é¢†åŸŸçš„å…³ç³»å›¾ï¼ŒåŒæ—¶å®šä¹‰ä¸æ¨¡å‹çš„è¾¹ç•Œä¸Šä¸‹æ–‡ã€‚</p><h1 id="å®ä½“"><a href="#å®ä½“" class="headerlink" title="å®ä½“"></a>å®ä½“</h1><p>å®ä½“æ˜¯ä¸€ç›´ä¿æŒå”¯ä¸€æ ‡è¯†çš„å¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ªç±»ï¼Œä¸€èˆ¬çš„äº‹æƒ…æƒ…å†µæ˜¯å¯¹åº”åˆ°æ•°æ®åº“ä¸­çš„ä¸€å¼ è¡¨ï¼Œä¹Ÿå°±æ˜¯OOPé‡Œçš„å¯¹è±¡ï¼ŒæŠ½è±¡å‡ºæ¥çš„ä¸€ä¸ªå¯¹è±¡ã€‚å”¯ä¸€æ ‡è¯†ï¼Œä¹Ÿå¯ä»¥ç†è§£æˆä¸»é”®ï¼Œé€šè¿‡è¿™ä¸ªä¸»é”®å¯ä»¥åœ¨ç³»ç»Ÿä¸­æ‰¾åˆ°å®ƒï¼Œè¿™ä¸ªä¸»é”®è¿˜å¯ä»¥è·¨è¶Šå¤šä¸ªè¾¹ç•Œçš„ä¸Šä¸‹æ–‡ï¼Œä¹Ÿå°±æ˜¯å…³ç³»ï¼Œä¸€å¯¹å¤šï¼Œå¤šå¯¹å¤šï¼Œä¸€å¯¹ä¸€è¿™æ ·çš„å…³ç³»ï¼Œå®ä½“çš„å±æ€§å¯ä»¥éšæ—¶å˜åŒ–ï¼Œä½†æ˜¯æ ‡è¯†ä¸èƒ½æ”¹å˜ã€‚</p><h1 id="å€¼å¯¹è±¡"><a href="#å€¼å¯¹è±¡" class="headerlink" title="å€¼å¯¹è±¡"></a>å€¼å¯¹è±¡</h1><p>å€¼å¯¹è±¡æ²¡æœ‰æ ‡è¯†ï¼Œè¿™æ˜¯ä¸å®ä½“çš„åŒºåˆ«ï¼Œå®ƒåªæœ‰å±æ€§è€Œä¸”ä¹Ÿæ˜¯ä¸å¯å˜çš„ï¼Œå¦‚æœéœ€è¦æ”¹å˜ï¼Œé‚£ä¹ˆå°±éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹æ¥æ›¿æ¢æ—§å®ä¾‹ã€‚</p><h1 id="èšåˆ"><a href="#èšåˆ" class="headerlink" title="èšåˆ"></a>èšåˆ</h1><p>èšåˆå®šä¹‰äº†ä¸€ä¸ªæˆ–å¤šä¸ªå®ä½“çš„ä¸€è‡´æ€§è¾¹ç•Œï¼Œä¸€ä¸ªèšåˆåŒ…å«ä¸€ä¸ªæ ¹å®ä½“ï¼Œå¯ä»¥ä½¿ç”¨è¿‡å®ä½“çš„æ ‡è¯†ç¬¦æ‰§è¡ŒæŸ¥æ‰¾ï¼Œèšåˆçš„ä½œç”¨æ˜¯ä¸ºäº†äº‹åŠ¡çš„ä¸å˜æ€§å»ºæ¨¡ï¼Œç°å®ä¸­çš„æ“ä½œæ˜¯å¤æ‚çš„ï¼Œä¸€æ¬¡åŠ¨ä½œå¯èƒ½åŒ…å«äº†å¤šä¸ªå®ä½“çš„å˜æ›´ï¼Œä¹Ÿå°±æ˜¯ä¸ºäº†æ•°æ®ä¸€è‡´æ€§çš„æ“ä½œï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå¼Šç«¯å°±æ˜¯åœ¨åˆ†å¸ƒå¼åº”ç”¨ä¸­é€šå¸¸æ˜¯ä¸å¯è¡Œçš„ï¼Œ</p><p>ç»™å¯ä»¥åŒ…å«å•ä¸ªå®ä½“ä¸”ä¸åŒ…å«å­å®ä½“ï¼Œèšåˆçš„å®šä¹‰ç”±äº‹åŠ¡è¾¹ç•Œç¡®å®šã€‚</p><h1 id="é¢†åŸŸæœåŠ¡å’Œåº”ç”¨æœåŠ¡"><a href="#é¢†åŸŸæœåŠ¡å’Œåº”ç”¨æœåŠ¡" class="headerlink" title="é¢†åŸŸæœåŠ¡å’Œåº”ç”¨æœåŠ¡"></a>é¢†åŸŸæœåŠ¡å’Œåº”ç”¨æœåŠ¡</h1><p>åœ¨DDDçš„è®¾è®¡ä¸­ï¼ŒæœåŠ¡æ˜¯å®ç°æŸç§é€»è¾‘ä¸”ä¸ä¿å­˜ä»»ä½•çŠ¶æ€çš„å¯¹è±¡ï¼Œè¿™ä¸ªç†è§£ä¸ºä¸­é—´çš„ä¸­è½¬ï¼Œä¾‹å¦‚é¥­åº—çš„æœåŠ¡å‘˜ï¼ŒæœåŠ¡å‘˜æ¥äº†ï¼Œç‚¹é¤ï¼ŒæœåŠ¡å‘˜å¸¦ç€è®¢å•åˆ°åå¨äº¤ç»™å…¶ä»–äººå¤„ç†ã€‚</p><h1 id="é¢†åŸŸäº‹ä»¶"><a href="#é¢†åŸŸäº‹ä»¶" class="headerlink" title="é¢†åŸŸäº‹ä»¶"></a>é¢†åŸŸäº‹ä»¶</h1><p>å‘ç”ŸæŸç§æƒ…å†µçš„æ—¶å€™ï¼Œä½¿ç”¨é¢†åŸŸäº‹ä»¶æ¥é€šçŸ¥ç»™å…¶ä»–çš„éƒ¨ä»¶ï¼Œæ¯”å¦‚åœ¨<code>è¡¨ä¸­æ’å…¥ä¸€æ¡è®°å½•ä¸æ˜¯é¢†åŸŸäº‹ä»¶</code>ï¼Œä½†æ˜¯<code>è®¢å•å–æ¶ˆæ˜¯é¢†åŸŸäº‹ä»¶</code>ã€‚</p><h1 id="DDD-ç›¸æ¯”-MVC"><a href="#DDD-ç›¸æ¯”-MVC" class="headerlink" title="DDD ç›¸æ¯” MVC"></a>DDD ç›¸æ¯” MVC</h1><table><thead><tr><th>MVC</th><th>DDD</th></tr></thead><tbody><tr><td>è§£å†³åº”ç”¨ç¨‹åºç»“æ„çš„é—®é¢˜</td><td>è§£å†³ä¸šåŠ¡å¤æ‚åº¦çš„é—®é¢˜</td></tr><tr><td>é€‚ç”¨äºæ¯”è¾ƒç®€å•çš„ä¸šåŠ¡é€»è¾‘</td><td>é€‚ç”¨äºæ¯”è¾ƒå¤æ‚çš„ä¸šåŠ¡é€»è¾‘</td></tr><tr><td>è‡ªä¸Šè€Œä¸‹çš„è®¾è®¡ï¼Œä»ç”¨æˆ·ç•Œé¢åˆ°æ•°æ®å­˜å‚¨ï¼Œå¼ºè°ƒåˆ†å±‚å¼€å‘</td><td>è‡ªä¸‹è€Œä¸Šçš„è®¾è®¡ï¼Œä»ä¸šåŠ¡å»ºæ¨¡å‡ºå‘åˆ°åº”ç”¨å’ŒåŸºç¡€è®¾æ–½ï¼Œå¼ºè°ƒçš„æ˜¯é¢†åŸŸé©±åŠ¨å¼€å‘</td></tr><tr><td>è®²ç³»ç»Ÿåˆ†ä¸ºæ¨¡å‹ã€è§†å›¾ã€æ§åˆ¶å™¨ï¼Œå‰åç«¯åˆ†ç¦»</td><td>å°†ç³»ç»Ÿåˆ†ä¸ºé¢†åŸŸå±‚ã€åº”ç”¨å±‚ã€åŸºç¡€è®¾æ–½å±‚ã€ç”¨æˆ·æ¥å£å±‚ã€å¼ºè°ƒä¸šåŠ¡é€»è¾‘ä¸æŠ€æœ¯å¾è™é¢çš„åˆ†ç¦»</td></tr><tr><td>ä¸€èˆ¬è®¾è®¡ä¸­MVCä¸­çš„å®ä½“æˆ–è€…æ¨¡å‹éƒ½æ˜¯è´«è¡€æ¨¡å¼(åªæœ‰å±æ€§)</td><td>å®ä½“æˆ–è€…æ¨¡å‹ä¸­é‡‡ç”¨å……è¡€è®¾è®¡ï¼ˆæœ‰å±æ€§ï¼Œæœ‰æ–¹æ³•ï¼‰</td></tr></tbody></table><h1 id="å¦‚ä½•é€‰æ‹©"><a href="#å¦‚ä½•é€‰æ‹©" class="headerlink" title="å¦‚ä½•é€‰æ‹©"></a>å¦‚ä½•é€‰æ‹©</h1><p>å¹¶ä¸æ˜¯DDDä¸€å®šæ¯”MVCå¥½ï¼Œè€Œæ˜¯è¦æ ¹æ®ä¸šåŠ¡åœºæ™¯ä¹Ÿæˆæœ¬æ¥é€‰æ‹©ï¼Œæˆ‘ä¸ªäººè®¤ä¸ºï¼ŒDDDé€šå¸¸æ¥è®²ï¼Œæ—¶é—´æˆæœ¬ã€äººåŠ›æˆæœ¬å’Œå­¦ä¹ æˆæœ¬éƒ½æ˜¯é«˜äºMVCçš„ï¼Œå‰æœŸæˆ˜æœ¯è®¾è®¡é˜¶æ®µå°±éœ€è¦äººåŠ›å’Œæ—¶é—´æ¥å¯¹ä¸šåŠ¡è¿›è¡Œå»ºæ¨¡æ¥ç¡®å®šè¾¹ç•Œï¼Œè¿›è¡Œè®¾è®¡ï¼Œè€ŒMVCåˆ™å¯ä»¥é€šè¿‡ç”¨æˆ·çš„äº¤äº’æ–¹å¼æ¥ç›´æ¥åšè®¾è®¡ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;DDDæ˜¯é¢†åŸŸï¼ˆDomainï¼‰é©±åŠ¨ï¼ˆDrivenï¼‰è®¾è®¡ï¼ˆDesignï¼‰çš„ç®€å†™ï¼Œæ˜¯ä¸€ç§æˆ˜ç•¥è®¾è®¡ï¼Œå…ˆç»˜åˆ¶ä¸šåŠ¡é¢†åŸŸçš„å…³ç³»å›¾ï¼ŒåŒæ—¶å®šä¹‰ä¸æ¨¡å‹çš„è¾¹ç•Œä¸Šä¸‹æ–‡ã€‚&lt;/p&gt;
&lt;h1 id=&quot;å®ä½“&quot;&gt;&lt;a href=&quot;#å®ä½“&quot; class=&quot;headerlink&quot; title=&quot;å®ä½“&quot;&gt;&lt;/a&gt;</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="æ¦‚å¿µ" scheme="https://oujun.work/tags/%E6%A6%82%E5%BF%B5/"/>
    
    <category term="DDD" scheme="https://oujun.work/tags/DDD/"/>
    
  </entry>
  
  <entry>
    <title>MVCæ˜¯ä»€ä¹ˆ</title>
    <link href="https://oujun.work/2024/06/11/mvc.html"/>
    <id>https://oujun.work/2024/06/11/mvc.html</id>
    <published>2024-06-11T01:00:00.000Z</published>
    <updated>2024-06-11T01:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç»å¸¸æåˆ°çš„MVCï¼Œå¤§å®¶éƒ½çŸ¥é“çš„æ˜¯ï¼ŒMï¼ˆModelï¼‰Vï¼ˆViewï¼‰C(Controller)çš„ç¼©å†™ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯æ¨¡å‹-è§†å›¾-æ§åˆ¶å™¨ï¼Œæ˜¯ç”¨æ¥å¼€å‘webåº”ç”¨çš„æ¡†æ¶ï¼Œè¿™æ ·çš„è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†å®ç°å…³æ³¨ç‚¹åˆ†ç¦»ï¼Œé‚£ä¹ˆå…³æ³¨ç‚¹åˆ†ç¦»åˆæ˜¯ä»€ä¹ˆï¼Ÿ</p><h1 id="å…³æ³¨ç‚¹åˆ†ç¦»"><a href="#å…³æ³¨ç‚¹åˆ†ç¦»" class="headerlink" title="å…³æ³¨ç‚¹åˆ†ç¦»"></a>å…³æ³¨ç‚¹åˆ†ç¦»</h1><p>å…³æ³¨ç‚¹åˆ†ç¦»æ˜¯ä¸€ç§å¼€å‘æ—¶çš„æŒ‡å¯¼ï¼Œå®ƒä¸»å¼ äº†æ›´æ”¹æ ¹æ®è½¯ä»¶æ‰§è¡Œçš„å·¥ä½œç±»å‹å°†è½¯ä»¶è¿›è¡Œåˆ†ç¦»ï¼Œæ‘˜æŠ„å¾®è½¯ä½“ç³»ç»“æ„åŸåˆ™ï¼Œæ—¶è¿™æ ·å†™çš„<br>&#96;<br>åˆ†ç¦»å…³æ³¨ç‚¹æ˜¯å¼€å‘æ—¶çš„æŒ‡å¯¼åŸåˆ™ã€‚ æ­¤åŸåˆ™ä¸»å¼ åº”æ ¹æ®è½¯ä»¶æ‰§è¡Œçš„å·¥ä½œç±»å‹å°†è½¯ä»¶åˆ†ç¦»ã€‚ ä¾‹å¦‚ï¼Œå‡è®¾åº”ç”¨ç¨‹åºä¸­åŒ…å«ä¸¤ä¸ªé€»è¾‘ï¼Œå…¶ä¸­ä¸€ä¸ªé€»è¾‘æ ‡è¯†è¦æ˜¾ç¤ºç»™ç”¨æˆ·çš„æ³¨æ„äº‹é¡¹ï¼Œå¦ä¸€ä¸ªä»¥ç‰¹å®šæ–¹å¼è®¾ç½®è¿™äº›æ³¨æ„äº‹é¡¹çš„æ ¼å¼ï¼Œä½¿å…¶æ›´åŠ æ˜¾çœ¼ã€‚ è´Ÿè´£é€‰æ‹©ä¸ºå“ªäº›äº‹é¡¹è®¾ç½®æ ¼å¼çš„è¡Œä¸ºåº”ä¸è´Ÿè´£è®¾ç½®æ ¼å¼çš„è¡Œä¸ºåŒºåˆ†å¼€ï¼Œå› ä¸ºè¿™ä¸¤ç§è¡Œä¸ºåªæ˜¯ç¢°å·§å½¼æ­¤ç›¸å…³è”çš„ç‹¬ç«‹å…³æ³¨ç‚¹ã€‚</p><p>ä»ä½“ç³»ç»“æ„ä¸Šæ¥è¯´ï¼ŒæŒ‰æ­¤åŸåˆ™æœ‰é€»è¾‘åœ°æ„å»ºåº”ç”¨ç¨‹åºåº”å°†æ ¸å¿ƒä¸šåŠ¡è¡Œä¸ºä¸åŸºç¡€ç»“æ„åŠç”¨æˆ·ç•Œé¢é€»è¾‘åŒºåˆ†å¼€ã€‚ ç†æƒ³æƒ…å†µä¸‹ï¼Œä¸šåŠ¡è§„åˆ™å’Œé€»è¾‘åº”å•ç‹¬ä½äºä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œä¸”è¯¥é¡¹ç›®ä¸ä¾èµ–äºåº”ç”¨ç¨‹åºä¸­çš„å…¶ä»–é¡¹ç›®ã€‚ æ­¤åŒºåˆ†æ“ä½œå¯å¸®åŠ©ç¡®ä¿è¯¥ä¸šåŠ¡æ¨¡å‹æ˜“äºæµ‹è¯•ï¼Œä¸”å¯åœ¨ä¸ä¸ä½çº§åˆ«å®ç°è¯¦ç»†ä¿¡æ¯ç´§å¯†è€¦åˆçš„æƒ…å†µä¸‹é€æ­¥æ”¹è¿›ï¼ˆå¦‚æœåŸºç¡€ç»“æ„é—®é¢˜å–å†³äºä¸šåŠ¡å±‚ä¸­å®šä¹‰çš„æŠ½è±¡æ—¶ï¼Œè¿™ä¹Ÿæœ‰å¸®åŠ©ï¼‰ã€‚ åœ¨åº”ç”¨ç¨‹åºä½“ç³»ç»“æ„çš„ä½¿ç”¨å±‚èƒŒåï¼Œå…³æ³¨ç‚¹åˆ†ç¦»æ˜¯æ ¸å¿ƒè®¾è®¡æ€æƒ³ã€‚<br>&#96;</p><h1 id="å›åˆ°MVC"><a href="#å›åˆ°MVC" class="headerlink" title="å›åˆ°MVC"></a>å›åˆ°MVC</h1><p>ä»¥æˆ‘é€šä¿—çš„ç†è§£ï¼ŒViewï¼ˆè§†å›¾ï¼‰æ˜¯ä¸ç”¨æˆ·äº¤äº’çš„å±‚é¢ï¼Œä¹Ÿå°±æ˜¯å‰ç«¯çš„éƒ¨åˆ†ï¼ŒModelï¼ˆæ¨¡å‹ï¼‰å°±æ˜¯å‰ç«¯æ‰€éœ€è¦çš„å­—æ®µã€‚Controllerï¼ˆæ§åˆ¶å™¨ï¼‰å°±æ˜¯ä¸å‰ç«¯éƒ¨åˆ†è¿›è¡Œæ•™è‚²çš„webapiï¼Œå½“ç„¶åç«¯ä¸æ•°æ®åº“äº¤äº’çš„éƒ¨åˆ†ä¾ç„¶æœ‰Modelï¼Œæ‰€ä»¥å°±æ˜¯ï¼Œæ•°æ®åº“-&gt;åç«¯å¤„ç†-&gt;åç«¯Model-&gt;Controller-&gt;å‰ç«¯Model-&gt;Viewã€‚</p><p>è§†å›¾å’Œæ§åˆ¶å™¨éƒ½æ˜¯ä¾èµ–æ¨¡å‹çš„ï¼Œä½†æ˜¯<code>æ¨¡å‹æ˜¯ç‹¬ç«‹çš„ï¼Œæ—¢ä¸ä¾èµ–è§†å›¾ï¼Œä¹Ÿä¸ä¼šä¾èµ–æ§åˆ¶å™¨</code>ï¼Œè¿™æ ·ä¹Ÿå±äºä¸€ç§å‰åç«¯åˆ†ç¦»çš„è¡¨ç°ï¼Œå› ä¸ºéƒ½å¯ä»¥è¿›è¡Œç‹¬ç«‹çš„æµ‹è¯•äº†ã€‚</p><h2 id="æ¨¡å‹çš„è´£ä»»"><a href="#æ¨¡å‹çš„è´£ä»»" class="headerlink" title="æ¨¡å‹çš„è´£ä»»"></a>æ¨¡å‹çš„è´£ä»»</h2><p>æ¨¡å‹çš„è¡¨ç°ï¼Œæ˜¯<code>åº”ç”¨ç¨‹åº</code>å’Œä»»ä½•<code>åº”ç”±å…¶æ‰§è¡Œçš„ä¸šåŠ¡é€»è¾‘</code>æˆ–è€…<code>æ“ä½œçš„çŠ¶æ€</code>ã€‚è¿™é‡Œè§£é‡Šä¸€ä¸‹ä»€ä¹ˆå«<code>ä¸šåŠ¡é€»è¾‘</code>å’Œ<code>æ“ä½œçŠ¶æ€</code>ï¼Œä¸šåŠ¡é€»è¾‘å°±æ˜¯æ¥å£ã€æ–¹æ³•ï¼Œå«æ³•ä¸ä¸€ä½†æ˜¯éƒ½ä¸€æ ·ï¼Œé€»è¾‘åŒ…å«äº†è®¡ç®—ï¼Œå¤„ç†ç­‰åŠ¨ä½œï¼›æ“ä½œçŠ¶æ€å°±æ˜¯å±æ€§ï¼Œå±æ€§ä¼šäº§ç”Ÿå˜åŒ–ï¼Œå¯ä»¥æ¨è¿›ä¸šåŠ¡ï¼›æ–¹æ³•ï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰å¯¹å±æ€§ï¼ˆæ“ä½œçŠ¶æ€ï¼‰æ–°å‹æ“ä½œï¼Œæ¥å®Œæˆç‰¹å®šçš„ä¸šåŠ¡ã€‚ä½†æ˜¯åœ¨è®¾è®¡çš„æ—¶å€™ï¼Œä¸€èˆ¬æ¥è®²éƒ½æ˜¯å°†ä¸šåŠ¡é€»è¾‘å’Œæ“ä½œçŠ¶æ€åˆ†ç¦»çš„ï¼Œç¡®ä¿ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯é‡ç”¨æ€§ã€‚è¿™é‡Œå°±æ¶‰åŠåˆ°å……è¡€æ¨¡å¼å’Œè´«è¡€æ¨¡å¼çš„é—®é¢˜äº†ï¼Œä½†æ˜¯è·Ÿäººè®¤ä¸ºï¼Œå®é™…æƒ…å†µåº”è¯¥æ ¹æ®åœºæ™¯å’Œæ¶æ„æ¨¡å¼ä»¥åŠä¸šåŠ¡éœ€æ±‚è¿›è¡Œä¸åŒçš„å¤„ç†ã€‚</p><h2 id="è§†å›¾çš„è´£ä»»"><a href="#è§†å›¾çš„è´£ä»»" class="headerlink" title="è§†å›¾çš„è´£ä»»"></a>è§†å›¾çš„è´£ä»»</h2><p>å°±æ˜¯ç»™ç”¨æˆ·å±•ç¤ºçš„å†…å®¹ï¼Œç”¨æˆ·é€šè¿‡è§†å›¾æ¥å¯¹ä¸šåŠ¡è¿›è¡Œäº¤äº’ã€åŠ¨ä½œï¼Œè¾¾åˆ°å¯¹ä¸šåŠ¡å¤„ç†çš„ç›®çš„ã€‚</p><h2 id="æ§åˆ¶å™¨çš„è´£ä»»"><a href="#æ§åˆ¶å™¨çš„è´£ä»»" class="headerlink" title="æ§åˆ¶å™¨çš„è´£ä»»"></a>æ§åˆ¶å™¨çš„è´£ä»»</h2><p>ç”¨æˆ·é€šè¿‡è§†å›¾è¿›è¡Œäº†æ“ä½œï¼Œé‚£ä¹ˆæ“ä½œçš„ä¸šåŠ¡é€»è¾‘ä¸çŠ¶æ€å°±é€šè¿‡æ¨¡å‹ä¼ é€’ç»™æ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨å†é€šè¿‡ç”¨æˆ·çš„åŠ¨ä½œå¯¹ä¸šåŠ¡é€»è¾‘ä¸æ“ä½œçŠ¶æ€è¿›è¡Œå¤„ç†å¹¶åé¦ˆç»™ç”¨æˆ·ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ç»å¸¸æåˆ°çš„MVCï¼Œå¤§å®¶éƒ½çŸ¥é“çš„æ˜¯ï¼ŒMï¼ˆModelï¼‰Vï¼ˆViewï¼‰C(Controller)çš„ç¼©å†™ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯æ¨¡å‹-è§†å›¾-æ§åˆ¶å™¨ï¼Œæ˜¯ç”¨æ¥å¼€å‘webåº”ç”¨çš„æ¡†æ¶ï¼Œè¿™æ ·çš„è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†å®ç°å…³æ³¨ç‚¹åˆ†ç¦»ï¼Œé‚£ä¹ˆå…³æ³¨ç‚¹åˆ†ç¦»åˆæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;h1 id=&quot;å…³æ³¨ç‚¹åˆ†ç¦»&quot;&gt;&lt;a href=</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="æ¦‚å¿µ" scheme="https://oujun.work/tags/%E6%A6%82%E5%BF%B5/"/>
    
    <category term="MVC" scheme="https://oujun.work/tags/MVC/"/>
    
  </entry>
  
  <entry>
    <title>çŒ«å›½å»ºè®¾è€…ä½œå¼Š</title>
    <link href="https://oujun.work/2024/01/22/%E7%8C%AB%E5%9B%BD%E5%BB%BA%E8%AE%BE%E8%80%85%E4%BD%9C%E5%BC%8A.html"/>
    <id>https://oujun.work/2024/01/22/%E7%8C%AB%E5%9B%BD%E5%BB%BA%E8%AE%BE%E8%80%85%E4%BD%9C%E5%BC%8A.html</id>
    <published>2024-01-22T01:08:16.000Z</published>
    <updated>2024-08-07T12:24:54.443Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä¿®æ”¹èµ„æº"><a href="#ä¿®æ”¹èµ„æº" class="headerlink" title="ä¿®æ”¹èµ„æº"></a>ä¿®æ”¹èµ„æº</h1><p>ç”¨æµè§ˆå™¨ç©æ¸¸æˆçš„æ—¶å€™ï¼ŒæŒ‰F12ï¼Œè¿›å…¥æµè§ˆå™¨çš„æ§åˆ¶å°ï¼ŒçŒ«å›½å»ºè®¾è€…è¿è¡Œçš„æ—¶å€™æ˜¯JavaScriptè„šæœ¬çš„ï¼Œå…¶èµ·æºéƒ½åœ¨<code>this.gamePage.resPool</code>å¯¹è±¡ä¸­ï¼Œç›´æ¥è¾“å‡ºå°±èƒ½çœ‹åˆ°èµ„æºçš„ç›¸å…³å±æ€§å’Œå€¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹å®ƒç›´æ¥è¿›è¡Œä¿®æ”¹ï¼Œä¾‹å¦‚ä¿®æ”¹èµ„æºæ•°é‡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">resources</span>.<span class="hljs-property">length</span>;i++)<br>&#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">resources</span>[i].<span class="hljs-property">unlocked</span>==<span class="hljs-literal">true</span>)<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-title function_">get</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">resources</span>[i].<span class="hljs-property">name</span>).<span class="hljs-property">value</span>+=<span class="hljs-number">9999999999999999999999999999999999999999999999999999999999999999999</span><br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œä¸ºäº†æ¸¸æˆä½“éªŒï¼Œåšäº†èµ„æºæ˜¯å¦å·²ç»è§£é”çš„é™åˆ¶<code>.unlocked==true</code>,é˜²æ­¢ç›´æ¥åˆ·å‡ºæ‰€æœ‰èµ„æºï¼Œ<code>.value+=9999999999999999999999999999999999999999999999999999999999999999999</code>è¿™é‡Œå¯ä»¥è¿›è¡Œä¿®æ”¹å¢åŠ å¤šå°‘æˆ–è€…æ˜¯èµ„æº&#x3D;å¤šå°‘<code>.value=9999999999999999999999999999999999999999999999999999999999999999999</code></p><p>æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå°±æ˜¯å°†èµ„æºä¿®æ”¹åˆ°å½“å‰é™åˆ¶çš„æœ€å¤§å€¼çš„æ–¹æ³•ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå¼Šç«¯ï¼Œå°±æ˜¯å·¥åŠé‡Œçš„ä¸€äº›èµ„æºä¼šå˜æˆ0ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">resources</span>.<span class="hljs-property">length</span>;i++)<br>&#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">resources</span>[i].<span class="hljs-property">unlocked</span>==<span class="hljs-literal">true</span>)<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-title function_">get</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">resources</span>[i].<span class="hljs-property">name</span>).<span class="hljs-property">value</span>=<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">resources</span>[i].<span class="hljs-property">maxValue</span><br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ä¿®æ”¹å»ºç­‘æ•°é‡"><a href="#ä¿®æ”¹å»ºç­‘æ•°é‡" class="headerlink" title="ä¿®æ”¹å»ºç­‘æ•°é‡"></a>ä¿®æ”¹å»ºç­‘æ•°é‡</h1><p><strong>ä¸å»ºè®®ä½¿ç”¨</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">game</span>.<span class="hljs-property">bld</span>.<span class="hljs-property">meta</span>[<span class="hljs-number">0</span>].<span class="hljs-property">meta</span>.<span class="hljs-property">length</span>;i++)<br>&#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">game</span>.<span class="hljs-property">bld</span>.<span class="hljs-property">meta</span>[<span class="hljs-number">0</span>].<span class="hljs-property">meta</span>[i].<span class="hljs-property">unlocked</span>==<span class="hljs-literal">true</span>)<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">game</span>.<span class="hljs-property">bld</span>.<span class="hljs-property">meta</span>[<span class="hljs-number">0</span>].<span class="hljs-property">meta</span>[i].<span class="hljs-property">on</span>+=<span class="hljs-number">100</span><br>        <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">game</span>.<span class="hljs-property">bld</span>.<span class="hljs-property">meta</span>[<span class="hljs-number">0</span>].<span class="hljs-property">meta</span>[i].<span class="hljs-property">togglable</span>==<span class="hljs-literal">true</span>)<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">game</span>.<span class="hljs-property">bld</span>.<span class="hljs-property">meta</span>[<span class="hljs-number">0</span>].<span class="hljs-property">meta</span>[i].<span class="hljs-property">val</span>+=<span class="hljs-number">100</span><br>&#125;<br></code></pre></td></tr></table></figure><p>åŒæ ·å¢åŠ äº†å»ºç­‘æ˜¯å¦è§£é”çš„åˆ¤æ–­<code>.unlocked==true</code>,å¦‚æœè§£é”äº†ï¼Œå°±å¢åŠ 100ä¸ªï¼Œä¹Ÿå°±æ˜¯<code>.on+=100</code>;åŒæ—¶åˆ¤æ–­æ˜¯å¦æ˜¯åˆå¼€å…³çš„<code>.togglable==true</code>æœ‰çš„è¯å°±ç›´æ¥å¢åŠ <code>.val+=100</code>,å°±æ˜¯å»ºç­‘ä¸Šçš„é‚£ç§â€™100&#x2F;100â€™ã€‚</p><p>ä½†æ˜¯æœ‰ä¸€ç‚¹å°é—®é¢˜å°±æ˜¯å³ä½¿ä½ çš„èµ„æºä¸å¤Ÿï¼Œå»ºç­‘ä¾ç„¶èƒ½å‡çº§ï¼Œæ‰€ä»¥ä¸å¦‚ç›´æ¥ä¿®æ”¹æ¸¸æˆ<code>é€‰é¡¹</code>ä¸­çš„<code>æ›´å¤šè®¾ç½®</code>-<code>æ‰¹å¤„ç†æ¬¡æ•°ï¼ˆCtrl+å•å‡»ï¼‰</code>ï¼Œç„¶åæŒ‰ä½ctrlç‚¹å»ºç­‘çš„å‡çº§æ–¹å¼ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ä¿®æ”¹èµ„æº&quot;&gt;&lt;a href=&quot;#ä¿®æ”¹èµ„æº&quot; class=&quot;headerlink&quot; title=&quot;ä¿®æ”¹èµ„æº&quot;&gt;&lt;/a&gt;ä¿®æ”¹èµ„æº&lt;/h1&gt;&lt;p&gt;ç”¨æµè§ˆå™¨ç©æ¸¸æˆçš„æ—¶å€™ï¼ŒæŒ‰F12ï¼Œè¿›å…¥æµè§ˆå™¨çš„æ§åˆ¶å°ï¼ŒçŒ«å›½å»ºè®¾è€…è¿è¡Œçš„æ—¶å€™æ˜¯JavaScriptè„šæœ¬çš„ï¼Œå…¶èµ·æºéƒ½åœ¨&lt;code&gt;</summary>
      
    
    
    
    <category term="çŸ¥è¯†å‚¨å¤‡" scheme="https://oujun.work/categories/%E7%9F%A5%E8%AF%86%E5%82%A8%E5%A4%87/"/>
    
    
    <category term="æ¸¸æˆ" scheme="https://oujun.work/tags/%E6%B8%B8%E6%88%8F/"/>
    
    <category term="ä½œå¼Š" scheme="https://oujun.work/tags/%E4%BD%9C%E5%BC%8A/"/>
    
    <category term="çŒ«å›½å»ºè®¾è€…" scheme="https://oujun.work/tags/%E7%8C%AB%E5%9B%BD%E5%BB%BA%E8%AE%BE%E8%80%85/"/>
    
  </entry>
  
  <entry>
    <title>å°†å¾®ä¿¡æ–‡ä»¶å¤¹ä¸‹çš„datè½¬å›å›¾ç‰‡</title>
    <link href="https://oujun.work/2023/07/02/%E5%B0%86%E5%BE%AE%E4%BF%A1%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8B%E7%9A%84dat%E8%BD%AC%E5%9B%9E%E5%9B%BE%E7%89%87.html"/>
    <id>https://oujun.work/2023/07/02/%E5%B0%86%E5%BE%AE%E4%BF%A1%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8B%E7%9A%84dat%E8%BD%AC%E5%9B%9E%E5%9B%BE%E7%89%87.html</id>
    <published>2023-07-02T01:24:00.000Z</published>
    <updated>2023-07-02T01:24:00.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br>into_path = <span class="hljs-string">r&#x27;E:\Documents\WeChat Files\luacloud\FileStorage\Image\\&#x27;</span>[:-<span class="hljs-number">1</span>]  <span class="hljs-comment">#è¯·å°†æƒ³å¯¼å…¥çš„datæ–‡ä»¶çš„è·¯å¾„å¤åˆ¶åˆ°å¼•å·é‡Œé¢ï¼Œä¿®æ”¹æ­¤å¤„ä»£ç </span><br>out_path = <span class="hljs-string">r&quot;D:\WeixinImages\\&quot;</span>[:-<span class="hljs-number">1</span>]  <span class="hljs-comment">#è¿è¡Œä»£ç å‰è®°å¾—ä¿®æ”¹å¯¼å‡ºè·¯å¾„</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">imageDecode</span>(<span class="hljs-params">f, fn</span>):<br>    dat_read = <span class="hljs-built_in">open</span>(f, <span class="hljs-string">&quot;rb&quot;</span>)  <br>    xo = Format(f)  <br>    out = out_path + fn + <span class="hljs-string">&quot;.jpg&quot;</span>  <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å¯¼å‡ºæ–‡ä»¶çš„è·¯å¾„&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(out), end=<span class="hljs-string">&#x27;\n\n&#x27;</span>)<br>    png_write = <span class="hljs-built_in">open</span>(out, <span class="hljs-string">&quot;wb&quot;</span>)  <br>    dat_read.seek(<span class="hljs-number">0</span>)  <br><br>    <span class="hljs-keyword">for</span> now <span class="hljs-keyword">in</span> dat_read:  <br>        <span class="hljs-keyword">for</span> nowByte <span class="hljs-keyword">in</span> now:<br>            newByte = nowByte ^ xo  <br>            png_write.write(<span class="hljs-built_in">bytes</span>([newByte])) <br><br>    dat_read.close()<br>    png_write.close()<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">findFile</span>(<span class="hljs-params">f</span>):<br>    fsdir = os.listdir(f)  <br>    <span class="hljs-comment"># print(fsdir)</span><br>    <span class="hljs-keyword">for</span> finfo <span class="hljs-keyword">in</span> fsdir:  <br>        <span class="hljs-built_in">print</span>(into_path + finfo)<br>        fsinfo = os.listdir(into_path + finfo) <br>        <span class="hljs-keyword">for</span> fn <span class="hljs-keyword">in</span> fsinfo:  <br>            temp_path = os.path.join(into_path + finfo, fn)  <br>            <span class="hljs-keyword">if</span> os.path.isfile(temp_path):  <br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;å¯¼å…¥çš„æ–‡ä»¶è·¯å¾„æ˜¯&#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(temp_path))<br>                fn = fn[:-<span class="hljs-number">4</span>]  <br>                imageDecode(temp_path, fn)  <br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">pass</span> <br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">pass</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">Format</span>(<span class="hljs-params">f</span>):<br>    dat_r = <span class="hljs-built_in">open</span>(f, <span class="hljs-string">&quot;rb&quot;</span>)<br>    <span class="hljs-keyword">try</span>:<br>        a = [(<span class="hljs-number">0x89</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x4e</span>), (<span class="hljs-number">0x47</span>, <span class="hljs-number">0x49</span>, <span class="hljs-number">0x46</span>), (<span class="hljs-number">0xff</span>, <span class="hljs-number">0xd8</span>, <span class="hljs-number">0xff</span>)]<br>        <span class="hljs-keyword">for</span> now <span class="hljs-keyword">in</span> dat_r:<br>            <span class="hljs-keyword">for</span> xor <span class="hljs-keyword">in</span> a:<br>                i = <span class="hljs-number">0</span><br>                res = []<br>                nowg = now[:<span class="hljs-number">3</span>]<br>                <span class="hljs-keyword">for</span> nowByte <span class="hljs-keyword">in</span> nowg:<br>                    res.append(nowByte ^ xor[i])<br>                    i += <span class="hljs-number">1</span><br>                <span class="hljs-keyword">if</span> res[<span class="hljs-number">0</span>] == res[<span class="hljs-number">1</span>] == res[<span class="hljs-number">2</span>]:<br>                    <span class="hljs-keyword">return</span> res[<span class="hljs-number">0</span>]<br>    <span class="hljs-keyword">except</span>:<br>        <span class="hljs-keyword">pass</span><br>    <span class="hljs-keyword">finally</span>:<br>        dat_r.close()<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    findFile(into_path)<br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span clas</summary>
      
    
    
    
    <category term="çŸ¥è¯†å‚¨å¤‡" scheme="https://oujun.work/categories/%E7%9F%A5%E8%AF%86%E5%82%A8%E5%A4%87/"/>
    
    
    <category term="python" scheme="https://oujun.work/tags/python/"/>
    
    <category term="å¾®ä¿¡" scheme="https://oujun.work/tags/%E5%BE%AE%E4%BF%A1/"/>
    
    <category term="å›¾ç‰‡" scheme="https://oujun.work/tags/%E5%9B%BE%E7%89%87/"/>
    
    <category term="è§£å¯†" scheme="https://oujun.work/tags/%E8%A7%A3%E5%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>Linuxä¸­å¼€å¯samba</title>
    <link href="https://oujun.work/2023/06/30/Linux%E4%B8%AD%E5%BC%80%E5%90%AFsamba.html"/>
    <id>https://oujun.work/2023/06/30/Linux%E4%B8%AD%E5%BC%80%E5%90%AFsamba.html</id>
    <published>2023-06-30T06:46:09.000Z</published>
    <updated>2023-06-30T06:46:09.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ›´æ–°ä¸å®‰è£…"><a href="#æ›´æ–°ä¸å®‰è£…" class="headerlink" title="æ›´æ–°ä¸å®‰è£…"></a>æ›´æ–°ä¸å®‰è£…</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">apt update<br>apt upgrade -y<br>apt install nano samba -y<br></code></pre></td></tr></table></figure><h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><p>åˆ‡æ¢ç›®å½•åˆ°<code>/etc/samba</code>,ç¼–è¾‘é…ç½®æ–‡ä»¶<code>nano smb.conf</code>,åœ¨æ–‡ä»¶çš„æœ€åæ·»åŠ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs conf">[datacenter]<br>    comment = æè¿°<br>    path  = /è·¯å¾„<br>    guest ok = no  ;æˆ–yes<br>    browsable = no ;æˆ–yes<br>    ;write list = root<br></code></pre></td></tr></table></figure><p>ä¿å­˜åæ·»åŠ è´¦æˆ·<code>smbpasswd -a root</code>è¾“å…¥æ–°çš„å¯†ç ï¼Œç„¶åé‡å¯æœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">systemctl restart smdb<br>systemctl restart samba<br>systemctl <span class="hljs-built_in">enable</span> --now smbd<br></code></pre></td></tr></table></figure><h1 id="æ·»åŠ æ–°è´¦å·"><a href="#æ·»åŠ æ–°è´¦å·" class="headerlink" title="æ·»åŠ æ–°è´¦å·"></a>æ·»åŠ æ–°è´¦å·</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">useradd user1<br><br>smbpasswd -a user1<br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;æ›´æ–°ä¸å®‰è£…&quot;&gt;&lt;a href=&quot;#æ›´æ–°ä¸å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°ä¸å®‰è£…&quot;&gt;&lt;/a&gt;æ›´æ–°ä¸å®‰è£…&lt;/h1&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;</summary>
      
    
    
    
    <category term="å®¶åº­æœåŠ¡" scheme="https://oujun.work/categories/%E5%AE%B6%E5%BA%AD%E6%9C%8D%E5%8A%A1/"/>
    
    
    <category term="NAS" scheme="https://oujun.work/tags/NAS/"/>
    
    <category term="Jellyfin" scheme="https://oujun.work/tags/Jellyfin/"/>
    
    <category term="Proxmox VE" scheme="https://oujun.work/tags/Proxmox-VE/"/>
    
    <category term="PVE" scheme="https://oujun.work/tags/PVE/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨chatgptåšæ¶æ„è®¾è®¡</title>
    <link href="https://oujun.work/2023/03/01/%E7%94%A8chatgpt%E5%81%9A%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.html"/>
    <id>https://oujun.work/2023/03/01/%E7%94%A8chatgpt%E5%81%9A%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.html</id>
    <published>2023-03-01T15:00:00.000Z</published>
    <updated>2023-03-01T15:01:00.000Z</updated>
    
    <content type="html"><![CDATA[<p> ç”¨chatgptåšæ¶æ„è®¾è®¡</p><h1 id="ç”¨æˆ·æ•…äº‹"><a href="#ç”¨æˆ·æ•…äº‹" class="headerlink" title="ç”¨æˆ·æ•…äº‹"></a>ç”¨æˆ·æ•…äº‹</h1><blockquote><p>æˆ‘ä»¬è¦å¼€å‘ä¸€ä¸ªç³»ç»Ÿï¼Œæˆ‘ä»¬ä»ç”¨æˆ·æ•…äº‹å¼€å§‹ï¼Œéœ€è¦è®¾è®¡ä¸€ä¸ªç®¡ç†ç³»ç»Ÿçš„æ¨¡å‹ï¼Œå…¶ä¸­åŒ…æ‹¬ç”¨æˆ·è´¦å·çš„åŸºæœ¬ä¿¡æ¯å®ä½“ï¼Œæ‰‹æœºå·éªŒè¯å®ä½“ï¼Œç™»å½•è®°å½•å®ä½“ï¼Œè®¾å¤‡ç»‘å®šä¿¡æ¯å®ä½“ï¼Œç”¨æˆ·çš„è§’è‰²å®ä½“ï¼Œç”¨æˆ·çš„ç»„ç»‡æœºæ„å®ä½“ä»¥åŠå˜æ›´è®°å½•å®ä½“ã€‚</p></blockquote><hr><p>å¥½çš„ï¼Œè®©æˆ‘å¸®æ‚¨åˆ†æå’Œè®¾è®¡è¿™ä¸ªç³»ç»Ÿã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ç”¨æˆ·çš„éœ€æ±‚å’Œç”¨æˆ·æ•…äº‹ï¼Œç„¶åæ ¹æ®è¿™äº›éœ€æ±‚å’Œæ•…äº‹è®¾è®¡å®ä½“å’Œå…¶å±æ€§ã€‚åŸºäºæ‚¨æä¾›çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥è®¾è®¡å‡ºä»¥ä¸‹å®ä½“å’Œå…¶å±æ€§ï¼š</p><ol><li>ç”¨æˆ·è´¦å·å®ä½“</li></ol><ul><li>ID</li><li>ç”¨æˆ·å</li><li>å¯†ç </li><li>å§“å</li><li>ç”µå­é‚®ä»¶</li><li>åˆ›å»ºæ—¶é—´</li><li>ä¸Šæ¬¡ä¿®æ”¹æ—¶é—´</li></ul><ol start="2"><li>æ‰‹æœºå·éªŒè¯å®ä½“</li></ol><ul><li>ID</li><li>æ‰‹æœºå·</li><li>éªŒè¯ç </li><li>åˆ›å»ºæ—¶é—´</li></ul><ol start="3"><li>ç™»å½•è®°å½•å®ä½“</li></ol><ul><li>ID</li><li>ç”¨æˆ·ID</li><li>IPåœ°å€</li><li>ç™»å½•æ—¶é—´</li></ul><ol start="4"><li>è®¾å¤‡ç»‘å®šä¿¡æ¯å®ä½“</li></ol><ul><li>ID</li><li>ç”¨æˆ·ID</li><li>è®¾å¤‡åç§°</li><li>è®¾å¤‡ID</li><li>ç»‘å®šæ—¶é—´</li></ul><ol start="5"><li>ç”¨æˆ·è§’è‰²å®ä½“</li></ol><ul><li>ID</li><li>è§’è‰²åç§°<br>Â· æè¿°</li></ul><ol start="6"><li>ç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“</li></ol><ul><li>ID</li><li>ç»„ç»‡æœºæ„åç§°</li><li>æè¿°</li><li>çˆ¶èŠ‚ç‚¹ID</li></ul><ol start="7"><li>å˜æ›´è®°å½•å®ä½“</li></ol><ul><li>ID</li><li>å®ä½“åç§°</li><li>å®ä½“ID</li><li>å˜æ›´å‰å±æ€§å€¼</li><li>å˜æ›´åå±æ€§å€¼</li><li>å˜æ›´äºº</li><li>å˜æ›´æ—¶é—´</li></ul><p>ä»¥ä¸Šå®ä½“å’Œå±æ€§æ˜¯æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯è¿›è¡Œè®¾è®¡çš„ã€‚æ‚¨å¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µè¿›è¡Œè°ƒæ•´å’Œå®Œå–„ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å®ä½“ä¹‹é—´çš„å…³ç³»è®¾è®¡å‡ºæ¨¡å‹ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„æ¨¡å‹ç¤ºæ„å›¾ï¼š</p><p>åœ¨è¿™ä¸ªæ¨¡å‹ä¸­ï¼Œç”¨æˆ·è´¦å·å®ä½“æ˜¯æ ¸å¿ƒå®ä½“ï¼Œå…¶ä»–å®ä½“éƒ½æ˜¯å›´ç»•ç”¨æˆ·è´¦å·å®ä½“è€Œå»ºç«‹çš„ã€‚æ‰‹æœºå·éªŒè¯å®ä½“ã€ç™»å½•è®°å½•å®ä½“å’Œè®¾å¤‡ç»‘å®šä¿¡æ¯å®ä½“éƒ½æ˜¯ç”¨æˆ·è´¦å·çš„é™„å±ä¿¡æ¯ï¼Œç”¨æˆ·è§’è‰²å®ä½“å’Œç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“åˆ™æ˜¯ç”¨äºç®¡ç†ç”¨æˆ·è´¦å·çš„è§’è‰²å’Œç»„ç»‡æœºæ„ä¿¡æ¯ï¼Œå˜æ›´è®°å½•å®ä½“ç”¨äºè®°å½•å®ä½“å±æ€§çš„å˜æ›´å†å²ã€‚</p><p>å¸Œæœ›è¿™ä¸ªè®¾è®¡å¯ä»¥å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ã€‚</p><hr><blockquote><p>ç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“ä¸­è¿˜è¦å¢åŠ å±‚çº§ã€ç¼–å·ã€æ˜¯å¦éšè—</p></blockquote><hr><p>å¥½çš„ï¼Œæ ¹æ®æ‚¨çš„éœ€æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“çš„å±æ€§æ‰©å±•ä¸ºï¼š</p><ol><li>ç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“</li></ol><ul><li>ID</li><li>ç»„ç»‡æœºæ„åç§°</li><li>æè¿°</li><li>çˆ¶èŠ‚ç‚¹ID</li><li>å±‚çº§</li><li>ç¼–å·</li><li>æ˜¯å¦éšè—</li></ul><p>è¿™æ ·è®¾è®¡å¯ä»¥æ›´å¥½åœ°æ”¯æŒç»„ç»‡æœºæ„ä¹‹é—´çš„å±‚çº§å…³ç³»ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ç¼–å·å¿«é€Ÿå®šä½å’ŒæŸ¥æ‰¾ç»„ç»‡æœºæ„ã€‚åŒæ—¶ï¼Œæ˜¯å¦éšè—å±æ€§å¯ä»¥æ”¯æŒå¯¹æŸäº›æ•æ„Ÿçš„ç»„ç»‡æœºæ„è¿›è¡Œéšè—å’Œä¿æŠ¤ã€‚</p><hr><h1 id="æ•°æ®æ¨¡å‹"><a href="#æ•°æ®æ¨¡å‹" class="headerlink" title="æ•°æ®æ¨¡å‹"></a>æ•°æ®æ¨¡å‹</h1><blockquote><p>å¥½ï¼Œå°†ä¸Šé¢çš„è®¾è®¡è½¬åŒ–ä¸ºæ•°æ®æ¨¡å‹ï¼Œå­—æ®µä½¿ç”¨è‹±æ–‡å­—æ®µä¸ä¸­æ–‡æ³¨é‡Šï¼Œæ•°æ®åº“é‡‡ç”¨postgresqlï¼Œä½¿ç”¨markdownè¡¨æ ¼çš„å½¢å¼æ¥æè¿°è¾“å‡ºï¼Œå¹¶ç›´æ¥ç»™å‡ºmarkdownä»£ç </p></blockquote><hr><p>å¥½çš„ï¼Œä»¥ä¸‹æ˜¯æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯è®¾è®¡çš„PostgreSQLæ•°æ®åº“çš„æ•°æ®æ¨¡å‹ã€‚æ‚¨å¯ä»¥å°†ä»¥ä¸‹Markdownä»£ç å¤åˆ¶åˆ°Markdownç¼–è¾‘å™¨ä¸­è¿›è¡ŒæŸ¥çœ‹å’Œç¼–è¾‘ã€‚</p><h2 id="ç”¨æˆ·è´¦å·å®ä½“"><a href="#ç”¨æˆ·è´¦å·å®ä½“" class="headerlink" title="ç”¨æˆ·è´¦å·å®ä½“"></a>ç”¨æˆ·è´¦å·å®ä½“</h2><table><thead><tr><th>å­—æ®µå</th><th>æ•°æ®ç±»å‹</th><th>å­—æ®µæè¿°</th></tr></thead><tbody><tr><td>id</td><td>serial</td><td>ç”¨æˆ·è´¦å·ID</td></tr><tr><td>username</td><td>varchar(50)</td><td>ç”¨æˆ·å</td></tr><tr><td>password</td><td>varchar(50)</td><td>å¯†ç </td></tr><tr><td>name</td><td>varchar(50)</td><td>å§“å</td></tr><tr><td>email</td><td>varchar(50)</td><td>ç”µå­é‚®ä»¶</td></tr><tr><td>created_at</td><td>timestamp</td><td>åˆ›å»ºæ—¶é—´</td></tr><tr><td>last_modified_at</td><td>timestamp</td><td>ä¸Šæ¬¡ä¿®æ”¹æ—¶é—´</td></tr></tbody></table><h2 id="æ‰‹æœºå·éªŒè¯å®ä½“"><a href="#æ‰‹æœºå·éªŒè¯å®ä½“" class="headerlink" title="æ‰‹æœºå·éªŒè¯å®ä½“"></a>æ‰‹æœºå·éªŒè¯å®ä½“</h2><table><thead><tr><th>å­—æ®µå</th><th>æ•°æ®ç±»å‹</th><th>å­—æ®µæè¿°</th></tr></thead><tbody><tr><td>id</td><td>serial</td><td>æ‰‹æœºå·éªŒè¯ID</td></tr><tr><td>user_id</td><td>integer</td><td>ç”¨æˆ·è´¦å·ID</td></tr><tr><td>phone_number</td><td>varchar(20)</td><td>æ‰‹æœºå·</td></tr><tr><td>verification_code</td><td>varchar(10)</td><td>éªŒè¯ç </td></tr><tr><td>created_at</td><td>timestamp</td><td>åˆ›å»ºæ—¶é—´</td></tr></tbody></table><h2 id="ç™»å½•è®°å½•å®ä½“"><a href="#ç™»å½•è®°å½•å®ä½“" class="headerlink" title="ç™»å½•è®°å½•å®ä½“"></a>ç™»å½•è®°å½•å®ä½“</h2><table><thead><tr><th>å­—æ®µå</th><th>æ•°æ®ç±»å‹</th><th>å­—æ®µæè¿°</th></tr></thead><tbody><tr><td>id</td><td>serial</td><td>ç™»å½•è®°å½•ID</td></tr><tr><td>user_id</td><td>integer</td><td>ç”¨æˆ·è´¦å·ID</td></tr><tr><td>ip_address</td><td>varchar(20)</td><td>IPåœ°å€</td></tr><tr><td>login_time</td><td>timestamp</td><td>ç™»å½•æ—¶é—´</td></tr></tbody></table><h2 id="è®¾å¤‡ç»‘å®šä¿¡æ¯å®ä½“"><a href="#è®¾å¤‡ç»‘å®šä¿¡æ¯å®ä½“" class="headerlink" title="è®¾å¤‡ç»‘å®šä¿¡æ¯å®ä½“"></a>è®¾å¤‡ç»‘å®šä¿¡æ¯å®ä½“</h2><table><thead><tr><th>å­—æ®µå</th><th>æ•°æ®ç±»å‹</th><th>å­—æ®µæè¿°</th></tr></thead><tbody><tr><td>id</td><td>serial</td><td>è®¾å¤‡ç»‘å®šä¿¡æ¯ID</td></tr><tr><td>user_id</td><td>integer</td><td>ç”¨æˆ·è´¦å·ID</td></tr><tr><td>device_name</td><td>varchar(50)</td><td>è®¾å¤‡åç§°</td></tr><tr><td>device_id</td><td>varchar(50)</td><td>è®¾å¤‡ID</td></tr><tr><td>binding_time</td><td>timestamp</td><td>ç»‘å®šæ—¶é—´</td></tr></tbody></table><h2 id="ç”¨æˆ·è§’è‰²å®ä½“"><a href="#ç”¨æˆ·è§’è‰²å®ä½“" class="headerlink" title="ç”¨æˆ·è§’è‰²å®ä½“"></a>ç”¨æˆ·è§’è‰²å®ä½“</h2><table><thead><tr><th>å­—æ®µå</th><th>æ•°æ®ç±»å‹</th><th>å­—æ®µæè¿°</th></tr></thead><tbody><tr><td>id</td><td>serial</td><td>ç”¨æˆ·è§’è‰²ID</td></tr><tr><td>role_name</td><td>varchar(50)</td><td>è§’è‰²åç§°</td></tr><tr><td>description</td><td>varchar(255)</td><td>æè¿°</td></tr></tbody></table><h2 id="ç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“"><a href="#ç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“" class="headerlink" title="ç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“"></a>ç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“</h2><table><thead><tr><th>å­—æ®µå</th><th>æ•°æ®ç±»å‹</th><th>å­—æ®µæè¿°</th></tr></thead><tbody><tr><td>id</td><td>serial</td><td>ç”¨æˆ·ç»„ç»‡æœºæ„ID</td></tr><tr><td>organization_name</td><td>varchar(50)</td><td>ç»„ç»‡æœºæ„åç§°</td></tr><tr><td>description</td><td>varchar(255)</td><td>æè¿°</td></tr><tr><td>parent_id</td><td>integer</td><td>çˆ¶èŠ‚ç‚¹ID</td></tr><tr><td>level</td><td>integer</td><td>å±‚çº§</td></tr><tr><td>number</td><td>varchar(50)</td><td>ç¼–å·</td></tr><tr><td>is_hidden</td><td>boolean</td><td>æ˜¯å¦éšè—</td></tr></tbody></table><h2 id="å˜æ›´è®°å½•å®ä½“"><a href="#å˜æ›´è®°å½•å®ä½“" class="headerlink" title="å˜æ›´è®°å½•å®ä½“"></a>å˜æ›´è®°å½•å®ä½“</h2><table><thead><tr><th>å­—æ®µå</th><th>æ•°æ®ç±»å‹</th><th>å­—æ®µæè¿°</th></tr></thead><tbody><tr><td>id</td><td>serial</td><td>å˜æ›´è®°å½•ID</td></tr><tr><td>entity_name</td><td>varchar(50)</td><td>å®ä½“åç§°</td></tr><tr><td>entity_id</td><td>integer</td><td>å®ä½“ID</td></tr><tr><td>before_change_value</td><td>varchar(255)</td><td>å˜æ›´å‰å±æ€§å€¼</td></tr><tr><td>after_change_value</td><td>varchar(255)</td><td>å˜æ›´åå±æ€§å€¼</td></tr><tr><td>change_by</td><td>varchar(50)</td><td>å˜æ›´äºº</td></tr><tr><td>change_time</td><td>timestamp</td><td>å˜æ›´æ—¶é—´</td></tr></tbody></table><p>ä»¥ä¸Šæ˜¯ä¸€ä¸ªç®€å•çš„æ•°æ®æ¨¡å‹ç¤ºä¾‹ï¼Œæ‚¨å¯ä»¥æ ¹æ®å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚è¿›è¡Œè°ƒæ•´å’Œå®Œå–„ã€‚æ³¨æ„ï¼Œè¿™é‡Œé‡‡ç”¨äº†PostgreSQLçš„æ•°æ®ç±»å‹å’Œå­—æ®µå‘½åæ–¹å¼ï¼Œæ‚¨å¯ä»¥æ ¹æ®å…·ä½“çš„æ•°æ®åº“ç±»å‹å’Œè§„èŒƒè¿›è¡Œè°ƒæ•´ã€‚</p><hr><h1 id="å…³ç³»å›¾"><a href="#å…³ç³»å›¾" class="headerlink" title="å…³ç³»å›¾"></a>å…³ç³»å›¾</h1><blockquote><p>è¾“å‡ºç±»ä¹‹é—´çš„å…³ç³»å›¾ï¼Œç”¨markdownçš„æ ¼å¼ï¼Œè¾“å‡ºç¬¦åˆMermaidçš„è„šæœ¬ä»£ç </p></blockquote><hr><p>å¥½çš„ï¼Œä»¥ä¸‹æ˜¯ä½¿ç”¨Mermaidçš„è„šæœ¬ä»£ç ï¼Œç”¨Markdownè¾“å‡ºç”¨æˆ·è´¦å·å®ä½“ã€ç”¨æˆ·è§’è‰²å®ä½“ã€ç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“ä¹‹é—´çš„å…³ç³»å›¾ï¼š</p><pre><code class=" mermaid">classDiagram    Account --|&gt; PhoneNumberVerification    Account --|&gt; LoginRecord    Account --|&gt; DeviceBindingInformation    Account --* Role    Account --* Organization    Account --|&gt; ChangeRecord    class Account&#123;        +id: int        +username: string        +password: string        +name: string        +email: string        +created_at: timestamp        +last_modified_at: timestamp    &#125;    class PhoneNumberVerification&#123;        +id: int        +user_id: int        +phone_number: string        +verification_code: string        +created_at: timestamp    &#125;    class LoginRecord&#123;        +id: int        +user_id: int        +ip_address: string        +login_time: timestamp    &#125;    class DeviceBindingInformation&#123;        +id: int        +user_id: int        +device_name: string        +device_id: string        +binding_time: timestamp    &#125;    class Role&#123;        +id: int        +role_name: string        +description: string    &#125;    class Organization&#123;        +id: int        +organization_name: string        +description: string        +parent_id: int        +level: int        +number: string        +is_hidden: boolean    &#125;    class ChangeRecord&#123;        +id: int        +entity_name: string        +entity_id: int        +before_change_value: string        +after_change_value: string        +change_by: string        +change_time: timestamp    &#125;</code></pre><p>ä»¥ä¸Šæ˜¯ä¸€ä¸ªç®€å•çš„ç±»ä¹‹é—´å…³ç³»å›¾çš„ç¤ºä¾‹ï¼Œæ‚¨å¯ä»¥æ ¹æ®å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚è¿›è¡Œè°ƒæ•´å’Œå®Œå–„ã€‚æ³¨æ„ï¼Œè¿™é‡Œé‡‡ç”¨äº†Mermaidçš„è¯­æ³•ï¼Œæ‚¨éœ€è¦å°†å…¶å¤åˆ¶åˆ°Mermaidç¼–è¾‘å™¨ä¸­è¿›è¡ŒæŸ¥çœ‹å’Œç¼–è¾‘ã€‚</p><hr><h1 id="åºåˆ—å›¾"><a href="#åºåˆ—å›¾" class="headerlink" title="åºåˆ—å›¾"></a>åºåˆ—å›¾</h1><blockquote><p>å¸®æˆ‘è¾“å‡ºåºåˆ—å›¾å›¾ï¼Œç”¨markdownçš„æ ¼å¼ï¼Œè¾“å‡ºç¬¦åˆMermaidçš„è„šæœ¬ä»£ç </p></blockquote><hr><p>ä»¥ä¸‹æ˜¯ç¬¦åˆMermaidçš„è„šæœ¬ä»£ç ï¼Œç”¨äºè¾“å‡ºåºåˆ—å›¾ï¼Œæ‚¨å¯ä»¥å°†å…¶å¤åˆ¶åˆ°Mermaidç¼–è¾‘å™¨ä¸­è¿›è¡ŒæŸ¥çœ‹å’Œç¼–è¾‘ã€‚</p><pre><code class=" mermaid">sequenceDiagram    participant User    participant System    participant Database    User-&gt;&gt;+System: Login Request    System-&gt;&gt;+Database: Query User Information    Database--&gt;&gt;-System: Return User Information    alt Invalid Username or Password        System-&gt;&gt;+User: Show Error Message    else Valid Username and Password        System-&gt;&gt;+User: Show Home Page        User-&gt;&gt;+System: Browse Organization Information        System-&gt;&gt;+Database: Query Organization Information        Database--&gt;&gt;-System: Return Organization Information        System--&gt;&gt;-User: Show Organization Information    end    User-&gt;&gt;+System: Logout Request    System-&gt;&gt;+Database: Update User Status    Database--&gt;&gt;-System: Update Success    System--&gt;&gt;-User: Redirect to Login Page</code></pre><p>ä»¥ä¸Šæ˜¯ä¸€ä¸ªç®€å•çš„åºåˆ—å›¾çš„ç¤ºä¾‹ï¼Œæ¨¡æ‹Ÿäº†ç”¨æˆ·ç™»å½•ç³»ç»Ÿã€æµè§ˆç»„ç»‡æœºæ„ä¿¡æ¯å’Œé€€å‡ºç³»ç»Ÿçš„è¿‡ç¨‹ã€‚æ‚¨å¯ä»¥æ ¹æ®å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚è¿›è¡Œè°ƒæ•´å’Œå®Œå–„ã€‚æ³¨æ„ï¼Œè¿™é‡Œé‡‡ç”¨äº†Mermaidçš„è¯­æ³•ï¼Œæ‚¨éœ€è¦å°†å…¶å¤åˆ¶åˆ°Mermaidç¼–è¾‘å™¨ä¸­è¿›è¡ŒæŸ¥çœ‹å’Œç¼–è¾‘ã€‚</p><hr><h1 id="çŠ¶æ€å›¾"><a href="#çŠ¶æ€å›¾" class="headerlink" title="çŠ¶æ€å›¾"></a>çŠ¶æ€å›¾</h1><h1 id="äº§å“ç§¯å‹é¡¹"><a href="#äº§å“ç§¯å‹é¡¹" class="headerlink" title="äº§å“ç§¯å‹é¡¹"></a>äº§å“ç§¯å‹é¡¹</h1><blockquote></blockquote><p>ä½¿ç”¨æ•æ·å¼€å‘çš„å½¢å¼å¯¹è¿™ä¸ªç³»ç»Ÿè¿›è¡Œäº§å“ç§¯å‹é¡¹æ‹†è§£</p><hr><p>å¥½çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ•æ·å¼€å‘çš„å½¢å¼æ¥å¯¹è¿™ä¸ªç³»ç»Ÿè¿›è¡Œäº§å“ç§¯å‹é¡¹æ‹†è§£ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¯èƒ½çš„äº§å“ç§¯å‹é¡¹ï¼Œæ‚¨å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé€‚å½“è°ƒæ•´å’Œå®Œå–„ã€‚</p><ol><li>ç”¨æˆ·è´¦å·ç®¡ç†åŠŸèƒ½</li></ol><ul><li>ç”¨æˆ·è´¦å·çš„åˆ›å»ºã€ä¿®æ”¹ã€åˆ é™¤ç­‰åŸºæœ¬æ“ä½œ</li><li>ç”¨æˆ·å¯†ç çš„åŠ å¯†ã€è§£å¯†å’Œé‡ç½®ç­‰æ“ä½œ</li><li>ç”¨æˆ·ä¸ªäººä¿¡æ¯çš„ç¼–è¾‘å’Œå±•ç¤ºåŠŸèƒ½</li><li>ç”¨æˆ·æƒé™ç®¡ç†å’Œè§’è‰²åˆ†é…åŠŸèƒ½</li><li>ç”¨æˆ·ç™»å½•æ—¥å¿—å’Œè®¾å¤‡ç»‘å®šä¿¡æ¯çš„è®°å½•å’ŒæŸ¥è¯¢åŠŸèƒ½</li><li>ç”¨æˆ·è´¦å·å˜æ›´è®°å½•çš„è®°å½•å’ŒæŸ¥è¯¢åŠŸèƒ½</li></ul><ol start="2"><li>æ‰‹æœºå·éªŒè¯åŠŸèƒ½</li></ol><ul><li>æ‰‹æœºå·çš„éªŒè¯å’Œä¿å­˜åŠŸèƒ½</li><li>æ‰‹æœºå·çš„éªŒè¯ç å‘é€å’ŒéªŒè¯åŠŸèƒ½</li><li>æ‰‹æœºå·çš„ä¿®æ”¹å’Œåˆ é™¤åŠŸèƒ½</li></ul><ol start="3"><li>ç»„ç»‡æœºæ„ç®¡ç†åŠŸèƒ½</li></ol><ul><li>ç»„ç»‡æœºæ„çš„åˆ›å»ºã€ä¿®æ”¹ã€åˆ é™¤ç­‰åŸºæœ¬æ“ä½œ</li><li>ç»„ç»‡æœºæ„çš„å±‚çº§ç»“æ„å’Œç¼–å·çš„å±•ç¤ºå’Œç»´æŠ¤åŠŸèƒ½</li><li>ç»„ç»‡æœºæ„çš„éšè—å’Œæ˜¾ç¤ºåŠŸèƒ½</li><li>ç»„ç»‡æœºæ„æˆå‘˜çš„æ·»åŠ ã€åˆ é™¤å’ŒæŸ¥è¯¢åŠŸèƒ½</li><li>ç»„ç»‡æœºæ„å˜æ›´è®°å½•çš„è®°å½•å’ŒæŸ¥è¯¢åŠŸèƒ½</li></ul><ol start="4"><li>è§’è‰²ç®¡ç†åŠŸèƒ½</li></ol><ul><li>è§’è‰²çš„åˆ›å»ºã€ä¿®æ”¹ã€åˆ é™¤ç­‰åŸºæœ¬æ“ä½œ</li><li>è§’è‰²çš„æƒé™åˆ†é…å’Œç®¡ç†åŠŸèƒ½</li><li>è§’è‰²æˆå‘˜çš„æ·»åŠ ã€åˆ é™¤å’ŒæŸ¥è¯¢åŠŸèƒ½</li></ul><ol start="5"><li>å˜æ›´è®°å½•ç®¡ç†åŠŸèƒ½</li></ol><ul><li>ç³»ç»Ÿå„é¡¹å®ä½“çš„å˜æ›´è®°å½•çš„è®°å½•å’ŒæŸ¥è¯¢åŠŸèƒ½</li><li>å˜æ›´è®°å½•çš„å¯¼å‡ºå’Œæ‰“å°åŠŸèƒ½</li></ul><p>ä»¥ä¸Šæ˜¯ä¸€äº›å¯èƒ½çš„äº§å“ç§¯å‹é¡¹ï¼Œæ‚¨å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé€‚å½“è°ƒæ•´å’Œå®Œå–„ã€‚åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥å°†è¿™äº›ç§¯å‹é¡¹åˆ†è§£æˆæ›´å°çš„ä»»åŠ¡ï¼Œä¾¿äºå›¢é˜Ÿæˆå‘˜åä½œå’Œå®ç°æ•æ·å¼€å‘ã€‚</p><hr><h1 id="ä»»åŠ¡æ‹†è§£"><a href="#ä»»åŠ¡æ‹†è§£" class="headerlink" title="ä»»åŠ¡æ‹†è§£"></a>ä»»åŠ¡æ‹†è§£</h1><blockquote><p>å¯¹æƒ…æ™¯ç”¨æˆ·è´¦å·ç®¡ç†åŠŸèƒ½è¿›è¡Œå¼€å‘ä»»åŠ¡æ‹†è§£</p></blockquote><hr><p>å¥½çš„ï¼Œä¸‹é¢æ˜¯å¯¹æƒ…æ™¯ç”¨æˆ·è´¦å·ç®¡ç†åŠŸèƒ½è¿›è¡Œå¼€å‘ä»»åŠ¡æ‹†è§£çš„ä¸€äº›å¯èƒ½çš„ä»»åŠ¡ï¼š</p><ol><li>åˆ›å»ºç”¨æˆ·è´¦å·</li></ol><ul><li>è®¾è®¡ç”¨æˆ·è´¦å·åˆ›å»ºç•Œé¢å’Œäº¤äº’æµç¨‹</li><li>å®ç°ç”¨æˆ·è´¦å·åˆ›å»ºé€»è¾‘å’Œæ•°æ®éªŒè¯</li><li>å®ç°ç”¨æˆ·å¯†ç åŠ å¯†å’Œå­˜å‚¨é€»è¾‘</li><li>å®ç°ç”¨æˆ·æƒé™å’Œè§’è‰²åˆ†é…é€»è¾‘</li></ul><ol start="2"><li>ä¿®æ”¹ç”¨æˆ·è´¦å·</li></ol><ul><li>è®¾è®¡ç”¨æˆ·è´¦å·ç¼–è¾‘ç•Œé¢å’Œäº¤äº’æµç¨‹</li><li>å®ç°ç”¨æˆ·è´¦å·ç¼–è¾‘é€»è¾‘å’Œæ•°æ®éªŒè¯</li><li>å®ç°ç”¨æˆ·å¯†ç ä¿®æ”¹é€»è¾‘å’Œæ•°æ®éªŒè¯</li><li>å®ç°ç”¨æˆ·æƒé™å’Œè§’è‰²åˆ†é…é€»è¾‘</li></ul><ol start="3"><li>åˆ é™¤ç”¨æˆ·è´¦å·</li></ol><ul><li>è®¾è®¡ç”¨æˆ·è´¦å·åˆ é™¤ç•Œé¢å’Œäº¤äº’æµç¨‹</li><li>å®ç°ç”¨æˆ·è´¦å·åˆ é™¤é€»è¾‘å’Œæ•°æ®éªŒè¯</li><li>å®ç°ç”¨æˆ·ç›¸å…³ä¿¡æ¯ï¼ˆå¦‚ç™»å½•è®°å½•ã€è®¾å¤‡ç»‘å®šä¿¡æ¯ã€å˜æ›´è®°å½•ç­‰ï¼‰çš„åˆ é™¤é€»è¾‘</li></ul><ol start="4"><li>ç”¨æˆ·ä¸ªäººä¿¡æ¯ç®¡ç†</li></ol><ul><li>è®¾è®¡ç”¨æˆ·ä¸ªäººä¿¡æ¯ç•Œé¢å’Œäº¤äº’æµç¨‹</li><li>å®ç°ç”¨æˆ·ä¸ªäººä¿¡æ¯çš„å±•ç¤ºé€»è¾‘</li><li>å®ç°ç”¨æˆ·ä¸ªäººä¿¡æ¯çš„ç¼–è¾‘é€»è¾‘å’Œæ•°æ®éªŒè¯</li></ul><ol start="5"><li>ç”¨æˆ·æƒé™ç®¡ç†</li></ol><ul><li>è®¾è®¡ç”¨æˆ·æƒé™ç®¡ç†ç•Œé¢å’Œäº¤äº’æµç¨‹</li><li>å®ç°ç”¨æˆ·æƒé™å’Œè§’è‰²åˆ†é…é€»è¾‘</li><li>å®ç°æƒé™å’Œè§’è‰²çš„æŸ¥è¯¢å’Œåˆ é™¤é€»è¾‘</li></ul><ol start="6"><li>ç”¨æˆ·ç™»å½•æ—¥å¿—å’Œè®¾å¤‡ç»‘å®šä¿¡æ¯ç®¡ç†</li></ol><ul><li>è®¾è®¡ç”¨æˆ·ç™»å½•æ—¥å¿—å’Œè®¾å¤‡ç»‘å®šä¿¡æ¯ç•Œé¢å’Œäº¤äº’æµç¨‹</li><li>å®ç°ç”¨æˆ·ç™»å½•æ—¥å¿—å’Œè®¾å¤‡ç»‘å®šä¿¡æ¯çš„æŸ¥è¯¢å’Œåˆ é™¤é€»è¾‘</li><li>å®ç°ç™»å½•æ—¥å¿—å’Œè®¾å¤‡ç»‘å®šä¿¡æ¯çš„å¯¼å‡ºå’Œæ‰“å°é€»è¾‘</li></ul><ol start="7"><li>ç”¨æˆ·è´¦å·å˜æ›´è®°å½•ç®¡ç†</li></ol><ul><li>è®¾è®¡ç”¨æˆ·è´¦å·å˜æ›´è®°å½•ç•Œé¢å’Œäº¤äº’æµç¨‹</li><li>å®ç°ç”¨æˆ·è´¦å·å˜æ›´è®°å½•çš„æŸ¥è¯¢å’Œåˆ é™¤é€»è¾‘</li><li>å®ç°ç”¨æˆ·è´¦å·å˜æ›´è®°å½•çš„å¯¼å‡ºå’Œæ‰“å°é€»è¾‘</li></ul><p>ä»¥ä¸Šæ˜¯ä¸€äº›å¯èƒ½çš„å¼€å‘ä»»åŠ¡ï¼Œæ‚¨å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé€‚å½“è°ƒæ•´å’Œå®Œå–„ã€‚åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥å°†è¿™äº›ä»»åŠ¡è¿›ä¸€æ­¥æ‹†åˆ†ä¸ºæ›´å°çš„å­ä»»åŠ¡ï¼Œä¾¿äºå›¢é˜Ÿæˆå‘˜åä½œå’Œå®ç°æ•æ·å¼€å‘ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt; ç”¨chatgptåšæ¶æ„è®¾è®¡&lt;/p&gt;
&lt;h1 id=&quot;ç”¨æˆ·æ•…äº‹&quot;&gt;&lt;a href=&quot;#ç”¨æˆ·æ•…äº‹&quot; class=&quot;headerlink&quot; title=&quot;ç”¨æˆ·æ•…äº‹&quot;&gt;&lt;/a&gt;ç”¨æˆ·æ•…äº‹&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;æˆ‘ä»¬è¦å¼€å‘ä¸€ä¸ªç³»ç»Ÿï¼Œæˆ‘ä»¬ä»ç”¨æˆ·æ•…äº‹å¼€å§‹ï¼Œéœ€è¦è®¾è®¡ä¸€ä¸ªç®¡</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="æ¶æ„" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%9E%B6%E6%9E%84/"/>
    
    
    <category term="æ¶æ„è®¾è®¡" scheme="https://oujun.work/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"/>
    
    <category term="chatgpt" scheme="https://oujun.work/tags/chatgpt/"/>
    
  </entry>
  
  <entry>
    <title>PostgreSQLå¯¼å‡ºæ•°æ®åº“æ–‡æ¡£</title>
    <link href="https://oujun.work/2023/02/24/PostgreSQL%E5%AF%BC%E5%87%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E6%96%87%E6%A1%A3.html"/>
    <id>https://oujun.work/2023/02/24/PostgreSQL%E5%AF%BC%E5%87%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E6%96%87%E6%A1%A3.html</id>
    <published>2023-02-24T12:16:00.000Z</published>
    <updated>2023-02-24T12:16:00.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs sql">DO $$ <span class="hljs-keyword">DECLARE</span><br>tab RECORD;<br>rec RECORD;<br><span class="hljs-keyword">BEGIN</span><br><br><span class="hljs-keyword">FOR</span>  tab <span class="hljs-keyword">IN</span> <span class="hljs-keyword">SELECT</span> schemaname<span class="hljs-operator">||</span><span class="hljs-string">&#x27;.&#x27;</span><span class="hljs-operator">||</span><span class="hljs-string">&#x27;&quot;&#x27;</span><span class="hljs-operator">||</span>tablename<span class="hljs-operator">||</span><span class="hljs-string">&#x27;&quot;&#x27;</span> <span class="hljs-keyword">AS</span> &quot;TBName&quot;,t.tablename,obj_description(c.oid) <span class="hljs-keyword">AS</span> &quot;Description&quot; <span class="hljs-keyword">FROM</span> pg_tables t <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> pg_class c <span class="hljs-keyword">ON</span> t.tablename <span class="hljs-operator">=</span> c.relname <span class="hljs-keyword">WHERE</span> t.schemaname<span class="hljs-operator">=</span><span class="hljs-string">&#x27;public&#x27;</span> <span class="hljs-keyword">AND</span> t.tablename<span class="hljs-operator">!=</span><span class="hljs-string">&#x27;__EFMigrationsHistory&#x27;</span> LOOP<br>  RAISE NOTICE <span class="hljs-string">&#x27;è¡¨åï¼š%&#x27;</span>,tab.&quot;TBName&quot;;<br>RAISE NOTICE <span class="hljs-string">&#x27;&#x27;</span>;<br>RAISE NOTICE <span class="hljs-string">&#x27;&gt; %&#x27;</span>,tab.&quot;Description&quot;;<br>RAISE NOTICE <span class="hljs-string">&#x27;&#x27;</span>;<br>RAISE notice <span class="hljs-string">&#x27;| åºå· | å­—æ®µåç§° | ç±»å‹åŠé•¿åº¦ | æ˜¯å¦å¯ç©º | æ³¨é‡Š |&#x27;</span>;<br>    RAISE notice <span class="hljs-string">&#x27;|----|----|----|----|----|&#x27;</span>;<br><span class="hljs-keyword">FOR</span> rec <span class="hljs-keyword">IN</span> <span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">ROW_NUMBER</span> ( ) <span class="hljs-keyword">OVER</span> ( ) <span class="hljs-keyword">AS</span> åºå·, A.attname <span class="hljs-keyword">AS</span> å­—æ®µåç§°, format_type ( A.atttypid, A.atttypmod ) <span class="hljs-keyword">AS</span> ç±»å‹åŠé•¿åº¦, A.attnotnull <span class="hljs-keyword">AS</span> æ˜¯å¦å¯ç©º, col_description ( A.attrelid, A.attnum ) <span class="hljs-keyword">AS</span> æ³¨é‡Š <span class="hljs-keyword">FROM</span> pg_class <span class="hljs-keyword">AS</span> C, pg_attribute <span class="hljs-keyword">AS</span> A <span class="hljs-keyword">WHERE</span> C.relname <span class="hljs-operator">=</span> tab.&quot;tablename&quot; <span class="hljs-keyword">AND</span> A.attrelid <span class="hljs-operator">=</span> C.oid <span class="hljs-keyword">AND</span> A.attnum <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span><br>LOOP<br>RAISE notice <span class="hljs-string">&#x27;| % | % | % | % | % |&#x27;</span>, rec.&quot;åºå·&quot;, rec.&quot;å­—æ®µåç§°&quot;, rec.&quot;ç±»å‹åŠé•¿åº¦&quot;, rec.&quot;æ˜¯å¦å¯ç©º&quot;, rec.&quot;æ³¨é‡Š&quot;;<br><span class="hljs-keyword">END</span> LOOP;<br>RAISE NOTICE <span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">END</span> LOOP;<br><span class="hljs-keyword">END</span>;<br>$$ <span class="hljs-keyword">LANGUAGE</span> plpgsql;<br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="è¿ç»´" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="PostgreSQL" scheme="https://oujun.work/tags/PostgreSQL/"/>
    
    <category term="æ•°æ®åº“æ–‡æ¡£" scheme="https://oujun.work/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%96%87%E6%A1%A3/"/>
    
  </entry>
  
  <entry>
    <title>ElasticSearchæŸ¥è¯¢group by maxdateçš„ä¸€ä¸ªå†™æ³•</title>
    <link href="https://oujun.work/2023/02/14/ElasticSearch.01.html"/>
    <id>https://oujun.work/2023/02/14/ElasticSearch.01.html</id>
    <published>2023-02-14T02:19:02.000Z</published>
    <updated>2023-02-14T02:19:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>ElasticSearchå¦‚æœåªæ˜¯ç”¨æ¥åšæŸ¥è¯¢å½“ç„¶æ˜¯å¾ˆå¥½çš„ï¼Œä½†æ˜¯å¾€å¾€è¿˜æœ‰å¾ˆå¤šéœ€è¦ç”¨æ¥åšç»Ÿè®¡çš„åœ°æ–¹ï¼Œç„¶è€Œå¯¹äºäº†è§£ä¸æ·±çš„äººæ¥è¯´ï¼Œæœ‰äº›æŸ¥è¯¢å¾ˆéš¾å»å†™ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„ä¸€ä¸ªéœ€æ±‚æ˜¯è¿™æ ·çš„</p><table><thead><tr><th>date</th><th>exportData.äº¤æ˜“ç±»å‹</th><th>exportData.ä¸šç»©ç±»å‹.keyword</th><th>jYCode</th><th>brokerId</th><th>exportData.è®¢å•æ€»åº”æ”¶</th><th>exportData.æˆäº¤ä»·æ ¼</th><th>exportData.åˆ†è¾¹ä¸šç»©</th></tr></thead><tbody><tr><td>2022-01-02</td><td>äºŒæ‰‹</td><td>æ­£ä¸šç»©</td><td>0000001</td><td>äººå‘˜1</td><td>10086</td><td>1000000</td><td>100</td></tr><tr><td>2022-01-01</td><td>äºŒæ‰‹</td><td>æ­£ä¸šç»©</td><td>0000001</td><td>äººå‘˜1</td><td>10088</td><td>1000000</td><td>150</td></tr><tr><td>2022-01-02</td><td>äºŒæ‰‹</td><td>æ­£ä¸šç»©</td><td>0000001</td><td>äººå‘˜2</td><td>10086</td><td>1000000</td><td>8</td></tr><tr><td>2022-01-01</td><td>äºŒæ‰‹</td><td>æ­£ä¸šç»©</td><td>0000001</td><td>äººå‘˜2</td><td>10088</td><td>1000000</td><td>0.5</td></tr></tbody></table><p>ç»Ÿè®¡è¦æ±‚æ˜¯è¿™æ ·çš„ï¼Œå…ˆæŒ‰ç…§äººå‘˜ä¸ºåˆ†ç»„å•ä½ï¼Œç„¶åå°†ä¸šç»©ç´¯åŠ ï¼Œç„¶åæŒ‰ç…§æ—¶é—´å€’åºå–æœ€æ–°ä¸€æ¡çš„æ€»è®¡ï¼Œè¿™å°±æ¶‰åŠåˆ°ä¸€ä¸ªgroup by å’Œgroup by å†…éƒ¨çš„æŸ¥è¯¢ï¼Œèµ·åˆæˆ‘ç”¨äº†scripted_metricï¼Œä½†æ˜¯å½“æˆ‘å–10å¹´çš„æ•°æ®æ—¶å¦‚æœæ˜¯å•å­—æ®µè¿˜å¥½ï¼Œä½†æ˜¯éœ€æ±‚ä¸­æ¶‰åŠåˆ°20å¤šä¸ªå­—æ®µï¼Œé‚£ä¹ˆå°±æœ‰äº†æ€§èƒ½é—®é¢˜ã€‚</p><p>è€Œä¸”ç”±äºæ˜¯ ElasticSearch6.xçš„é™åˆ¶ï¼Œå¾ˆå¤š7ä»¥ä¸Šçš„æ–°APIä¹Ÿæ— æ³•ä½¿ç”¨ï¼ŒæŸ¥é˜…å¤šæ–¹èµ„æ–™åŠ ä¸ŠChatGPTè¿›è¡Œä¿®æ­£åå¾—åˆ°äº†ä¸€ä¸ªæ€§èƒ½ç›¸å¯¹å¥½ä¸€äº›çš„å†™æ³•ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><code class="hljs json">GET trans_performance_day_snapshot/_search<br><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;query&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;bool&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;must&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-punctuation">&#123;</span><br>          <span class="hljs-attr">&quot;term&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;companyId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>              <span class="hljs-attr">&quot;value&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&quot;</span><br>            <span class="hljs-punctuation">&#125;</span><br>          <span class="hljs-punctuation">&#125;</span><br>        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-punctuation">&#123;</span><br>          <span class="hljs-attr">&quot;range&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>              <span class="hljs-attr">&quot;gte&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2000-10-01&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-attr">&quot;lte&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2077-01-01&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-attr">&quot;time_zone&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;+08:00&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-attr">&quot;format&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;yyyy-MM-dd&quot;</span><br>            <span class="hljs-punctuation">&#125;</span><br>          <span class="hljs-punctuation">&#125;</span><br>        <span class="hljs-punctuation">&#125;</span><br>      <span class="hljs-punctuation">]</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;aggs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;brokerId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;terms&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;brokerId&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;size&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">99999</span><br>      <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;aggs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;brokerInfo&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>          <span class="hljs-attr">&quot;top_hits&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;size&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sort&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>              <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                  <span class="hljs-attr">&quot;order&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;desc&quot;</span><br>                <span class="hljs-punctuation">&#125;</span><br>              <span class="hljs-punctuation">&#125;</span><br>            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;_source&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>              <span class="hljs-string">&quot;userOrganization.brokerName&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-string">&quot;userOrganization.storeName&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-string">&quot;userOrganization.storeLeaderName&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-string">&quot;userOrganization.regionId&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-string">&quot;userOrganization.regionName&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-string">&quot;userOrganization.regionLeaderName&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-string">&quot;userOrganization.bigRegionId&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-string">&quot;userOrganization.bigRegionName&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-string">&quot;userOrganization.bigRegionLeaderName&quot;</span><br>            <span class="hljs-punctuation">]</span><br>          <span class="hljs-punctuation">&#125;</span><br>        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;trade&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>          <span class="hljs-attr">&quot;terms&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;exportData.äº¤æ˜“ç±»å‹.keyword&quot;</span><br>          <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>          <span class="hljs-attr">&quot;aggs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;performanceType&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>              <span class="hljs-attr">&quot;terms&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;exportData.ä¸šç»©ç±»å‹.keyword&quot;</span><br>              <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-attr">&quot;aggs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;performance&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                  <span class="hljs-attr">&quot;sum&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                    <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;exportData.åˆ†è¾¹ä¸šç»©&quot;</span><br>                  <span class="hljs-punctuation">&#125;</span><br>                <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;totalCount&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                  <span class="hljs-attr">&quot;cardinality&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                    <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jYCode&quot;</span><br>                  <span class="hljs-punctuation">&#125;</span><br>                <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;listingCommission&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">1</span> è¿™é‡Œï¼ŒæŒ‰ç…§è®¢å•ç¼–å·åˆ†ç»„<br>                  <span class="hljs-attr">&quot;terms&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                    <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jYCode&quot;</span><br>                  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                  <span class="hljs-attr">&quot;aggs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                    <span class="hljs-attr">&quot;group_by_date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">2</span> åœ¨æŒ‰ç…§æ—¶é—´åˆ†ç»„<br>                      <span class="hljs-attr">&quot;terms&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                        <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;date&quot;</span><span class="hljs-punctuation">,</span><br>                        <span class="hljs-attr">&quot;order&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                          <span class="hljs-attr">&quot;max_date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;desc&quot;</span><br>                        <span class="hljs-punctuation">&#125;</span><br>                      <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                      <span class="hljs-attr">&quot;aggs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                        <span class="hljs-attr">&quot;max_date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">3</span> èšåˆå‡ºæœ€å¤§çš„æ—¥æœŸçš„é‚£æ¡æ•°æ®<br>                          <span class="hljs-attr">&quot;max&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                            <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;date&quot;</span><br>                          <span class="hljs-punctuation">&#125;</span><br>                        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                        <span class="hljs-attr">&quot;sum_order_receivable&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">4</span> ç´¯åŠ ï¼Œä½†æ˜¯å› ä¸ºåªæœ‰ä¸€æ¡æ•°æ®ï¼Œå…¶å®å°±æ˜¯å–å€¼<br>                          <span class="hljs-attr">&quot;sum&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                            <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;exportData.è®¢å•æ€»åº”æ”¶&quot;</span><br>                          <span class="hljs-punctuation">&#125;</span><br>                        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                        <span class="hljs-attr">&quot;sum_transaction_price&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">4</span> ç´¯åŠ ï¼Œä½†æ˜¯å› ä¸ºåªæœ‰ä¸€æ¡æ•°æ®ï¼Œå…¶å®å°±æ˜¯å–å€¼<br>                          <span class="hljs-attr">&quot;sum&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                            <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;exportData.æˆäº¤ä»·æ ¼&quot;</span><br>                          <span class="hljs-punctuation">&#125;</span><br>                        <span class="hljs-punctuation">&#125;</span><br>                      <span class="hljs-punctuation">&#125;</span><br>                    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                    <span class="hljs-attr">&quot;sum_order_receivable&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">5</span> å°†è¿™é‡Œæ˜¯ä¸ºäº†å¤–å±‚çš„ç»Ÿè®¡ï¼Œè™½ç„¶ä¹Ÿæ˜¯ç´¯åŠ ï¼Œä½†æ˜¯å–å€¼ä¾ç„¶æ˜¯è®¢å•ç¼–å·ä¸­æœ€æ–°çš„é‚£æ¡æ•°æ®çš„å€¼<br>                      <span class="hljs-attr">&quot;sum_bucket&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                        <span class="hljs-attr">&quot;buckets_path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;group_by_date&gt;sum_order_receivable&quot;</span><br>                      <span class="hljs-punctuation">&#125;</span><br>                    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                    <span class="hljs-attr">&quot;sum_transaction_price&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">5</span> å°†è¿™é‡Œæ˜¯ä¸ºäº†å¤–å±‚çš„ç»Ÿè®¡ï¼Œè™½ç„¶ä¹Ÿæ˜¯ç´¯åŠ ï¼Œä½†æ˜¯å–å€¼ä¾ç„¶æ˜¯è®¢å•ç¼–å·ä¸­æœ€æ–°çš„é‚£æ¡æ•°æ®çš„å€¼<br>                      <span class="hljs-attr">&quot;sum_bucket&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                        <span class="hljs-attr">&quot;buckets_path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;group_by_date&gt;sum_transaction_price&quot;</span><br>                      <span class="hljs-punctuation">&#125;</span><br>                    <span class="hljs-punctuation">&#125;</span><br>                  <span class="hljs-punctuation">&#125;</span><br>                <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;sum_order_receivable&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">6</span> åœ¨è¿™é‡Œï¼Œæ‰æ˜¯æ˜¯æŒ‰ç…§exportData.ä¸šç»©ç±»å‹.keyword åˆ†ç»„å  å°†æ”¹äººå‘˜æ¶‰åŠåˆ°çš„æ¯ä¸ªè®¢å•ä¸­çš„æœ€æ–°ä¸€æ¡æ•°æ®ä¸­çš„å€¼ç´¯åŠ èµ·æ¥çš„å’Œ<br>                  <span class="hljs-attr">&quot;sum_bucket&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                    <span class="hljs-attr">&quot;buckets_path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;listingCommission&gt;sum_order_receivable&quot;</span><br>                  <span class="hljs-punctuation">&#125;</span><br>                <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;sum_transaction_price&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">6</span> åœ¨è¿™é‡Œï¼Œæ‰æ˜¯æ˜¯æŒ‰ç…§exportData.ä¸šç»©ç±»å‹.keyword åˆ†ç»„å å°†æ”¹äººå‘˜æ¶‰åŠåˆ°çš„æ¯ä¸ªè®¢å•ä¸­çš„æœ€æ–°ä¸€æ¡æ•°æ®ä¸­çš„å€¼ç´¯åŠ èµ·æ¥çš„å’Œ<br>                  <span class="hljs-attr">&quot;sum_bucket&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                    <span class="hljs-attr">&quot;buckets_path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;listingCommission&gt;sum_transaction_price&quot;</span><br>                  <span class="hljs-punctuation">&#125;</span><br>                <span class="hljs-punctuation">&#125;</span><br>              <span class="hljs-punctuation">&#125;</span><br>            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sum_order_receivable&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span>  ## <span class="hljs-number">7</span> åœ¨è¿™é‡Œï¼Œæ˜¯æŒ‰ç…§exportData.äº¤æ˜“ç±»å‹.keyword åˆ†ç»„åçš„ ##<span class="hljs-number">6</span> è¿™ä¸ªæ­¥éª¤çš„å€¼çš„å’Œ<br>              <span class="hljs-attr">&quot;sum_bucket&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;buckets_path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;performanceType&gt;sum_order_receivable&quot;</span><br>              <span class="hljs-punctuation">&#125;</span><br>            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sum_transaction_price&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">7</span> åœ¨è¿™é‡Œï¼Œæ˜¯æŒ‰ç…§exportData.äº¤æ˜“ç±»å‹.keyword åˆ†ç»„åçš„ ##<span class="hljs-number">6</span> è¿™ä¸ªæ­¥éª¤çš„å€¼çš„å’Œ<br>              <span class="hljs-attr">&quot;sum_bucket&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;buckets_path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;performanceType&gt;sum_transaction_price&quot;</span><br>              <span class="hljs-punctuation">&#125;</span><br>            <span class="hljs-punctuation">&#125;</span><br>          <span class="hljs-punctuation">&#125;</span><br>        <span class="hljs-punctuation">&#125;</span><br>      <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;size&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><br><span class="hljs-punctuation">&#125;</span><br><br></code></pre></td></tr></table></figure><p>ä¸Šé¢å†…å®¹çš„aggsä¸ä¹‹å¯¹åº”çš„C#éƒ¨åˆ†çš„ä»£ç å¦‚ä¸‹</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> Task&lt;AggregationDictionary&gt; <span class="hljs-title">GenerateAggregationDictionary</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> groupByName, Field field, <span class="hljs-built_in">int</span> skip, <span class="hljs-built_in">int</span> take</span>)</span><br>&#123;<br>    <span class="hljs-keyword">var</span> aggs = <span class="hljs-keyword">new</span> AggregationDictionary();<br>    <span class="hljs-keyword">await</span> _elastic.IndexPutAsync&lt;StringResponse&gt;(IndexTypeName.PerformanceDaySnapshot, <span class="hljs-string">&quot;_settings&quot;</span>, PostData.String(<span class="hljs-string">&quot;&#123;\&quot;index.max_result_window\&quot;:99999,\&quot;index.max_inner_result_window\&quot;:99999&#125;&quot;</span>));<br>    <span class="hljs-keyword">await</span> _elastic.IndexPutAsync&lt;StringResponse&gt;(<span class="hljs-string">&quot;/_cluster&quot;</span>, <span class="hljs-string">&quot;_settings&quot;</span>, PostData.String(<span class="hljs-string">&quot;&#123; \&quot;persistent\&quot;: &#123; \&quot;search.max_buckets\&quot;: 99999 &#125;&#125;&quot;</span>));<br>    <span class="hljs-keyword">var</span> c_group = <span class="hljs-keyword">new</span> AggregationDictionary<br>    &#123;<br>        &#123;<br>            <span class="hljs-string">&quot;brokerInfo&quot;</span>,<br>                <span class="hljs-keyword">new</span> TopHitsAggregation(<span class="hljs-string">&quot;brokerInfo&quot;</span>)<br>                &#123;<br>                    Size = <span class="hljs-number">1</span>,<br>                    Sort = <span class="hljs-keyword">new</span> List&lt;ISort&gt;<br>                    &#123;<br>                        <span class="hljs-keyword">new</span> SortField &#123; Field = Infer.Field&lt;PerformanceDaySnapshot&gt;(p =&gt; p.Date), Order = SortOrder.Descending &#125;<br>                    &#125;,<br>                    Source = <span class="hljs-keyword">new</span> SourceFilter<br>                    &#123;<br>                        Includes = <span class="hljs-keyword">new</span>[] &#123;<br>                            <span class="hljs-string">&quot;userOrganization.brokerName&quot;</span>,<br>                            <span class="hljs-string">&quot;userOrganization.storeId&quot;</span>,<br>                            <span class="hljs-string">&quot;userOrganization.storeName&quot;</span>,<br>                            <span class="hljs-string">&quot;userOrganization.storeLeaderName&quot;</span>,<br>                            <span class="hljs-string">&quot;userOrganization.regionId&quot;</span>,<br>                            <span class="hljs-string">&quot;userOrganization.regionName&quot;</span>,<br>                            <span class="hljs-string">&quot;userOrganization.regionLeaderName&quot;</span>,<br>                            <span class="hljs-string">&quot;userOrganization.bigRegionId&quot;</span>,<br>                            <span class="hljs-string">&quot;userOrganization.bigRegionName&quot;</span>,<br>                            <span class="hljs-string">&quot;userOrganization.bigRegionLeaderName&quot;</span><br>                        &#125;<br>                    &#125;<br>                &#125;<br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;trade&quot;</span>,<br>                <span class="hljs-keyword">new</span> TermsAggregation(<span class="hljs-string">&quot;trade&quot;</span>)<br>                &#123;<br>                    Field = <span class="hljs-keyword">new</span> Field(<span class="hljs-string">&quot;exportData.äº¤æ˜“ç±»å‹.keyword&quot;</span>),<br>                    Aggregations = <span class="hljs-keyword">new</span> TermsAggregation(<span class="hljs-string">&quot;performanceType&quot;</span>)<br>                    &#123;<br>                        Field = <span class="hljs-keyword">new</span> Field(<span class="hljs-string">&quot;exportData.ä¸šç»©ç±»å‹.keyword&quot;</span>),<br>                        Aggregations =<br>                            <span class="hljs-keyword">new</span> SumAggregation(<span class="hljs-string">&quot;performance&quot;</span>, <span class="hljs-keyword">new</span> Field(<span class="hljs-string">&quot;exportData.åˆ†è¾¹ä¸šç»©&quot;</span>)) &#123; Missing = <span class="hljs-number">0</span> &#125;<br>                            &amp;&amp; <span class="hljs-keyword">new</span> CardinalityAggregation(<span class="hljs-string">&quot;totalCount&quot;</span>, Infer.Field&lt;PerformanceDaySnapshot&gt;(f=&gt;f.JYCode))<br>                            &amp;&amp; <span class="hljs-keyword">new</span> TermsAggregation(<span class="hljs-string">&quot;listingCommission&quot;</span>)<br>                            &#123;<br>                                Field = Infer.Field&lt;PerformanceDaySnapshot&gt;(f=&gt;f.JYCode),<br>                                Aggregations = <span class="hljs-keyword">new</span> TermsAggregation(<span class="hljs-string">&quot;group_by_date&quot;</span>)<br>                                &#123;<br>                                    Field = Infer.Field&lt;PerformanceDaySnapshot&gt;(f=&gt;f.Date),<br>                                    Order = <span class="hljs-keyword">new</span> TermsOrder[]<br>                                    &#123;<br>                                        <span class="hljs-keyword">new</span> TermsOrder &#123; Key = <span class="hljs-string">&quot;max_date&quot;</span>, Order = SortOrder.Descending &#125;<br>                                    &#125;,<br>                                    Aggregations = <span class="hljs-keyword">new</span> MaxAggregation(<span class="hljs-string">&quot;max_date&quot;</span>, Infer.Field&lt;PerformanceDaySnapshot&gt;(f=&gt;f.Date))<br>                                                   &amp;&amp; <span class="hljs-keyword">new</span> SumAggregation(<span class="hljs-string">&quot;sum_order_receivable&quot;</span>, <span class="hljs-keyword">new</span> Field(<span class="hljs-string">&quot;exportData.è®¢å•æ€»åº”æ”¶&quot;</span>))<br>                                                   &amp;&amp; <span class="hljs-keyword">new</span> SumAggregation(<span class="hljs-string">&quot;sum_transaction_price&quot;</span>, <span class="hljs-keyword">new</span> Field(<span class="hljs-string">&quot;exportData.æˆäº¤ä»·æ ¼&quot;</span>))<br>                                &#125;<br>                                &amp;&amp; <span class="hljs-keyword">new</span> SumBucketAggregation(<span class="hljs-string">&quot;sum_order_receivable&quot;</span>, <span class="hljs-keyword">new</span> SingleBucketsPath(<span class="hljs-string">&quot;group_by_date&gt;sum_order_receivable&quot;</span>))<br>                                &amp;&amp; <span class="hljs-keyword">new</span> SumBucketAggregation(<span class="hljs-string">&quot;sum_transaction_price&quot;</span>, <span class="hljs-keyword">new</span> SingleBucketsPath(<span class="hljs-string">&quot;group_by_date&gt;sum_transaction_price&quot;</span>))<br>                            &#125;<br>                            &amp;&amp; <span class="hljs-keyword">new</span> SumBucketAggregation(<span class="hljs-string">&quot;commission&quot;</span>, <span class="hljs-keyword">new</span> SingleBucketsPath(<span class="hljs-string">&quot;listingCommission&gt;sum_order_receivable&quot;</span>))<br>                            &amp;&amp; <span class="hljs-keyword">new</span> SumBucketAggregation(<span class="hljs-string">&quot;transactionPrice&quot;</span>, <span class="hljs-keyword">new</span> SingleBucketsPath(<span class="hljs-string">&quot;listingCommission&gt;sum_transaction_price&quot;</span>))<br>                    &#125;<br>                &#125;<br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;c_bucket_sort&quot;</span>,<br>            <span class="hljs-keyword">new</span> BucketSortAggregation(<span class="hljs-string">&quot;c_bucket_sort&quot;</span>)<br>            &#123;<br>                From = skip, <span class="hljs-comment">//åˆ†é¡µskip</span><br>                Size = take  <span class="hljs-comment">//åˆ†é¡µtake</span><br>            &#125;<br>        &#125;<br>    &#125;;<br><br>    aggs.Add(<span class="hljs-string">&quot;item_count&quot;</span>, <span class="hljs-keyword">new</span> CardinalityAggregation(<span class="hljs-string">&quot;item_count&quot;</span>, <span class="hljs-keyword">new</span> Field(groupByName))); <span class="hljs-comment">//group by ä¸­çš„totalCount</span><br>    aggs.Add(groupByName, <span class="hljs-keyword">new</span> TermsAggregation(groupByName)<br>    &#123;<br>        Field = field,<span class="hljs-comment">//group by çš„åˆ—</span><br>        Size = <span class="hljs-number">10000</span>,<br>        Aggregations = c_group<br>    &#125;);<br>    <span class="hljs-keyword">return</span> aggs;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ElasticSearchå¦‚æœåªæ˜¯ç”¨æ¥åšæŸ¥è¯¢å½“ç„¶æ˜¯å¾ˆå¥½çš„ï¼Œä½†æ˜¯å¾€å¾€è¿˜æœ‰å¾ˆå¤šéœ€è¦ç”¨æ¥åšç»Ÿè®¡çš„åœ°æ–¹ï¼Œç„¶è€Œå¯¹äºäº†è§£ä¸æ·±çš„äººæ¥è¯´ï¼Œæœ‰äº›æŸ¥è¯¢å¾ˆéš¾å»å†™ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„ä¸€ä¸ªéœ€æ±‚æ˜¯è¿™æ ·çš„&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;date&lt;/th&gt;
&lt;th&gt;exportData</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term=".Net" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/Net/"/>
    
    <category term="å°æŠ€å·§" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/Net/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
    <category term="ElasticSearch" scheme="https://oujun.work/tags/ElasticSearch/"/>
    
    <category term="èšåˆæ¡¶" scheme="https://oujun.work/tags/%E8%81%9A%E5%90%88%E6%A1%B6/"/>
    
  </entry>
  
  <entry>
    <title>Freenowç”³è¯·çš„åŸŸåç”³è¯·letsencryptè¯ä¹¦çš„æ–¹æ³•</title>
    <link href="https://oujun.work/2022/12/23/freenom-and-letsencrypt.html"/>
    <id>https://oujun.work/2022/12/23/freenom-and-letsencrypt.html</id>
    <published>2022-12-23T06:24:02.000Z</published>
    <updated>2022-12-29T03:07:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>freenowç”³è¯·çš„åŸŸåï¼Œç›´æ¥ä½¿ç”¨è¿›è¡Œ<code>cloudflare</code>è§£ææ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ç”³è¯·è¯ä¹¦çš„æ—¶å€™å´æ— æ³•ç›´æ¥ä½¿ç”¨<code>certbot/dns-cloudflare</code>é€‰æ‹©dnsçš„æ–¹å¼ç›´æ¥é€šè¿‡apiç”³è¯·å’Œç»­æœŸã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs log">Saving debug log to /var/log/letsencrypt/letsencrypt.log<br><br>How would you like to authenticate with the ACME CA?<br>- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -<br>1: Obtain certificates using a DNS TXT record (if you are using Cloudflare for<br>DNS). (dns-cloudflare)<br>2: Spin up a temporary webserver (standalone)<br>3: Place files in webroot directory (webroot)<br>- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -<br>Select the appropriate number [1-3] then [enter] (press &#x27;c&#x27; to cancel): 1<br>Requesting a certificate for *.****.**<br>Encountered CloudFlareAPIError adding TXT record: 1038 You cannot use this API for domains with a .cf, .ga, .gq, .ml, or .tk TLD (top-level domain). To configure the DNS settings for this domain, use the Cloudflare Dashboard.<br>Error communicating with the Cloudflare API: You cannot use this API for domains with a .cf, .ga, .gq, .ml, or .tk TLD (top-level domain). To configure the DNS settings for this domain, use the Cloudflare Dashboard.<br>Ask for help or search for solutions at https://community.letsencrypt.org. See the logfile /var/log/letsencrypt/letsencrypt.log or re-run Certbot with -v for more details.<br></code></pre></td></tr></table></figure><p>åªèƒ½é€šè¿‡æ‰‹åŠ¨æ·»åŠ txtè§£æè®°å½•çš„æ–¹å¼è¿›è¡Œè¯ä¹¦ç”³è¯·ã€‚</p><p>æˆ‘é€‰æ‹©äº†ä½¿ç”¨acmeçš„ç”³è¯·æ–¹å¼è¿›è¡Œç”³è¯·ï¼Œä½†æ˜¯ä¾ç„¶æ— æ³•åšåˆ°å…¨è‡ªåŠ¨ï¼Œå› ä¸ºä¸Šé¢æåˆ°äº†ï¼Œcloudflareçš„apiä¸èƒ½å¯¹<code>.cf, .ga, .gq, .ml, or .tk TLD (top-level domain).</code>é¡¶çº§åŸŸåè¿›è¡Œapiç”³è¯·ã€‚</p><p>ç”±äºä¸å–œæ¬¢åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…ä¸œè¥¿ï¼Œæ‰€ä»¥è¿˜æ˜¯é‡‡ç”¨dockerçš„æ–¹å¼ã€‚</p><h1 id="ç¬¬ä¸€æ­¥ï¼šç¼–å†™docker-compose-yml"><a href="#ç¬¬ä¸€æ­¥ï¼šç¼–å†™docker-compose-yml" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šç¼–å†™docker-compose.yml"></a>ç¬¬ä¸€æ­¥ï¼šç¼–å†™docker-compose.yml</h1><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">version:</span> <span class="hljs-string">&quot;3&quot;</span><br><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">nginx:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">nginx:alpine</span><br>    <span class="hljs-attr">container_name:</span> <span class="hljs-string">nginx</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">TZ=Asia/Shanghai</span><br>    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;443:443&quot;</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">./config/nginx/nginx/nginx.conf:/etc/nginx/nginx.conf:ro</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">./config/nginx/nginx/conf.d:/etc/nginx/conf.d</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">./config/nginx/www/html:/usr/share/nginx/html</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">./letsencrypt/etc/:/etc/letsencrypt/</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">/dev/shm/:/dev/shm/</span><br>  <span class="hljs-attr">acme.sh:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">neilpang/acme.sh:latest</span><br>    <span class="hljs-attr">container_name:</span> <span class="hljs-string">acme.sh</span><br>    <span class="hljs-attr">command:</span> <span class="hljs-string">daemon</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">./acmeout:/acme.sh</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">./config/nginx/www/html:/www</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">./letsencrypt/etc/live:/letsencrypt</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">/var/run/docker.sock:/var/run/docker.sock</span><br></code></pre></td></tr></table></figure><p><code>nginx</code>å®¹å™¨æŒ‚è½½çš„è§£é‡Šï¼š</p><ul><li><code>./config/nginx/nginx/nginx.conf:/etc/nginx/nginx.conf:ro</code> æ˜¯é»˜è®¤çš„<code>nginx.conf</code>æ–‡ä»¶çš„æ˜ å°„</li><li><code>./config/nginx/nginx/conf.d:/etc/nginx/conf.d</code> æ˜¯ç½‘ç«™é…ç½®æ–‡ä»¶çš„è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯nginx.conf ä¸­includeéƒ¨åˆ†çš„è·¯å¾„</li><li><code>./config/nginx/www/html:/usr/share/nginx/html</code> é»˜è®¤çš„ç½‘é¡µæ–‡ä»¶å­˜æ”¾è·¯å¾„</li><li><code>./letsencrypt/etc/:/etc/letsencrypt/</code> è¯ä¹¦å­˜æ”¾è·¯å¾„</li></ul><p><code> acme.sh</code>å®¹å™¨æŒ‚è½½çš„è§£é‡Šï¼š</p><ul><li><code>./acmeout:/acme.sh</code> acme.sh æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„</li><li><code>./config/nginx/www/html:/www</code> nginxä¸­ç½‘é¡µæ–‡ä»¶çš„è·¯å¾„ï¼Œç”³è¯·è¯ä¹¦æ—¶ä½¿ç”¨<code>--webroot</code>æ–¹ä¾¿</li><li><code>- ./letsencrypt/etc/live:/letsencrypt</code> è¯ä¹¦è·¯å¾„ï¼Œæ–¹ä¾¿å­˜æ”¾</li></ul><h1 id="ç¬¬äºŒæ­¥ï¼šå¯åŠ¨å®¹å™¨"><a href="#ç¬¬äºŒæ­¥ï¼šå¯åŠ¨å®¹å™¨" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šå¯åŠ¨å®¹å™¨"></a>ç¬¬äºŒæ­¥ï¼šå¯åŠ¨å®¹å™¨</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker-compose up -d<br>docker exec acme.sh --set-default-ca --server letsencrypt<br></code></pre></td></tr></table></figure><h1 id="ç¬¬ä¸‰æ­¥ï¼šç”³è¯·è¯ä¹¦"><a href="#ç¬¬ä¸‰æ­¥ï¼šç”³è¯·è¯ä¹¦" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šç”³è¯·è¯ä¹¦"></a>ç¬¬ä¸‰æ­¥ï¼šç”³è¯·è¯ä¹¦</h1><p>ç”±äºacme.shä¸ä¼šè‡ªåŠ¨åˆ›å»ºè·¯å¾„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ç”³è¯·è¯ä¹¦å‰éœ€è¦æ‰‹åŠ¨åˆ›å»ºè·¯å¾„</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">mkdir -p ./letsencrypt/etc/live/google.åŸŸå<br></code></pre></td></tr></table></figure><p>ç„¶åå†ç”³è¯·è¯ä¹¦</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker exec acme.sh --issue -d google.åŸŸå --standalone /www --key-file /letsencrypt/google.åŸŸå/privkey.pem --fullchain-file /letsencrypt/google.åŸŸå/fullchain.pem --keylength 4096<br></code></pre></td></tr></table></figure><p>ä¸ºäº†æ–¹ä¾¿ç”³è¯·ï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªè„šæœ¬æ¥æ‰§è¡Œä¸Šé¢çš„ä¸¤ä¸ªæ­¥éª¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">mkdir -p ./letsencrypt/etc/live/$1<br>docker exec acme.sh --issue -d $1 --standalone /www --key-file /letsencrypt/$1/privkey.pem --fullchain-file /letsencrypt/$1/fullchain.pem --keylength 4096<br></code></pre></td></tr></table></figure><p>ä¿å­˜ä¸º<code>regssl.sh</code>,æˆ‘ä»¬å†ä½¿ç”¨çš„æ—¶å€™å°±å¯ä»¥<code>bash regssl.sh google.åŸŸå</code>çš„æ–¹å¼ä½¿ç”¨äº†ã€‚<br>[update] è¿™é‡Œç”³è¯·æ–¹å¼ç”¨webrootä¿®æ”¹ä¸ºstandaloneï¼Œæˆ‘æŠŠnginxçš„80ç«¯å£æ˜ å°„å»æ‰äº†ï¼Œæˆ‘çš„nginxåªå¼€æ”¾443ç«¯å£ï¼Œä»è€ŒæŠŠ80ç«¯å£ç•™ç»™acmeæ¥ä¸“é—¨ç”³è¯·è¯ä¹¦ä½¿ç”¨ã€‚</p><h1 id="ç¬¬å››æ­¥ï¼šç¼–å†™ç½‘ç«™çš„confæ–‡ä»¶"><a href="#ç¬¬å››æ­¥ï¼šç¼–å†™ç½‘ç«™çš„confæ–‡ä»¶" class="headerlink" title="ç¬¬å››æ­¥ï¼šç¼–å†™ç½‘ç«™çš„confæ–‡ä»¶"></a>ç¬¬å››æ­¥ï¼šç¼–å†™ç½‘ç«™çš„confæ–‡ä»¶</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs conf">server &#123;<br>    server_name google.åŸŸå;<br>    listen 443 ssl http2;<br>    ssl_certificate /etc/letsencrypt/live/google.åŸŸå/fullchain.pem; <br>    ssl_certificate_key /etc/letsencrypt/live/google.åŸŸå/privkey.pem; <br>    location / &#123;<br>        proxy_pass https://www.google.com;<br>        proxy_redirect https://www.google.com https://google.åŸŸå;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç„¶åé‡å¯nginx</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker restart nginx<br></code></pre></td></tr></table></figure><h1 id="ç¬¬äº”æ­¥ï¼šè®¾ç½®è‡ªåŠ¨æ›´æ–°è¯ä¹¦"><a href="#ç¬¬äº”æ­¥ï¼šè®¾ç½®è‡ªåŠ¨æ›´æ–°è¯ä¹¦" class="headerlink" title="ç¬¬äº”æ­¥ï¼šè®¾ç½®è‡ªåŠ¨æ›´æ–°è¯ä¹¦"></a>ç¬¬äº”æ­¥ï¼šè®¾ç½®è‡ªåŠ¨æ›´æ–°è¯ä¹¦</h1><p><code>crontab -e</code><br>æ·»åŠ å¦‚ä¸‹å†…å®¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cron">44 0 * * * docker exec acme.sh --cron<br></code></pre></td></tr></table></figure><h1 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h1><p>ä¸èƒ½ç”³è¯·æ³›åŸŸåè¯ä¹¦</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;freenowç”³è¯·çš„åŸŸåï¼Œç›´æ¥ä½¿ç”¨è¿›è¡Œ&lt;code&gt;cloudflare&lt;/code&gt;è§£ææ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ç”³è¯·è¯ä¹¦çš„æ—¶å€™å´æ— æ³•ç›´æ¥ä½¿ç”¨&lt;code&gt;certbot/dns-cloudflare&lt;/code&gt;é€‰æ‹©dnsçš„æ–¹å¼ç›´æ¥é€šè¿‡apiç”³è¯·å’Œç»­æœŸã€‚&lt;/p&gt;
&lt;figure cla</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="è¿ç»´" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="Freenom" scheme="https://oujun.work/tags/Freenom/"/>
    
    <category term="SSLè¯ä¹¦" scheme="https://oujun.work/tags/SSL%E8%AF%81%E4%B9%A6/"/>
    
    <category term="letsencrypt" scheme="https://oujun.work/tags/letsencrypt/"/>
    
    <category term="å…è´¹é¡¶çº§åŸŸå" scheme="https://oujun.work/tags/%E5%85%8D%E8%B4%B9%E9%A1%B6%E7%BA%A7%E5%9F%9F%E5%90%8D/"/>
    
  </entry>
  
  <entry>
    <title>C# é—ä¼ ç®—æ³•ï¼šæ–‡å­—åŒ¹é…</title>
    <link href="https://oujun.work/2022/12/06/WordMatchGeneticAlgorithm.html"/>
    <id>https://oujun.work/2022/12/06/WordMatchGeneticAlgorithm.html</id>
    <published>2022-12-06T06:06:02.000Z</published>
    <updated>2022-12-06T06:52:45.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="é—ä¼ ç®—æ³•"><a href="#é—ä¼ ç®—æ³•" class="headerlink" title="é—ä¼ ç®—æ³•"></a>é—ä¼ ç®—æ³•</h1><blockquote><p>é—ä¼ ç®—æ³•ï¼ˆGenetic Algorithmï¼ŒGAï¼‰æœ€æ—©æ˜¯ç”±ç¾å›½çš„ John hollandäº20ä¸–çºª70å¹´ä»£æå‡º,è¯¥ç®—æ³•æ˜¯æ ¹æ®å¤§è‡ªç„¶ä¸­ç”Ÿç‰©ä½“è¿›åŒ–è§„å¾‹è€Œè®¾è®¡æå‡ºçš„ã€‚æ˜¯æ¨¡æ‹Ÿè¾¾å°”æ–‡ç”Ÿç‰©è¿›åŒ–è®ºçš„è‡ªç„¶é€‰æ‹©å’Œé—ä¼ å­¦æœºç†çš„ç”Ÿç‰©è¿›åŒ–è¿‡ç¨‹çš„è®¡ç®—æ¨¡å‹ï¼Œæ˜¯ä¸€ç§é€šè¿‡æ¨¡æ‹Ÿè‡ªç„¶è¿›åŒ–è¿‡ç¨‹æœç´¢æœ€ä¼˜è§£çš„æ–¹æ³•ã€‚è¯¥ç®—æ³•é€šè¿‡æ•°å­¦çš„æ–¹å¼,åˆ©ç”¨è®¡ç®—æœºä»¿çœŸè¿ç®—,å°†é—®é¢˜çš„æ±‚è§£è¿‡ç¨‹è½¬æ¢æˆç±»ä¼¼ç”Ÿç‰©è¿›åŒ–ä¸­çš„æŸ“è‰²ä½“åŸºå› çš„äº¤å‰ã€å˜å¼‚ç­‰è¿‡ç¨‹ã€‚åœ¨æ±‚è§£è¾ƒä¸ºå¤æ‚çš„ç»„åˆä¼˜åŒ–é—®é¢˜æ—¶,ç›¸å¯¹ä¸€äº›å¸¸è§„çš„ä¼˜åŒ–ç®—æ³•,é€šå¸¸èƒ½å¤Ÿè¾ƒå¿«åœ°è·å¾—è¾ƒå¥½çš„ä¼˜åŒ–ç»“æœã€‚é—ä¼ ç®—æ³•å·²è¢«äººä»¬å¹¿æ³›åœ°åº”ç”¨äºç»„åˆä¼˜åŒ–ã€æœºå™¨å­¦ä¹ ã€ä¿¡å·å¤„ç†ã€è‡ªé€‚åº”æ§åˆ¶å’Œäººå·¥ç”Ÿå‘½ç­‰é¢†åŸŸã€‚</p><p>â€”â€”â€”â€”æ‘˜è‡ªã€Š<a href="https://baike.baidu.com/item/%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/838140">ç™¾åº¦ç™¾ç§‘</a>ã€‹</p></blockquote><p>æœ‰ä¸€ä¸ªæœ‰è¶£çš„å°è¶£é—»ï¼Œä¸€åªçŒ´å­åœ¨æ‰“å­—æœºä¸Šä¹±æ•²ï¼Œå¦‚æœå¯ä»¥æ—¶é—´æ— é™ï¼Œé‚£ä¹ˆä»–å¯èƒ½åœ¨æŸä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œæ•²å‡ºæ¥ä¸€å¥—å®Œæ•´çš„ã€Šèå£«æ¯”äºšã€‹å…¨é›†ï¼ŒçŒ´å­æ•²é”®ç›˜æœ‰éšæœºæ€§çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¢åŠ çŒ´å­çš„æ•°é‡ï¼Œå°±æœ‰å¯èƒ½ç¼©çŸ­æ—¶é—´ã€‚</p><p>æˆ‘ä»¬ä¸éœ€è¦ä¸€å¥—å®Œæ•´çš„ã€Šèå£«æ¯”äºšã€‹ï¼Œä½¿ç”¨ç¼–ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªç®€å•çš„å¥å­æ¥æ¨¡æ‹Ÿè¿™ä¸ªå®éªŒã€‚</p><h1 id="é—ä¼ ç®—æ³•çš„æ­¥éª¤"><a href="#é—ä¼ ç®—æ³•çš„æ­¥éª¤" class="headerlink" title="é—ä¼ ç®—æ³•çš„æ­¥éª¤"></a>é—ä¼ ç®—æ³•çš„æ­¥éª¤</h1><pre><code class=" mermaid">flowchart TD  A[ç¼–ç ] --&gt; B[åˆå§‹åŒ–ç§ç¾¤]  B --&gt; C[è¯„ä¼°ç§ç¾¤ä¸­çš„ä¸ªä½“é€‚åº”åº¦]  C --&gt; D[é€‰æ‹©ä¼˜ç§€ä¸ªä½“]  D --&gt; E[æ‚äº¤]  E --&gt; F[å˜å¼‚]  F --&gt; G&#123;ç§ç¾¤ä¸­çš„æœ€ä¼˜ä¸ªä½“&#125;  G -- ä¸åŒ¹é… --&gt;C  G -- å®Œå…¨åŒ¹é… --&gt;Q[ç»“æŸ]</code></pre><h1 id="åˆ›é€ çŒ´å­"><a href="#åˆ›é€ çŒ´å­" class="headerlink" title="åˆ›é€ çŒ´å­"></a>åˆ›é€ çŒ´å­</h1><p>ç§ç¾¤ä¸­çš„æ¯ä¸€ä¸ªä¸ªä½“éƒ½æ˜¯ä¸€ä¸ªçŒ´å­ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯ä¸€ä¸ªæŸ“è‰²ä½“ï¼ŒæŸ“è‰²ä½“ä¸­çš„åŸºå› ç‰‡æ®µå°±æ˜¯çŒ´å­æ•²å‡ºæ¥çš„éšæœºå­—ç¬¦ï¼Œæˆ‘ä»¬ç»™å®šäº†åŸºå› ç‰‡æ®µçš„é•¿åº¦ï¼Œè®©çŒ´å­æ¯æ¬¡åªèƒ½æ•²å‡ºè¿™äº›å­—ç¬¦ï¼Œç®—å‡ºé€‚åº”åº¦ï¼Œä¹Ÿå°±æ˜¯åŒ¹é…åº¦ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">namespace</span> <span class="hljs-title">GAConsoleApp</span>;<br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> æŸ“è‰²ä½“ï¼ˆçŒ´å­ï¼‰</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Chromosome</span><br>&#123;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> åŸºå› ç‰‡æ®µ</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">char</span>[] Genes &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> é€‚åº”åº¦</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> Fitness &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> </span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;length&quot;&gt;</span>åŸºå› é•¿åº¦<span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Chromosome</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> length</span>)</span><br>    &#123;<br>        Genes = <span class="hljs-keyword">new</span> <span class="hljs-built_in">char</span>[length];<br>    &#125;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> </span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;target&quot;&gt;</span><span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CalcFitness</span>(<span class="hljs-params">Func&lt;Chromosome, <span class="hljs-built_in">double</span>&gt; action</span>)</span><br>    &#123;<br>        Fitness = action.Invoke(<span class="hljs-keyword">this</span>);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h1 id="åˆå§‹åŒ–ç§ç¾¤"><a href="#åˆå§‹åŒ–ç§ç¾¤" class="headerlink" title="åˆå§‹åŒ–ç§ç¾¤"></a>åˆå§‹åŒ–ç§ç¾¤</h1><p>ç§ç¾¤æ•°é‡ï¼Œä¹Ÿå°±æ˜¯è¦æœ‰å¤šå°‘åªçŒ´å­ï¼Œç§ç¾¤ï¼Œå°±æ˜¯æŠŠè¿™äº›çŒ´å­éƒ½é›†ä¸­åˆ°ä¸€èµ·ï¼Œç„¶åæŠŠç§ç¾¤è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆ›å»ºå‡ºä¸€å®šæ•°é‡çš„çŒ´å­ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> ç§ç¾¤æ•°é‡</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">int</span> _populationSize;<br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> ç§ç¾¤</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">public</span> List&lt;Chromosome&gt; Population &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> DNAé•¿åº¦</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">int</span> _dnaSize;<br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> ä»åŒ¹é…åº¦ä¸­é€‰ä¸­åŒ¹é…åº¦æœ€é«˜çš„å¤šå°‘ä¸ªä½œä¸ºä¸‹ä¸€ä»£çš„çˆ¶æ¯</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">int</span> _selectionCount;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> Random random;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">char</span>[] _target;<br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> æ–‡å­—åŒ¹é…é—ä¼ ç®—æ³•</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;populationSize&quot;&gt;</span>ç§ç¾¤æ•°é‡ï¼Œè¶Šå¤šåŒ¹é…å‡ºçš„è¶Šå¿«ï¼ˆäººå¤šåŠ›é‡å¤§ï¼‰ï¼Œä½†æ˜¯é€Ÿåº¦è¶Šæ…¢ï¼ˆäººå¤šä¸å¥½ç»Ÿè®¡ï¼‰<span class="hljs-doctag">&lt;/param&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;target&quot;&gt;</span>è¦åŒ¹é…å‡ºçš„ç›®æ ‡å­—ç¬¦ä¸²<span class="hljs-doctag">&lt;/param&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;selectionCount&quot;&gt;</span>æ¯æ¬¡è¿›åŒ–é€‰å‡ºå¤šå°‘ä¸ªä½œä¸ºçˆ¶æ¯ç§ç¾¤<span class="hljs-doctag">&lt;/param&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">WordMatchGeneticAlgorithm</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> populationSize, <span class="hljs-built_in">string</span> target, <span class="hljs-built_in">int</span> selectionCount = <span class="hljs-number">50</span></span>)</span><br>&#123;<br>    _populationSize = populationSize;<br>    Population = <span class="hljs-keyword">new</span> List&lt;Chromosome&gt;();<br>    _dnaSize = target.Length;<br>    _target = target.ToArray();<br>    random = <span class="hljs-keyword">new</span> Random();<br>    _selectionCount = selectionCount;<br>    InitialPopulation();<br>&#125;<br><br><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> ç§ç¾¤åˆå§‹åŒ–</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">InitialPopulation</span>()</span><br>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; _populationSize; i++)<br>        Population.Add(<span class="hljs-keyword">new</span> Chromosome(_dnaSize)<br>        &#123;<br>            Genes = Enumerable.Range(<span class="hljs-number">0</span>, _dnaSize).Select((t, i) =&gt; Gene).ToArray()<br>        &#125;);<br>&#125;<br><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> åŸºå› </span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">private</span> <span class="hljs-built_in">char</span> Gene =&gt; (<span class="hljs-built_in">char</span>)random.Next(<span class="hljs-number">32</span>, <span class="hljs-number">127</span>);<br></code></pre></td></tr></table></figure><h1 id="è¯„ä¼°é€‚åº”åº¦"><a href="#è¯„ä¼°é€‚åº”åº¦" class="headerlink" title="è¯„ä¼°é€‚åº”åº¦"></a>è¯„ä¼°é€‚åº”åº¦</h1><p>æ–‡å­—åŒ¹é…æ˜¯é—ä¼ ç®—æ³•ä¸­æˆ‘ä¸ªäººè®¤ä¸ºæœ€ç®€å•çš„ä¸€ç§äº†ï¼Œé€‚åº”åº¦åŒ¹é…ä¹Ÿå°±æ˜¯è®©åŸºå› ç‰‡æ®µä¸æˆ‘ä»¬çš„ç›®æ ‡ç‰‡æ®µæ¯ä¸€ä¸ªä½ç½®éƒ½èƒ½å¯¹åº”ä¸Šï¼Œå¯¹åº”ä¸Šçš„æ•°é‡è¶Šå¤šï¼ŒåŒ¹é…åº¦å°±è¶Šé«˜ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> è®¡ç®—åŒ¹é…åº¦</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Chromosome&gt; <span class="hljs-title">Fitness</span>()</span><br>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; _populationSize; i++)<br>        Population[i].CalcFitness(t =&gt; t.Genes.Select((d, idx) =&gt; d == _target[idx]).Where(t =&gt; t).Count());<br>    <span class="hljs-keyword">return</span> Population;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="é€‰æ‹©"><a href="#é€‰æ‹©" class="headerlink" title="é€‰æ‹©"></a>é€‰æ‹©</h1><p> é€‰å‡ºåŒ¹é…åº¦æœ€é«˜çš„Nä¸ªä¸ªä½“ä½œä¸ºæ¥ä¸‹æ¥äº¤å‰ä½¿ç”¨çš„ç¾¤ä½“ã€‚ä¹Ÿå°±æ˜¯é€‰å‡ºçŒ´å­æ•²å‡ºæ¥çš„å­—ç¬¦é‡Œé¢ä¸ç›®æ ‡æœ€æ¥è¿‘çš„ä¸ªä½“ã€‚</p> <figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> é€‰æ‹©æœ€ä¼˜ç§ç¾¤</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Chromosome&gt; <span class="hljs-title">Selection</span>()</span><br>&#123;<br>    <span class="hljs-keyword">return</span> Fitness().OrderByDescending(t =&gt; t.Fitness).Skip(<span class="hljs-number">0</span>).Take(_selectionCount).ToList();<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="äº¤å‰"><a href="#äº¤å‰" class="headerlink" title="äº¤å‰"></a>äº¤å‰</h1><p>è¿™é‡Œé‡‡ç”¨çš„æ˜¯éšæœºå–åŸºå› ä¸­çš„æŸä¸ªç‰‡æ®µè¿›è¡Œäº¤å‰ç”Ÿæˆä¸€ä¸ªæ–°çš„ä¸ªä½“ï¼Œæ³¨é‡Šçš„éƒ¨åˆ†æ˜¯æœ‰äº›ç®—æ³•ä¸­å¸¦æœ‰è¿™ä¸ªäº¤å‰æ¦‚ç‡ï¼Œæ¨¡æ‹Ÿæ›´çœŸå®çš„è¿›åŒ–ã€‚æ‰€ä½œçš„å°±æ˜¯æŠŠçŒ´å­æ•²å‡ºæ¥çš„æœ€å¥½çš„ä¸ªä½“ä¸­éšæœºå–å‡ºä¸¤ä¸ªï¼ŒæŠŠä»–ä»¬ä¸­é—´çš„ä¸€äº›å­—ç¬¦å¯¹è°ƒæˆä¸€ä¸ªæ–°çš„å†…å®¹ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> éšæœºäº¤å‰ï¼ˆæ‚äº¤ï¼‰</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;parents&quot;&gt;</span>ç­›é€‰å‡ºçš„æœ€ä¼˜ç§ç¾¤<span class="hljs-doctag">&lt;/param&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Chromosome&gt; <span class="hljs-title">CrossOver</span>(<span class="hljs-params">List&lt;Chromosome&gt; parents</span>)</span><br>&#123;<br>    List&lt;Chromosome&gt; children = <span class="hljs-keyword">new</span>();<br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> k = <span class="hljs-number">0</span>; k &lt; _populationSize; k++)<br>    &#123;<br>        <span class="hljs-comment">//if (random.NextDouble() &lt; 0.04) //äº¤å‰æ¦‚ç‡</span><br>        <span class="hljs-comment">//&#123;</span><br>        Chromosome f = parents[random.Next(_selectionCount)];<br>        Chromosome m = parents[random.Next(_selectionCount)];<br><br>        Chromosome newChild = <span class="hljs-keyword">new</span>(_dnaSize);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; _dnaSize; i++)<br>            newChild.Genes[i] = random.Next(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>) == <span class="hljs-number">1</span> ? f.Genes[i] : m.Genes[i];<br>        children.Add(newChild);<br>        <span class="hljs-comment">//&#125;</span><br>        <span class="hljs-comment">//else</span><br>        <span class="hljs-comment">//&#123;</span><br>        <span class="hljs-comment">//    children.Add(Population[k]);</span><br>        <span class="hljs-comment">//&#125;</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> children;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="å˜å¼‚"><a href="#å˜å¼‚" class="headerlink" title="å˜å¼‚"></a>å˜å¼‚</h1><p>æˆ‘ä»¬äººä¸ºçš„æŠŠçŒ´å­æ•²å‡ºçš„å­—ç¬¦ä¸­çš„æŸä¸€ä¸ªæ¢æˆä¸€ä¸ªæ–°çš„éšæœºå­—ç¬¦ï¼Œè®©å®ƒæœ‰å‡ ç‡æ›´æ¥è¿‘æˆ‘ä»¬çš„ç›®æ ‡ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> å˜å¼‚</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;children&quot;&gt;</span>æ‚äº¤åçš„æ–°ç§ç¾¤<span class="hljs-doctag">&lt;/param&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Chromosome&gt; <span class="hljs-title">Mutation</span>(<span class="hljs-params">List&lt;Chromosome&gt; children</span>)</span><br>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; children.Count; i++)<br>        <span class="hljs-keyword">if</span> (random.NextDouble() &lt;= <span class="hljs-number">0.1</span>)<br>            children[i].Genes[random.Next(_dnaSize)] = Gene;<br>    <span class="hljs-keyword">return</span> children;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="è¿›åŒ–è¿‡ç¨‹"><a href="#è¿›åŒ–è¿‡ç¨‹" class="headerlink" title="è¿›åŒ–è¿‡ç¨‹"></a>è¿›åŒ–è¿‡ç¨‹</h1><p>è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯ï¼Œé€‰æ‹©-&gt;äº¤å‰-&gt;å˜å¼‚ã€‚ä¸æ–­çš„é‡å¤ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> è¿›åŒ–</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Evolve</span>()</span><br>&#123;<br>    <span class="hljs-keyword">var</span> parents = Selection();<br>    <span class="hljs-keyword">var</span> children = CrossOver(parents);<br>    Population = Mutation(children);<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="å®Œæ•´çš„ä»£ç "><a href="#å®Œæ•´çš„ä»£ç " class="headerlink" title="å®Œæ•´çš„ä»£ç "></a>å®Œæ•´çš„ä»£ç </h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> æ–‡å­—åŒ¹é…é—ä¼ ç®—æ³•</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">WordMatchGeneticAlgorithm</span><br>&#123;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> ç§ç¾¤æ•°é‡</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">int</span> _populationSize;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> ç§ç¾¤</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">public</span> List&lt;Chromosome&gt; Population &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> DNAé•¿åº¦</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">int</span> _dnaSize;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> ä»åŒ¹é…åº¦ä¸­é€‰ä¸­åŒ¹é…åº¦æœ€é«˜çš„å¤šå°‘ä¸ªä½œä¸ºä¸‹ä¸€ä»£çš„çˆ¶æ¯</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">int</span> _selectionCount;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> Random random;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">char</span>[] _target;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> æ–‡å­—åŒ¹é…é—ä¼ ç®—æ³•</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;populationSize&quot;&gt;</span>ç§ç¾¤æ•°é‡ï¼Œè¶Šå¤šåŒ¹é…å‡ºçš„è¶Šå¿«ï¼ˆäººå¤šåŠ›é‡å¤§ï¼‰ï¼Œä½†æ˜¯é€Ÿåº¦è¶Šæ…¢ï¼ˆäººå¤šä¸å¥½ç»Ÿè®¡ï¼‰<span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;target&quot;&gt;</span>è¦åŒ¹é…å‡ºçš„ç›®æ ‡å­—ç¬¦ä¸²<span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;selectionCount&quot;&gt;</span>æ¯æ¬¡è¿›åŒ–é€‰å‡ºå¤šå°‘ä¸ªä½œä¸ºçˆ¶æ¯ç§ç¾¤<span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">WordMatchGeneticAlgorithm</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> populationSize, <span class="hljs-built_in">string</span> target, <span class="hljs-built_in">int</span> selectionCount = <span class="hljs-number">50</span></span>)</span><br>    &#123;<br>        _populationSize = populationSize;<br>        Population = <span class="hljs-keyword">new</span> List&lt;Chromosome&gt;();<br>        _dnaSize = target.Length;<br>        _target = target.ToArray();<br>        random = <span class="hljs-keyword">new</span> Random();<br>        _selectionCount = selectionCount;<br>        InitialPopulation();<br>    &#125;<br><br><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> ç§ç¾¤åˆå§‹åŒ–</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">InitialPopulation</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; _populationSize; i++)<br>            Population.Add(<span class="hljs-keyword">new</span> Chromosome(_dnaSize)<br>            &#123;<br>                Genes = Enumerable.Range(<span class="hljs-number">0</span>, _dnaSize).Select((t, i) =&gt; Gene).ToArray()<br>            &#125;);<br>    &#125;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">char</span> Gene =&gt; (<span class="hljs-built_in">char</span>)random.Next(<span class="hljs-number">32</span>, <span class="hljs-number">127</span>);<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> è®¡ç®—åŒ¹é…åº¦</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Chromosome&gt; <span class="hljs-title">Fitness</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; _populationSize; i++)<br>            Population[i].CalcFitness(t =&gt; t.Genes.Select((d, idx) =&gt; d == _target[idx]).Where(t =&gt; t).Count());<br>        <span class="hljs-keyword">return</span> Population;<br>    &#125;<br><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> é€‰æ‹©æœ€ä¼˜ç§ç¾¤</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Chromosome&gt; <span class="hljs-title">Selection</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> Fitness().OrderByDescending(t =&gt; t.Fitness).Skip(<span class="hljs-number">0</span>).Take(_selectionCount).ToList();<br>    &#125;<br><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> éšæœºäº¤å‰ï¼ˆæ‚äº¤ï¼‰</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;parents&quot;&gt;</span>ç­›é€‰å‡ºçš„æœ€ä¼˜ç§ç¾¤<span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Chromosome&gt; <span class="hljs-title">CrossOver</span>(<span class="hljs-params">List&lt;Chromosome&gt; parents</span>)</span><br>    &#123;<br>        List&lt;Chromosome&gt; children = <span class="hljs-keyword">new</span>();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> k = <span class="hljs-number">0</span>; k &lt; _populationSize; k++)<br>        &#123;<br>            <span class="hljs-comment">//if (random.NextDouble() &lt; 0.04) //äº¤å‰æ¦‚ç‡</span><br>            <span class="hljs-comment">//&#123;</span><br>            Chromosome f = parents[random.Next(_selectionCount)];<br>            Chromosome m = parents[random.Next(_selectionCount)];<br><br>            Chromosome newChild = <span class="hljs-keyword">new</span>(_dnaSize);<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; _dnaSize; i++)<br>                newChild.Genes[i] = random.Next(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>) == <span class="hljs-number">1</span> ? f.Genes[i] : m.Genes[i];<br>            children.Add(newChild);<br>            <span class="hljs-comment">//&#125;</span><br>            <span class="hljs-comment">//else</span><br>            <span class="hljs-comment">//&#123;</span><br>            <span class="hljs-comment">//    children.Add(Population[k]);</span><br>            <span class="hljs-comment">//&#125;</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> children;<br>    &#125;<br><br><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> å˜å¼‚</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;children&quot;&gt;</span>æ‚äº¤åçš„æ–°ç§ç¾¤<span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Chromosome&gt; <span class="hljs-title">Mutation</span>(<span class="hljs-params">List&lt;Chromosome&gt; children</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; children.Count; i++)<br>            <span class="hljs-keyword">if</span> (random.NextDouble() &lt;= <span class="hljs-number">0.1</span>)<br>                children[i].Genes[random.Next(_dnaSize)] = Gene;<br>        <span class="hljs-keyword">return</span> children;<br>    &#125;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> æœ€ä¼˜è§£</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> <span class="hljs-title">Best</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">var</span> fitness = Population.OrderByDescending(x =&gt; x.Fitness).First();<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">string</span>.Concat(fitness.Genes);<br>    &#125;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> è¿›åŒ–</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Evolve</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">var</span> parents = Selection();<br>        <span class="hljs-keyword">var</span> children = CrossOver(parents);<br>        Population = Mutation(children);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="æ¨¡æ‹Ÿå¼€å§‹"><a href="#æ¨¡æ‹Ÿå¼€å§‹" class="headerlink" title="æ¨¡æ‹Ÿå¼€å§‹"></a>æ¨¡æ‹Ÿå¼€å§‹</h1><p>åˆ›å»ºä¸€ä¸ª10000åªçŒ´å­çš„ç§ç¾¤ï¼Œæ¯æ¬¡é€‰æ‹©å–1&#x2F;3çš„æœ€ä¼˜ä¸ªä½“ï¼Œè¿›è¡Œ10000æ¬¡çš„è¿›åŒ–ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Diagnostics;<br>Stopwatch stopwatch = Stopwatch.StartNew();<br><br><span class="hljs-keyword">var</span> target = <span class="hljs-string">&quot;It was the best of times, it was blurst of times (It was the best of times, it was worst of times) .&quot;</span>;<br><br>WordMatchGeneticAlgorithm ga = <span class="hljs-keyword">new</span>(<span class="hljs-number">10000</span>, target, <span class="hljs-number">10000</span> / <span class="hljs-number">3</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++)<br>&#123;<br>    <span class="hljs-keyword">var</span> gen = i + <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">var</span> best = ga.Best();<br>    <span class="hljs-keyword">if</span> (best == target)<br>    &#123;<br>        Console.WriteLine(<span class="hljs-string">$&quot;<span class="hljs-subst">&#123;gen&#125;</span>\t<span class="hljs-subst">&#123;best&#125;</span>\tæˆåŠŸ&quot;</span>);<br>        <span class="hljs-keyword">break</span>;<br>    &#125;<br>    Console.WriteLine(<span class="hljs-string">$&quot;<span class="hljs-subst">&#123;gen&#125;</span>\t<span class="hljs-subst">&#123;best&#125;</span>&quot;</span>);<br>    ga.Evolve();<br>&#125;<br>stopwatch.Stop();<br>Console.WriteLine(<span class="hljs-string">$&quot;è€—æ—¶:<span class="hljs-subst">&#123;stopwatch.ElapsedMilliseconds / <span class="hljs-number">1000.0</span>&#125;</span>ç§’&quot;</span>);<br></code></pre></td></tr></table></figure><h1 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h1><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs livescript"><span class="hljs-number">1</span>       ;`&lt;jGnQ$Jy%zTc$:aZ+f]P-*FNah1_=,PeV`N)&lt;zf*~xP!jl&#125;<span class="hljs-number">4v</span>$nYIbHN7IL&gt;W`A+E)o&gt;FXNbe15G&lt;~@Ga?eb9%<span class="hljs-number">5E</span>,dngGW6ed~<br><span class="hljs-number">2</span>       [`Ei,&lt;T6SK6N6AeY:y, !SVta&#123;[aIFRR kE;k<span class="hljs-comment">#7liT|]~+G:Pp&#125;^@h@zw%o`JmCjiJ]KUXO6OEeLJ|0V_ZjVX5vh&lt;@1FgDQ&lt;|oZP</span><br><span class="hljs-number">3</span>       .rxh)<span class="hljs-number">2</span>&#125;<span class="hljs-number">5</span>%n!$ba_EM99r)m1M7OS_=w&#123;gv[?ursgL^c4HFHIf<span class="hljs-string">&quot;I.F,2p7Z`m:p/\1\78dg 5l&amp;s6cML9zr8 1v:/L-on|ag&#125;s LYg</span><br><span class="hljs-string">4       t&amp;0PF3XF9IXb9a%&#x27;Yfs~PP+qJ &gt;&lt;mTZ&#125;ccl-zDnKxdK&lt;\Ii3q%6&gt;R`&#125;ny&#125;o!tSfhj7S-0.jU8qy(Y(]3-5I-8&gt;`txSU2Cim~&gt;\@q</span><br><span class="hljs-string">5       Ib X$d[.7JY4&amp;Ut Rm=O*Yd.m=UM&#x27;?AsM:lhl*bKlJ&lt;RIT&quot;</span>&lt;r&gt;H5M :sJ9&#123;`=gL,t<span class="hljs-string">\[D7w[4a</span> p<span class="hljs-string">&#x27;&#125;B n&lt;s73!bI0e1&#125;xJoZK&gt;\L&#125;</span><br><span class="hljs-string">6       6!l&quot;?2Mg(4BlEIC[o;*Ns]&#x27;</span> $_veeUt&lt;IzyEalQt+f&gt;!smkW (,s<span class="hljs-string">\+x6Z,KiG66swPt^(&#x27;&#125;~irLpisHdHx,8Tr-A</span> ,&#125;cn0O@Mx<span class="hljs-comment">#2</span><br><span class="hljs-number">7</span>       -u9:T <span class="hljs-number">5</span>XLOV%&gt;Lef3f(mitAc hJO@<span class="hljs-string">&#x27;N&#125; o?u\w&amp;:JC&amp;,6jfTB8dt=w;os!h#:!2&gt;+ e,0)ibk(-dtV )gfQ[e@&#x27;</span>KT7-q&gt;iX&gt;VtWY<br><span class="hljs-number">8</span>       oL-Ym%V7g/^V`ZtSjO.r<span class="hljs-comment">#C:A,p:HYhT/4RBKrR]%Q^%AAT$N &gt;r~\&quot;&quot;mFdA%nC.&gt;7r*fpeF-jN,3gIbwa,\^,Bm%UQ -oP&#123;e`) Y</span><br><span class="hljs-number">9</span>       s:o<span class="hljs-string">&quot;a5n9z1~wS&gt;UdoP&gt;v&amp;H&lt;oqp?S;|a64tyuEJz&lt;=[hiN&#123;w&#123;C&#123;\~hBKmQnhJKTc h xf5tYEOa1 q5;Qnnx%o6#,P.WE]_m&lt;k) \</span><br><span class="hljs-string">10      ItF&#x27;@/-tGe y|WttOogqX*e,jvi5 /f)gG&quot;</span>.<span class="hljs-number">7sy</span>[-D6[du3~:(yt Iws&#123;tRh|GWsz=q<span class="hljs-string">\</span> qUc]s$q:yfQs9b6ErP&#125;+<span class="hljs-keyword">of</span>/PONemcMR<br><span class="hljs-number">11</span>      N?BwEE-&lt;hf7b$(t<span class="hljs-string">\of</span> kAveUc %HG&#125;aJ co.rnsKoP?<span class="hljs-number">8xde</span>Z /WrtwOsFm`emr&amp; <span class="hljs-number">3</span>!M4Ti6;eM,rZg <span class="hljs-string">&quot;o9# EWs.&#123;%,ht]Igr)go</span><br><span class="hljs-string">12      Y``ww_[9%eVx;vtCoc Z4OVy3e:v /=O M[Mr[B of(t?4)sp(It &amp;ms Tho&gt;&lt;eQbHXv =ames/Dut*FfiVNoysU )%:t]meKX &amp;</span><br><span class="hljs-string">13      &amp;t!has[a&#125;T~bY0t df tiUzgbb[G wa3jw[qt7t[q2 &#x27;$A*s 9I&lt; wnbYtC+$9e&quot;</span>;?<span class="hljs-number">4</span>S dAme&#123;x4P  iasK:B2Jt7o4T9,~es)C~<br><span class="hljs-number">14</span>      &amp;k dalB^<span class="hljs-number">4e</span>Nbe2Sgop6+?mfgR.&amp;u uf@g~ST&lt;sgko;ptH]<span class="hljs-number">9</span>$B(<span class="hljs-number">2t</span>LP!sb<span class="hljs-string">&quot;|,jx4s% o&#125;1tfOOfT 30 nLs :o4Zt&lt;ExR0%F]sz .</span><br><span class="hljs-string">15      $1-was&#125;Jh|Nbes! ofE&gt;im0s7&#x27;<span class="hljs-subst">#tf</span>!-;/bl_rsM`iY t6me*\ottM*1? ~hj7bev[ ot tGmeDf Stewa&amp;!FoBs;\p@S;i^~sr3.</span><br><span class="hljs-string">16      y] Mayz`h3 b1at ov timeK, TeXHa^BKlX6st 6f4-d$esvdIt ,&#x27;oqthe &lt;qstck# FJmeF,oiTjTa,kw=rst 7f tPdeaTO&#123;</span><br><span class="hljs-string">17      wtlnxs*th( b^dt 11H&quot;</span>iVeA7 <span class="hljs-number">5t</span>6cBRM59u&#125;sSvTfBtlmesaB=Gsww-Vt+e.Hesg Lfp-tqbZ<span class="hljs-comment">#`it :asN&#x27;Mrst ~f&amp;yRm_6( .</span><br><span class="hljs-number">18</span>      ntWt!s HLe bdrJ opctiCe],U0t wa8jklwuIt O_ wEme8 AUt wbsK=X&#125; <span class="hljs-number">9e</span>Tr zA ji+es,^gA &#125;a/awFXstjFI B=meZ) z<br><span class="hljs-number">19</span>      IQkwas thg ueUtb<span class="hljs-string">&#x27;f tikes, 3S UaJfS5urC&quot;qef&#125;\4m]e ?It was the]b\&quot;~ oJ ti&#123;eJFMi$iwLsKmAAOt7\B timHs)/.</span><br><span class="hljs-string">20      I4Bwas the bO\tTzf 5ime&gt;, it~wT* &#123;lur*tRofntimes (&#x27;</span>t wWs <span class="hljs-number">9ne</span> be5a oD ylGes<span class="hljs-string">\</span> /H Ta$&gt;Gou*tp,fUtiBm8wy.<br><span class="hljs-number">21</span>      It wavSthe beNtjof ti.e(, <span class="hljs-literal">it</span> waApblrrs?^<span class="hljs-keyword">of</span> tgf-[ <span class="hljs-number">0</span>,t ya&#123;)Uhe se8u rf timesm;;tqna0.wo@sE YN <span class="hljs-comment">#ames)|:</span><br><span class="hljs-number">22</span>      Ir w6s th; bOs&amp; o_9time0, |J was91lur<span class="hljs-comment">#. of&gt;tqmesE(et was q?e be&#125;/ oE times,4iGLPashwdrst/]f (imes) .</span><br><span class="hljs-number">23</span>      It<span class="hljs-string">\fFs</span> t^( yOs&#125; o9%timesK]iQ8wassbluUst <span class="hljs-keyword">of</span> t`mer (st<span class="hljs-string">&#x27;was t&lt;e b&gt;sc o6 ti$\s, it ]asGworbt of tikbs) .</span><br><span class="hljs-string">24      St w+s the b-sX=of tiUds, it das &#123;lurst of 9imeH (_t was qhe best Et3timus,Tie w&amp;s&gt;worst ,&#125; tim=rP .</span><br><span class="hljs-string">25      It was tS7qbe~V=of tKmes, 8t wasp~luvst Lf tim9sD(St w$s the bes: ,@Tti/es, it wasSworstGof tiHesw .</span><br><span class="hljs-string">26      It -asIthe Mpwt ol uimeV, it was blurst of#1imesu(|t was the bhst o2 times,  t was qorst )f time1) J</span><br><span class="hljs-string">27      I] was the best of times, it was blurst of times (Itiw[sbthe best o6jtimes] it was wpIst  f tEmes) .</span><br><span class="hljs-string">28      It wa&quot; the best o&#x27;</span> tiUes, itLwOs blur6t <span class="hljs-keyword">of</span> times (IFxwas the besc <span class="hljs-keyword">of</span> yimVs, iD was worst <span class="hljs-keyword">of</span> times)A.<br><span class="hljs-number">29</span>      It was the b`*t <span class="hljs-keyword">of</span> times, itlVas blur(t <span class="hljs-keyword">of</span> tymes (ItUwas the best <span class="hljs-keyword">of</span> Eimes, <span class="hljs-literal">it</span> was wTSst <span class="hljs-keyword">of</span> :imes)Q.<br><span class="hljs-number">30</span>      It _as the best <span class="hljs-keyword">of</span> tiQes, itEwas blurst <span class="hljs-keyword">of</span> times (It was the %est <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was yorQt [f aieeg) .<br><span class="hljs-number">31</span>      It was tLe best <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was blurst <span class="hljs-keyword">of</span> times (It was the nkst <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was wonst o3 times) .<br><span class="hljs-number">32</span>      It was the best <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was blurst <span class="hljs-keyword">of</span> times (It <span class="hljs-number">6as</span> the best <span class="hljs-keyword">of</span> tiMes, <span class="hljs-literal">it</span> was worst <span class="hljs-keyword">of</span> times) .<br><span class="hljs-number">33</span>      It wab the best <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was blurst <span class="hljs-keyword">of</span> times (It was  he best <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span>[was worst <span class="hljs-keyword">of</span> times) .<br><span class="hljs-number">34</span>      It was the bestoof times, <span class="hljs-literal">it</span> was blurst <span class="hljs-keyword">of</span> times (It was the best <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was worst <span class="hljs-keyword">of</span> times) .<br><span class="hljs-number">35</span>      It was`the best <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was blurst <span class="hljs-keyword">of</span> times (It was the best <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was worst <span class="hljs-keyword">of</span> times) .<br><span class="hljs-number">36</span>      It was the best <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was blurst <span class="hljs-keyword">of</span> times (It was the best <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was worst <span class="hljs-keyword">of</span> times) .    æˆåŠŸ<br>è€—æ—¶:<span class="hljs-number">1.961</span>ç§’<br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;é—ä¼ ç®—æ³•&quot;&gt;&lt;a href=&quot;#é—ä¼ ç®—æ³•&quot; class=&quot;headerlink&quot; title=&quot;é—ä¼ ç®—æ³•&quot;&gt;&lt;/a&gt;é—ä¼ ç®—æ³•&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;é—ä¼ ç®—æ³•ï¼ˆGenetic Algorithmï¼ŒGAï¼‰æœ€æ—©æ˜¯ç”±ç¾å›½çš„ John hollandäº20</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term=".Net" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/Net/"/>
    
    <category term="ç®—æ³•" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/Net/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="C#" scheme="https://oujun.work/tags/C/"/>
    
    <category term=".net" scheme="https://oujun.work/tags/net/"/>
    
    <category term="é—ä¼ ç®—æ³•" scheme="https://oujun.work/tags/%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/"/>
    
    <category term="æ–‡å­—åŒ¹é…" scheme="https://oujun.work/tags/%E6%96%87%E5%AD%97%E5%8C%B9%E9%85%8D/"/>
    
    <category term="å¯†ç åŒ¹é…" scheme="https://oujun.work/tags/%E5%AF%86%E7%A0%81%E5%8C%B9%E9%85%8D/"/>
    
  </entry>
  
  <entry>
    <title>ä»€ä¹ˆæ˜¯å®ä½“</title>
    <link href="https://oujun.work/2022/10/26/what-is-an-entity.html"/>
    <id>https://oujun.work/2022/10/26/what-is-an-entity.html</id>
    <published>2022-10-26T03:00:00.000Z</published>
    <updated>2022-10-26T03:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å®ä½“æ˜¯ä»€ä¹ˆ"><a href="#å®ä½“æ˜¯ä»€ä¹ˆ" class="headerlink" title="å®ä½“æ˜¯ä»€ä¹ˆ"></a>å®ä½“æ˜¯ä»€ä¹ˆ</h1><p>å®ä½“æœ¬èº«å°±æ˜¯ä¸€ä¸ª<code>class</code>ï¼Œä¸€ä¸ªç±»ï¼Œåªæ˜¯å®ƒæ˜¯ä½œä¸ºä¸€ä¸ªå¯¹åº”åˆ°ç°å®ä¸­çš„å®é™…ä¸ªä½“çš„ç±»ï¼Œæ¯”å¦‚äººç±»ï¼Œæ¯”å¦‚çŒ«ï¼Œåœ¨è½¯ä»¶å¼€å‘ä¸­åˆ™å¤§å¤šå¯¹åº”çš„æ˜¯æ•°æ®åº“è¡¨ï¼Œåœ¨é¢å‘å¯¹è±¡çš„è®¾è®¡ä¸­ï¼Œæˆ‘ä»¬å¤§å¤šé…åˆäº”é¡¹åŸºæœ¬åŸåˆ™ï¼ˆSOLIDï¼‰</p><h2 id="å•ä¸€èŒè´£"><a href="#å•ä¸€èŒè´£" class="headerlink" title="å•ä¸€èŒè´£"></a>å•ä¸€èŒè´£</h2><p>å•ä¸€çš„èŒè´£ï¼Œè¿™ä¸ªäººå°±æ˜¯ä¿å®‰ã€è¿™ä¸ªäººå°±æ˜¯ä¼šè®¡ã€è¿™ä¸ªäººå°±æ˜¯ä¿æ´ï¼Œè€Œä¸æ˜¯é€šè¿‡if elseæ¥åˆ¤æ–­è¿™ä¸ªäººæ˜¯åšä»€ä¹ˆçš„ã€‚</p><h2 id="å¼€æ”¾å°é—­"><a href="#å¼€æ”¾å°é—­" class="headerlink" title="å¼€æ”¾å°é—­"></a>å¼€æ”¾å°é—­</h2><p>ç®€å•ç†è§£ï¼Œå°±æ˜¯æˆ‘ä»¬è°ƒç”¨æ–¹æ³•çš„å¯¹è±¡éƒ½æ˜¯ç”±æ¥å£åˆ›å»ºçš„ï¼Œæˆ‘ä»¬æä¾›å‡ºå»çš„æ¥å£å¯ä»¥è¢«é‡æ–°å®ç°å·²æ›¿æ¢æ¥å£çš„å®é™…å†…å®¹ï¼›æˆ–è€…æä¾›æŠ½è±¡é‡å†™çš„æ–¹å¼ã€‚</p><h1 id="é‡Œæ°æ›¿æ¢"><a href="#é‡Œæ°æ›¿æ¢" class="headerlink" title="é‡Œæ°æ›¿æ¢"></a>é‡Œæ°æ›¿æ¢</h1><h1 id="ä¾èµ–å€’ç½®"><a href="#ä¾èµ–å€’ç½®" class="headerlink" title="ä¾èµ–å€’ç½®"></a>ä¾èµ–å€’ç½®</h1><p>é¡¶éƒ¨è®¾è®¡ä¸åº”è¯¥ä¾èµ–åº•å±‚å®ç°ï¼Œè¿™ä¸ªçš„æ„æ€å°±æ˜¯é¡¶å±‚è®¾è®¡æ˜¯é”®ç›˜ï¼Œåº•å±‚å®ç°åˆ™æ˜¯æœºæ¢°é”®ç›˜ã€è†œé”®ç›˜ï¼Œ108é”®é”®ç›˜ï¼Œ87é”®é”®ç›˜ï¼›ç°æœ‰é”®ç›˜æ‰æœ‰çš„ä¸åŒç±»å‹çš„é”®ç›˜ã€‚</p><h1 id="æ¥å£éš”ç¦»"><a href="#æ¥å£éš”ç¦»" class="headerlink" title="æ¥å£éš”ç¦»"></a>æ¥å£éš”ç¦»</h1><p>è¿˜æ˜¯ç”¨ä¸Šé¢çš„é”®ç›˜ä¸¾ä¾‹å­ï¼Œé”®ç›˜çš„ä½œç”¨å°±æ˜¯æ‰“å­—ï¼Œæ‰€ä»¥æä¾›çš„æ¥å£ä¹Ÿå°±æ˜¯æ‰“å­—çš„åŠŸèƒ½ï¼Œè‡³äºæœºæ¢°é”®ç›˜çš„å¯æ›´æ¢é”®å¸½ã€å¯æ›´æ¢è½´è¿™äº›ï¼Œå¦‚æœç”¨æˆ·ä¸éœ€è¦åˆ™ä¸åº”è¯¥æš´éœ²ç»™ç”¨æˆ·ã€‚</p><p>ç„¶è€Œå¤§å¤šæ•°çš„åœ¨åŠ¨æ‰‹å¼€å‘å‰è™½ç„¶è®¾è®¡çš„å¾ˆå¥½ï¼Œä½†æ˜¯å¾€å¾€å¼€å‘è¿‡ç¨‹ä¸­ä¸ºäº†åŠ é€Ÿå¼€å‘è¿›ç¨‹å°±ä¼šé€ æˆæ”¾é£è‡ªæˆ‘çš„è¡Œä¸ºå¯¼è‡´å®ä½“ä¸­å‡ºç°å¤šä½™å†…å®¹ï¼Œè™½ç„¶ä¹Ÿä¸æ˜¯ä¸è¡Œï¼Œä½†æ˜¯è¿™å°±ä¼šé€ æˆè™½ç„¶åšäº†æ¶æ„ï¼Œä½†æ˜¯æ²¡æœ‰å®Œå…¨åšæ¶æ„çš„è¡Œä¸ºå¯¹åç»­çš„ç»´æŠ¤äº¤æ¥éƒ½ä¼šå¼•èµ·ä¸€äº›ä¸å¯é¿å…çš„é—®é¢˜ã€‚</p><h1 id="æ€ä¹ˆåšå®ä½“"><a href="#æ€ä¹ˆåšå®ä½“" class="headerlink" title="æ€ä¹ˆåšå®ä½“"></a>æ€ä¹ˆåšå®ä½“</h1><p>é¦–å…ˆæ˜ç™½äº†å®ä½“æ˜¯å¯¹åº”ç°å®ä¸­çš„æŸä¸­å®é™…ä¸ªä½“ï¼Œé‚£ä¹ˆå°±æ˜¯æ˜ç¡®å®ƒæœ‰å“ªäº›å±æ€§ï¼Œå®ƒèƒ½åšä»€ä¹ˆï¼›ä»¥å‰æµè¡Œä¸€ç§è´«è¡€è®¾è®¡æ¨¡å¼ï¼Œå°±æ˜¯å®ä½“ç±»ï¼Œåªæ˜¯ç±»ï¼Œé‡Œé¢åªæœ‰æ„é€ æ–¹æ³•ï¼Œæ²¡æœ‰å…¶ä»–å†…å®¹ï¼Œäº§ç”Ÿçš„å˜æ›´éƒ½æ˜¯é€šè¿‡å…¶ä»–çš„Serviceæˆ–è€…Managerè¿›è¡Œçš„ã€‚</p><p>æˆ‘ä»¬åæ¥çš„å¼€å‘ä¸­éƒ½é‡‡ç”¨çš„æ»¡è¡€çš„è®¾è®¡æˆ–è€…è¯´æ˜¯æ®‹è¡€çš„è®¾è®¡ï¼Œå®ä½“ä¸­çš„å±æ€§éƒ½æ˜¯<code>private set</code>çš„ï¼Œè¿™æ ·ä¿è¯äº†å¤–éƒ¨æ— æ³•è¿›è¡Œæ›´æ”¹ï¼Œæˆ‘ä»¬ä¼šæä¾›ä¸€ä¸ªä¿®æ”¹è¯¥å±æ€§çš„æ¥å£æ¥ä¿è¯å±æ€§çš„å˜æ›´éƒ½æ˜¯æ»¡è¶³é™åˆ¶çš„ï¼Œä¸”æœ‰çš„æ—¶å€™è¿›è¡Œä¸€ä¸ªå±æ€§çš„å˜æ›´å¯å¯ä»¥ç›´æ¥è”åŠ¨å…¶ä»–çš„å±æ€§å˜æ›´æˆ–è€…è¡Œä¸ºï¼›</p><p>ä¾‹å¦‚æˆ‘ä»¬å¸¸ç”¨çš„é¼ æ ‡ï¼Œå®ƒçš„å±æ€§åŒ…æ‹¬è§„æ ¼ï¼Œé‡é‡ï¼Œè¿æ¥æ–¹å¼ç­‰ï¼Œä½†æ˜¯å®ƒçš„è¡Œä¸ºä¹‹åæ»šè½®æ»šåŠ¨ï¼Œå·¦é”®æŒ‰ä¸‹ï¼Œå³é”®æŒ‰ä¸‹ï¼›æ‹–åŠ¨ã€åŒå‡»éƒ½æ˜¯ç”±å¤–ç•Œçš„äººä¸ºäº§ç”Ÿçš„è€Œä¸æ˜¯é¼ æ ‡æœ¬èº«çš„åŠŸèƒ½</p><pre><code class=" mermaid">classDiagram    class Mouse    Mouse : +LeftButtonDown()    Mouse : +LeftButtonDown()</code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å®ä½“æ˜¯ä»€ä¹ˆ&quot;&gt;&lt;a href=&quot;#å®ä½“æ˜¯ä»€ä¹ˆ&quot; class=&quot;headerlink&quot; title=&quot;å®ä½“æ˜¯ä»€ä¹ˆ&quot;&gt;&lt;/a&gt;å®ä½“æ˜¯ä»€ä¹ˆ&lt;/h1&gt;&lt;p&gt;å®ä½“æœ¬èº«å°±æ˜¯ä¸€ä¸ª&lt;code&gt;class&lt;/code&gt;ï¼Œä¸€ä¸ªç±»ï¼Œåªæ˜¯å®ƒæ˜¯ä½œä¸ºä¸€ä¸ªå¯¹åº”åˆ°ç°å®ä¸­çš„å®é™…ä¸ªä½“çš„ç±»ï¼Œæ¯”å¦‚äººç±»ï¼Œ</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="æ¶æ„" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%9E%B6%E6%9E%84/"/>
    
    
    <category term="å¾®æœåŠ¡" scheme="https://oujun.work/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"/>
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/tags/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨Pythonçš„pyechartsåŒ…ç”»å…³ç³»å›¾</title>
    <link href="https://oujun.work/2022/07/13/python-pyecharts-graph.html"/>
    <id>https://oujun.work/2022/07/13/python-pyecharts-graph.html</id>
    <published>2022-07-13T13:16:00.000Z</published>
    <updated>2024-08-07T12:24:54.443Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘ä»¬ä½¿ç”¨csvæ ¼å¼çš„æ–‡ä»¶å­˜å‚¨å…³ç³»ï¼Œç¬¬ä¸€ä¸ªä¸ºä¸»èŠ‚ç‚¹ï¼Œç¬¬äºŒåˆ—ä¸ºå­èŠ‚ç‚¹ï¼Œå°±åƒå¦‚ä¸‹çš„å½¢å¼</p><table><thead><tr><th>ä¸»èŠ‚ç‚¹</th><th>å­èŠ‚ç‚¹</th></tr></thead><tbody><tr><td>èŠ‚ç‚¹1</td><td>èŠ‚ç‚¹A</td></tr><tr><td>èŠ‚ç‚¹1</td><td>èŠ‚ç‚¹B</td></tr><tr><td>èŠ‚ç‚¹1</td><td>èŠ‚ç‚¹C</td></tr><tr><td>èŠ‚ç‚¹B</td><td>èŠ‚ç‚¹N</td></tr><tr><td>èŠ‚ç‚¹C</td><td>èŠ‚ç‚¹N</td></tr></tbody></table><p>ä¸‹é¢æ˜¯pythonä»£ç ï¼Œå…ˆå®‰è£…pyecharts<code>pip(3) install pyecharts</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> csv<br><span class="hljs-keyword">from</span> turtle <span class="hljs-keyword">import</span> color<br><span class="hljs-keyword">from</span> pyecharts <span class="hljs-keyword">import</span> options <span class="hljs-keyword">as</span> opts<br><span class="hljs-keyword">from</span> pyecharts.charts <span class="hljs-keyword">import</span> Graph<br><br>csv_reader = csv.reader(<span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./relation.csv&quot;</span>))<br>systems = []<br>relation=[]<br><span class="hljs-keyword">for</span> left <span class="hljs-keyword">in</span> csv_reader:<br>    l = left[<span class="hljs-number">0</span>]; r = left[<span class="hljs-number">1</span>];<br>    relation.append(&#123;<span class="hljs-string">&quot;main&quot;</span>:l,<span class="hljs-string">&quot;sub&quot;</span>:r&#125;)<br>    systems.append(l)  <br>    systems.append(r) <br><br><span class="hljs-comment"># èŠ‚ç‚¹</span><br>nodes = []<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">list</span>(<span class="hljs-built_in">set</span>(systems)):<br>    nodes.append(&#123;<span class="hljs-string">&quot;name&quot;</span>: i, <span class="hljs-string">&quot;symbolSize&quot;</span>: <span class="hljs-number">15</span>&#125;)<span class="hljs-comment">#systems.count(i) 10å°±æ˜¯ç‚¹çš„å¤§å°</span><br><br><span class="hljs-comment"># å…³ç³»</span><br>links = []<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> nodes:<br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> relation:<br>        <span class="hljs-keyword">if</span>(i.get(<span class="hljs-string">&quot;name&quot;</span>) == j.get(<span class="hljs-string">&quot;main&quot;</span>)):<br>            links.append(&#123;<span class="hljs-string">&quot;source&quot;</span>: i.get(<span class="hljs-string">&quot;name&quot;</span>), <span class="hljs-string">&quot;target&quot;</span>: j.get(<span class="hljs-string">&quot;sub&quot;</span>)&#125;)<br><br><span class="hljs-comment">#è¾“å‡ºç½‘é¡µ</span><br>c = (<br>    Graph(init_opts=opts.InitOpts(         <br>        width=<span class="hljs-string">&quot;1800px&quot;</span>,  <span class="hljs-comment"># ç½‘é¡µåˆ†è¾¨ç‡</span><br>        height=<span class="hljs-string">&quot;1000px&quot;</span>,  <span class="hljs-comment"># ç½‘é¡µåˆ†è¾¨ç‡</span><br>        bg_color=<span class="hljs-string">&quot;#F2F2F2&quot;</span>, <span class="hljs-comment"># èƒŒæ™¯è‰² æ³¨é‡Šæ‰å°±æ²¡é¢œè‰²</span><br>        ))<br>    .add(<br>        <span class="hljs-comment"># https://pyecharts.org/#/zh-cn/basic_charts?id=graph%ef%bc%9a%e5%85%b3%e7%b3%bb%e5%9b%be</span><br>        <span class="hljs-string">&quot;&quot;</span>, <br>        nodes, <br>        links, <br>        repulsion = <span class="hljs-number">100</span>, <span class="hljs-comment">#å¼•åŠ›å€¼ æ•°è¶Šå¤§ï¼Œç‚¹ä¹‹é—´å¼¹çš„è¶Šå¤§</span><br>       <span class="hljs-comment"># edge_length = 30, # è°ƒæ•´ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œå—ä¸Šé¢çš„repulsionå½±å“</span><br>        symbol=<span class="hljs-string">&quot;roundRect&quot;</span>, <span class="hljs-comment"># ç‚¹çš„å½¢çŠ¶ triangle ä¸‰è§’å½¢ ï¼Œcircle åœ†å½¢ï¼Œ rect æ–¹å½¢ï¼ŒroundRect åœ†è§’æ–¹å½¢ï¼Œ diamond è±å½¢ï¼Œpin å›¾é’‰ ï¼Œarrow ç®­å¤´,none åªæœ‰çº¿</span><br>       <span class="hljs-comment"># layout=&quot;circular&quot;, # å¸ƒå±€ æ˜¯ç¯å½¢ï¼Œ force æ˜¯å¼•åŠ›å‹</span><br>       <span class="hljs-comment"># linestyle_opts=opts.LineStyleOpts(curve=0.2), #ç›´çº¿æˆ–è€…å¼§çº¿</span><br>       <span class="hljs-comment"># label_opts=opts.LabelOpts(is_show=False), # ç›´æ¥æ˜¾ç¤ºæ ‡ç­¾æˆ–è€…é¼ æ ‡æ”¾ä¸Šå»æ˜¾ç¤ºæ ‡ç­¾ï¼Œ</span><br>       <span class="hljs-comment"># linestyle_opts=opts.LineStyleOpts(color=&quot;#feb64d&quot;), # çº¿é¢œè‰²</span><br>       itemstyle_opts=opts.ItemStyleOpts(color=<span class="hljs-string">&quot;#151EBF&quot;</span>), <span class="hljs-comment"># å›¾æ ‡é¢œè‰² æ³¨é‡Šæ‰å°±æ˜¯çº¢è‰²</span><br>       <span class="hljs-comment"># æŒ‘é…è‰²çš„ç½‘ç«™  https://color.adobe.com/zh/explore/newest/</span><br><br>    )<br>    .set_global_opts(<br>        title_opts=opts.TitleOpts(title=<span class="hljs-string">&quot;è‡ªå·±æ”¹å&quot;</span>), <span class="hljs-comment"># æ ‡é¢˜</span><br>        ) <br>    .render(<span class="hljs-string">&quot;graph_base.html&quot;</span>)<br>)<br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æˆ‘ä»¬ä½¿ç”¨csvæ ¼å¼çš„æ–‡ä»¶å­˜å‚¨å…³ç³»ï¼Œç¬¬ä¸€ä¸ªä¸ºä¸»èŠ‚ç‚¹ï¼Œç¬¬äºŒåˆ—ä¸ºå­èŠ‚ç‚¹ï¼Œå°±åƒå¦‚ä¸‹çš„å½¢å¼&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ä¸»èŠ‚ç‚¹&lt;/th&gt;
&lt;th&gt;å­èŠ‚ç‚¹&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;èŠ‚ç‚¹1&lt;/td&gt;
&lt;td&gt;èŠ‚</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="python" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/python/"/>
    
    <category term="å°æŠ€å·§" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/python/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
    <category term="æ¶æ„" scheme="https://oujun.work/tags/%E6%9E%B6%E6%9E%84/"/>
    
    <category term="Python" scheme="https://oujun.work/tags/Python/"/>
    
    <category term="pyecharts" scheme="https://oujun.work/tags/pyecharts/"/>
    
    <category term="å…³ç³»å›¾" scheme="https://oujun.work/tags/%E5%85%B3%E7%B3%BB%E5%9B%BE/"/>
    
  </entry>
  
  <entry>
    <title>å°ç”µç²ç‘Så°ä¸»æœºåšæ—è·¯ç”±</title>
    <link href="https://oujun.work/2022/06/16/teclast-n5095-pve.html"/>
    <id>https://oujun.work/2022/06/16/teclast-n5095-pve.html</id>
    <published>2022-06-16T13:38:00.000Z</published>
    <updated>2024-08-07T12:24:54.443Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å°ç”µ-ç²ç‘S-2-5Lå°ä¸»æœº"><a href="#å°ç”µ-ç²ç‘S-2-5Lå°ä¸»æœº" class="headerlink" title="å°ç”µ ç²ç‘S 2.5Lå°ä¸»æœº"></a>å°ç”µ ç²ç‘S 2.5Lå°ä¸»æœº</h1><p>ä¹‹å‰ç”¨çš„æ˜¯æ˜Ÿé™…èœ—ç‰›çŸ¿æ¸£ï¼Œä¸€ç›´æ”¾åœ¨å“ˆå°”æ»¨çš„å®¶é‡Œï¼Œåˆ°ä¸Šæµ·å·¥ä½œåä¹°äº†ä¸ªå°ç±³ax1800ï¼Œæ²¡æœ‰Uå£ï¼Œæ‰€ä»¥ï¼Œä¹Ÿå°±æ²¡æœ‰ä»€ä¹ˆæ‰©å±•æ€§ï¼Œåæ¥è™½ç„¶æ‰¾åˆ°äº†shellç‰ˆçš„openclashï¼Œä½†æ˜¯æ€§èƒ½è¿˜æ˜¯å¤ªå·®ï¼Œé…ç½®èµ·æ¥ä¹Ÿæ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥å‰å‡ å¤©å‘ç°äº†618çš„æ´»åŠ¨ï¼Œ899å…¥æ‰‹äº†<a href="https://www.intel.cn/content/www/cn/zh/products/sku/212322/intel-celeron-processor-n5095-4m-cache-up-to-2-90-ghz/specifications.html">N5095</a>+8G D4+256Gå›ºæ€ï¼Œå› ä¸ºæ˜¯åšnasçš„æ‰€ä»¥æ²¡é€‰æ‹©wifiæ¨¡å—ã€‚åˆ°è´§åæ„Ÿè§‰è¿˜ä¸é”™ï¼Œé€äº†ç¡¬ç›˜çº¿ï¼Œé¼ æ ‡å«å’Œé”®é¼ å¥—ï¼Œè¿˜å¸¦äº†æ ¹æˆå“ç½‘çº¿ã€‚</p><p>ç³»ç»Ÿè‡ªå¸¦çš„windows 10 å®¶åº­ç‰ˆï¼Œæ‰€ä»¥ç›´æ¥ç³»ç»Ÿå°±åšäº†proxmox veï¼Œæ‰€ä»¥ä¹Ÿæ²¡ä»”ç»†çœ‹é…ç½®ï¼Œåç»­æ‰¾äº†ä¸‹ç›¸å…³çš„é…ç½®ã€‚</p><table><thead><tr><th>ç¡¬ä»¶</th><th>å‚æ•°</th><th>å…¶ä»–</th></tr></thead><tbody><tr><td>CPU</td><td>Intel(R) Celeron(R) N5095 @ 2.00GHz</td><td>11ä»£ï¼Œ4æ ¸ï¼Œ15wï¼Œæ”¯æŒè™šæ‹ŸåŒ–ï¼Œ21å¹´ç¬¬ä¸€å­£åº¦å‘å¸ƒ</td></tr><tr><td>å†…å­˜</td><td>8G</td><td>å°ç”µè‡ªå·±çš„</td></tr><tr><td>ç¡¬ç›˜</td><td>256G</td><td>Teclast YT 256GB SSD</td></tr><tr><td>ç½‘å¡</td><td>Realtek Semiconductor Co., Ltd. RTL8111&#x2F;8168&#x2F;8411</td><td></td></tr></tbody></table><p>æ²¡æ’­æ”¾è§†é¢‘ï¼Œä¸çŸ¥é“æ˜¯å¦çœŸçš„èƒ½åšåˆ°4k60ç¡¬è§£ï¼Œä½†æ˜¯çœ‹äº†ä¸€äº›å…¶ä»–çš„è¯„æµ‹ï¼Œæ®è¯´ä¸è¡Œã€‚é¡ºä¾¿è¯´ï¼ŒBIOSæ˜¯å°ç”µè‡ªå·±å®šåˆ¶çš„ï¼Œè€Œä¸”ç›´æ¥æœ‰è¶…é¢‘é€‰é¡¹ï¼Œè™½ç„¶å¯¹äºæˆ‘æ¥è¯´æ²¡ç”¨å¤„ã€‚ä¸è¿‡ç›¸å¯¹å…¶ä»–å¤šå£è½¯è·¯ç”±çš„é‚£ç§ä¸çŸ¥é“å•¥ä¸»æ¿çš„BIOSï¼Œä¹Ÿæ²¡å•¥è®¾ç½®çš„ï¼Œç”šè‡³è¿è™šæ‹ŸåŒ–é…ç½®éƒ½é˜‰å‰²æ‰ï¼ˆæ›¾ç»ä¹°çš„ä¸€å°I5 5210Uçš„6å£è½¯è·¯ç”±ï¼Œå†™çš„I5 4200Uï¼Œå‘çš„I5 5210Uï¼‰çš„ï¼Œè¿™ä¸ªå¥½å¤šäº†ã€‚</p><h1 id="ProxmoxVE"><a href="#ProxmoxVE" class="headerlink" title="ProxmoxVE"></a>ProxmoxVE</h1><p>å®‰è£…è¿‡ç¨‹ç•¥è¿‡ï¼Œè¿›å…¥ç³»ç»Ÿåä¸¤ä»¶äº‹ï¼Œç¬¬ä¸€æ˜¯ä¿®æ”¹æºï¼Œç¬¬äºŒè¿˜æ˜¯ä¿®æ”¹æº<br><code>nano /etc/apt/source.list</code></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">deb</span> http://mirrors.aliyun.<span class="hljs-keyword">com</span>/debian bullseye main contrib<br><br><span class="hljs-keyword">deb</span> http://mirrors.aliyun.<span class="hljs-keyword">com</span>/debian bullseye-updates main contrib<br><br># security updates<br><span class="hljs-keyword">deb</span> http://mirrors.aliyun.<span class="hljs-keyword">com</span>/debian-security bullseye-security main contrib<br></code></pre></td></tr></table></figure><p><code>ctrl + x ,y</code>ä¿å­˜ï¼Œæ›´æ¢æˆé˜¿é‡Œäº‘çš„æºã€‚</p><p>æˆ‘ä»¬å†æ›´æ¢ä¸€ä¸ªæº</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">mv /etc/apt/sources.list.d/pve-enterprise.list /etc/apt/sources.list.d/pve-enterprise.list.bak<br>nano /etc/apt/sources.list.d/pve-no-enterprise.list<br></code></pre></td></tr></table></figure><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">deb</span> http://download.proxmox.com/debian/pve bullseye pve-<span class="hljs-literal">no</span>-subscription<br></code></pre></td></tr></table></figure><p><code>ctrl + x ,y</code>ä¿å­˜åæˆ‘ä»¬å†è¿›è¡Œæ›´æ–°</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">apt update<br>apt upgrade -y<br></code></pre></td></tr></table></figure><h1 id="å®šåˆ¶ä¸€ä¸ªè‡ªå·±çš„openwrt"><a href="#å®šåˆ¶ä¸€ä¸ªè‡ªå·±çš„openwrt" class="headerlink" title="å®šåˆ¶ä¸€ä¸ªè‡ªå·±çš„openwrt"></a>å®šåˆ¶ä¸€ä¸ªè‡ªå·±çš„openwrt</h1><p>ç°åœ¨æœ‰äº†å¯ä»¥åœ¨çº¿å®šåˆ¶çš„openwrtï¼Œè¿™æ˜¯çœŸçš„å¾ˆæ–¹ä¾¿çš„ï¼Œ<a href="https://supes.top/">https://supes.top/</a>ï¼Œæ ¹æ®è‡ªå·±çš„éœ€è¦å¯¹å…¶è¿›è¡Œå®šåˆ¶ï¼Œç›®å‰æ²¡æœ‰ä¸“é—¨çš„xrayçš„å®¢æˆ·ç«¯æ’ä»¶ï¼Œæ‰€ä»¥è¿˜æ˜¯é€‰æ‹©äº†SSR-Plus ï¼Œçœ‹è¿‡ä¸€äº›è¯„æµ‹ï¼Œæˆ‘æ¯”è¾ƒæ‡’ï¼Œæ²¡æœ‰ä¸“é—¨å»åšæµ‹è¯•ï¼Œæ®è¯´æ€§èƒ½æ˜¯<code>SSR-Plus &gt;PassWall2 &gt;OpenClash</code>ã€‚<br>ä¸€èˆ¬çš„é€‰é¡¹å¦‚ä¸‹</p><table><thead><tr><th>å†…å®¹</th><th>å€¼</th></tr></thead><tbody><tr><td>æ‰€éœ€è½¯ä»¶åŒ… (åŒ…åç”¨ç©ºæ ¼éš”å¼€)</td><td></td></tr><tr><td>äº’è”ç½‘</td><td>SSR-Plus</td></tr><tr><td>é»˜è®¤ä¸»é¢˜</td><td>Argon</td></tr><tr><td>åå°åœ°å€</td><td>è®¾ç½®è‡ªå·±çš„æœ¬åœ°ç¯å¢ƒçš„IPåœ°å€,ä¾‹å¦‚ 192.168.0.253</td></tr><tr><td>åå°å¯†ç </td><td></td></tr><tr><td>WebæœåŠ¡å™¨</td><td>Uhttpd</td></tr><tr><td>æ—è·¯ç”±æ¨¡å¼</td><td>âˆš</td></tr><tr><td>IPv4 ç½‘å…³</td><td>ä¸»è·¯ç”±çš„åœ°å€ï¼Œä¾‹å¦‚192.168.0.1</td></tr><tr><td>DHCP æœåŠ¡å™¨</td><td>ä¸è¦å‹¾é€‰</td></tr><tr><td>EFIé•œåƒ</td><td>âˆš</td></tr><tr><td>ä¸»æœºå</td><td>éšä½ å–œæ¬¢</td></tr><tr><td>ROOTFS.TAR.GZ (ç”¨äºDockeræˆ–LXCç­‰å®¹å™¨)</td><td>âˆš ä»…é™èµåŠ©ç”¨æˆ·</td></tr></tbody></table><p>æˆ‘èµåŠ©äº†10å…ƒï¼Œä¸€ä¸ªæœˆçš„æœ‰æ•ˆæœŸï¼Œæ‰€ä»¥ç›´æ¥æ„å»ºåå¾—åˆ°äº†<code>openwrt-æœˆ.æ—¥.å¹´-x86-64-generic-rootfs.tar.gz</code> æ–‡ä»¶ã€‚</p><p>ä¸‹è½½åæ‰“å¼€pveçš„ç®¡ç†ç«¯ï¼Œé€‰ä¸­local(pve)å­˜å‚¨ä¸Šï¼Œé€‰æ‹©å³è¾¹çš„CTæ¨¡æ¿ï¼Œç‚¹ä¸Šä¼ ï¼Œé€‰æ‹©æˆ‘ä»¬å¾—åˆ°çš„tar.gzæ–‡ä»¶ï¼Œç‚¹å‡»ç¡®å®šï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªctæ¨¡æ¿ã€‚</p><p>ä¸èƒ½ç”¨å³ä¸Šè§’çš„é‚£ä¸ªåˆ›å»ºCTæŒ‰é’®åˆ›å»ºä¸»æœºï¼Œä¼šæŠ¥é”™ã€‚æˆ‘ä»¬sshç™»å½•åˆ°pveä¸­ä½¿ç”¨å‘½ä»¤è¿›è¡Œåˆ›å»º</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">pct create 100 \<br>local:local:vztmpl/openwrt-æœˆ.æ—¥.å¹´-x86-64-generic-rootfs.tar.gz \<br>--rootfs local-lvm:2 \<br>--ostype unmanaged \<br>--hostname openwrt \<br>--arch amd64 \<br>--cores 1 \<br>--memory 512 \<br>--swap 0 \<br>-net0 bridge=vmbr0,name=eth0<br></code></pre></td></tr></table></figure><p>ç„¶åå›åˆ°webç«¯çš„ç®¡ç†ç•Œé¢å¯åŠ¨å°±å¥½äº†ï¼Œå› ä¸ºIPæ˜¯æˆ‘ä»¬å‰é¢å®šåˆ¶å¥½çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦è¿›è¡Œä¿®æ”¹ï¼Œå¦‚æœéœ€è¦çš„è¯ï¼Œç›´æ¥é€‰ä¸­æ§åˆ¶å°ï¼Œç„¶åæŒ‰å›è½¦ä½¿ç”¨<code>vi /etc/config/network</code>è¿›è¡Œä¿®æ”¹ï¼Œæ”¹å®Œä¹‹åè®°å¾—é‡å¯ï¼Œå¯ä»¥ä½¿ç”¨<code>reboot</code>ç›´æ¥é‡å¯ï¼Œæˆ–è€…ä½¿ç”¨<code>/etc/init.d/network restart</code>åªé‡å¯ç½‘ç»œã€‚</p><p>ç„¶åæˆ‘ä»¬åœ¨æµè§ˆå™¨å°±å¯ä»¥ä½¿ç”¨<code>192.168.0.253</code>ç™»å½•åˆ°openwrtä¸­äº†ã€‚</p><h1 id="æ—è·¯ç”±é…ç½®"><a href="#æ—è·¯ç”±é…ç½®" class="headerlink" title="æ—è·¯ç”±é…ç½®"></a>æ—è·¯ç”±é…ç½®</h1><p>æˆ‘å–œæ¬¢æœ€å°‘çš„æ›´æ”¹ï¼Œå°±æ˜¯dhcpä¾ç„¶æ˜¯ä¸»è·¯ç”±ï¼Œä½†æ˜¯ç½‘å…³ç”±æ—è·¯ç”±æ¥åšã€‚</p><table><thead><tr><th>æ—è·¯ç”±</th><th>ä¸»è·¯ç”±</th></tr></thead><tbody><tr><td>ç½‘ç»œ-&gt;LAN-&gt;ç¼–è¾‘-&gt;å¸¸è§„è®¾ç½®</td><td>(å°ç±³ax1800)å¸¸ç”¨è®¾ç½®-&gt;å±€åŸŸç½‘è®¾ç½®ï¼Œå®šä½åˆ°DHCPæœåŠ¡</td></tr><tr><td>ï¼ˆé«˜çº§è®¾ç½®ï¼‰ä½¿ç”¨è‡ªå®šä¹‰çš„ DNS æœåŠ¡å™¨ï¼š223.5.5.5</td><td>DNS1 ï¼š192.168.0.253</td></tr><tr><td>IPv4 ç½‘å…³: 192.168.0.1</td><td>é»˜è®¤ç½‘å…³ï¼š192.168.0.253</td></tr></tbody></table><p>ä¸»è·¯ç”±è®¾ç½®å®Œä¹‹åéœ€è¦é‡å¯ï¼Œè·¯ç”±ä¸‹çš„ç½‘ç»œè®¾å¤‡ä¼šé‡æ–°è·å–IPï¼Œè·å–åˆ°çš„ç½‘ç»œé…ç½®ä¸­ç½‘å…³å°±è‡ªåŠ¨æ›´æ–°ä¸ºæ—è·¯ç”±çš„IPåœ°å€ï¼Œå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚</p><h1 id="é™„åŠ ä»·å€¼1"><a href="#é™„åŠ ä»·å€¼1" class="headerlink" title="é™„åŠ ä»·å€¼1"></a>é™„åŠ ä»·å€¼1</h1><p>é…ç½®<code>SSR-Plus</code>ï¼Œç›´æ¥ç”Ÿæ•ˆï¼ŒN5095æ²¹ç®¡8kæ•ˆæœå¾ˆç¨³å®šã€‚<br><img src="/assets/xray-ytb-statistics.png"></p><h1 id="é™„åŠ ä»·å€¼2ï¼šdocker"><a href="#é™„åŠ ä»·å€¼2ï¼šdocker" class="headerlink" title="é™„åŠ ä»·å€¼2ï¼šdocker"></a>é™„åŠ ä»·å€¼2ï¼šdocker</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell">apt-get -y install apt-transport-https ca-certificates curl software-properties-common<br>curl -fsSL https://mirrors.aliyun.com/docker-ce/linux/debian/gpg | sudo apt-key add -<br>curl -fsSL https://mirrors.aliyun.com/docker-ce/linux/debian/gpg | apt-key add -<br>lsb_release -cs<br>add-apt-repository &quot;deb [arch=amd64] https://mirrors.aliyun.com/docker-ce/linux/debian $(lsb_release -cs) stable&quot;<br>apt update<br>apt upgrade -y<br>apt install docker-ce<br>apt install docker-compose<br></code></pre></td></tr></table></figure><h2 id="docker-compose"><a href="#docker-compose" class="headerlink" title="docker-compose"></a>docker-compose</h2><ul><li><input checked="" disabled="" type="checkbox"> frpc</li><li><input checked="" disabled="" type="checkbox"> jellyfin</li><li><input checked="" disabled="" type="checkbox"> qbittorrent</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">version:</span> <span class="hljs-string">&quot;2.1&quot;</span><br><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">frpc:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">snowdreamtech/frpc:latest</span><br>    <span class="hljs-attr">container_name:</span> <span class="hljs-string">frpc</span><br>    <span class="hljs-attr">network_mode:</span> <span class="hljs-string">&#x27;host&#x27;</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">TZ=Asia/Shanghai</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">/docker-config/frpc/frpc.ini:/etc/frp/frpc.ini</span><br>    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span><br>  <span class="hljs-attr">jellyfin:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">lscr.io/linuxserver/jellyfin:latest</span><br>    <span class="hljs-attr">container_name:</span> <span class="hljs-string">jellyfin</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">PUID=1000</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">PGID=1000</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">TZ=Asia/Shangehai</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">/docker-config/jellyfin/library:/config</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">/docker-config/tvseries:/data/tvshows</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">/docker-config/movies:/data/movies</span><br>    <span class="hljs-attr">devices:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">/dev/dri:/dev/dri</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-number">8096</span><span class="hljs-string">:8096</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-number">8920</span><span class="hljs-string">:8920</span> <span class="hljs-comment">#optional</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-number">7359</span><span class="hljs-string">:7359/udp</span> <span class="hljs-comment">#optional</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-number">1900</span><span class="hljs-string">:1900/udp</span> <span class="hljs-comment">#optional</span><br>    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span><br>  <span class="hljs-attr">qbittorrent:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">lscr.io/linuxserver/qbittorrent:latest</span><br>    <span class="hljs-attr">container_name:</span> <span class="hljs-string">qbittorrent</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">PUID=1000</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">PGID=1000</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">TZ=Asia/Shangehai</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">WEBUI_PORT=8080</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">/docker-config/qbittorrent/config:/config</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">/docker-config:/downloads</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-number">8080</span><span class="hljs-string">:8080</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-number">6881</span><span class="hljs-string">:6881</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-number">6881</span><span class="hljs-string">:6881/udp</span><br>    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å°ç”µ-ç²ç‘S-2-5Lå°ä¸»æœº&quot;&gt;&lt;a href=&quot;#å°ç”µ-ç²ç‘S-2-5Lå°ä¸»æœº&quot; class=&quot;headerlink&quot; title=&quot;å°ç”µ ç²ç‘S 2.5Lå°ä¸»æœº&quot;&gt;&lt;/a&gt;å°ç”µ ç²ç‘S 2.5Lå°ä¸»æœº&lt;/h1&gt;&lt;p&gt;ä¹‹å‰ç”¨çš„æ˜¯æ˜Ÿé™…èœ—ç‰›çŸ¿æ¸£ï¼Œä¸€ç›´æ”¾åœ¨å“ˆå°”æ»¨çš„å®¶é‡Œ</summary>
      
    
    
    
    <category term="å®¶åº­æœåŠ¡" scheme="https://oujun.work/categories/%E5%AE%B6%E5%BA%AD%E6%9C%8D%E5%8A%A1/"/>
    
    
    <category term="Openwrt" scheme="https://oujun.work/tags/Openwrt/"/>
    
    <category term="ProxmoxVE" scheme="https://oujun.work/tags/ProxmoxVE/"/>
    
    <category term="æ—è·¯ç”±" scheme="https://oujun.work/tags/%E6%97%81%E8%B7%AF%E7%94%B1/"/>
    
  </entry>
  
  <entry>
    <title>ã€Devopsã€‘ - Azure Devopsçš„ä»£ç†æ± ï¼šå°è£…ä¸€ä¸ªè‡ªå·±çš„ä»£ç†æ± é•œåƒ</title>
    <link href="https://oujun.work/2022/06/11/devops-build-agent-pool.html"/>
    <id>https://oujun.work/2022/06/11/devops-build-agent-pool.html</id>
    <published>2022-06-11T13:08:08.000Z</published>
    <updated>2024-08-07T12:24:54.443Z</updated>
    
    <content type="html"><![CDATA[<p>ç”Ÿæˆä»£ç†ä¹Ÿæ˜¯ä¸€å°æœºå™¨ï¼Œæ˜¯å¯ä»¥ç»™AzureDevopsè¿œç¨‹è°ƒç”¨çš„æœºå™¨ï¼Œå®ƒçš„åŠŸèƒ½å°±æ˜¯æƒ³æ‰‹åŠ¨å¯¹ç¨‹åºè¿›è¡Œç”Ÿæˆç¼–è¯‘ä¸€æ ·çš„å°è£…çš„è‡ªåŠ¨åŒ–æ“ä½œï¼Œå®ƒçš„åŠ¨ä½œåŒ…æ‹¬æ‹‰å–ä»£ç ï¼ŒæŒ‰ç…§ç”Ÿæˆé€»è¾‘è¿›è¡Œç¼–è¯‘ï¼Œå°è£…é•œåƒï¼Œæ¨é€é•œåƒï¼Œéƒ¨ç½²çš„è¿‡ç¨‹ï¼Œä½†æ˜¯å¦‚æœç¼–è¯‘é¢‘ç¹ï¼Œé‚£ä¹ˆä¸€å°ç”Ÿæˆä»£ç†å¯èƒ½æ˜¯ä¸å¤Ÿçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°è£…ä¸€ä¸ªdockeré•œåƒï¼Œéšæ—¶éƒ¨ç½²ï¼Œæˆ–è€…éƒ¨ç½²åˆ°å¤šä¸ªåœ°æ–¹è¿›è¡Œåˆ†æ‘Šã€‚</p><p>æ–°å»ºä¸€ä¸ª<code>start.sh</code>,å°†ä¸‹é¢çš„ä»£ç æ®µå­˜å…¥å…¶ä¸­ï¼Œå®ƒçš„ä¸»è¦åŠŸèƒ½å°±æ˜¯ä½¿ç”¨ç¯å¢ƒå˜é‡å¯¹ä»£ç†æ± è¿›è¡Œé…ç½®ä¸å¯åŠ¨ï¼Œå°±æ˜¯æˆ‘ä»¬æ–°å»ºä»£ç†æ± çš„æ—¶å€™è¦æ‰§è¡Œçš„<code>./config.sh</code>é…ç½®ä¸<code>./run.sh</code>å¯åŠ¨ä»£ç†æ± çš„æ“ä½œã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-built_in">set</span> -e<br><br><span class="hljs-keyword">if</span> [ -z <span class="hljs-string">&quot;<span class="hljs-variable">$AZP_URL</span>&quot;</span> ]; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">echo</span> 1&gt;&amp;2 <span class="hljs-string">&quot;error: missing AZP_URL environment variable&quot;</span><br>  <span class="hljs-built_in">exit</span> 1<br><span class="hljs-keyword">fi</span><br><br><span class="hljs-keyword">if</span> [ -z <span class="hljs-string">&quot;<span class="hljs-variable">$AZP_TOKEN_FILE</span>&quot;</span> ]; <span class="hljs-keyword">then</span><br>  <span class="hljs-keyword">if</span> [ -z <span class="hljs-string">&quot;<span class="hljs-variable">$AZP_TOKEN</span>&quot;</span> ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> 1&gt;&amp;2 <span class="hljs-string">&quot;error: missing AZP_TOKEN environment variable&quot;</span><br>    <span class="hljs-built_in">exit</span> 1<br>  <span class="hljs-keyword">fi</span><br><br>  AZP_TOKEN_FILE=/azp/.token<br>  <span class="hljs-built_in">echo</span> -n <span class="hljs-variable">$AZP_TOKEN</span> &gt; <span class="hljs-string">&quot;<span class="hljs-variable">$AZP_TOKEN_FILE</span>&quot;</span><br><span class="hljs-keyword">fi</span><br><br><span class="hljs-built_in">unset</span> AZP_TOKEN<br><br><span class="hljs-keyword">if</span> [ -n <span class="hljs-string">&quot;<span class="hljs-variable">$AZP_WORK</span>&quot;</span> ]; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">mkdir</span> -p <span class="hljs-string">&quot;<span class="hljs-variable">$AZP_WORK</span>&quot;</span><br><span class="hljs-keyword">fi</span><br><br><span class="hljs-built_in">export</span> AGENT_ALLOW_RUNASROOT=<span class="hljs-string">&quot;1&quot;</span><br><br><span class="hljs-function"><span class="hljs-title">cleanup</span></span>() &#123;<br>  <span class="hljs-keyword">if</span> [ -e config.sh ]; <span class="hljs-keyword">then</span><br>    print_header <span class="hljs-string">&quot;Cleanup. Removing Azure Pipelines agent...&quot;</span><br><br>    <span class="hljs-comment"># If the agent has some running jobs, the configuration removal process will fail.</span><br>    <span class="hljs-comment"># So, give it some time to finish the job.</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">true</span>; <span class="hljs-keyword">do</span><br>      ./config.sh remove --unattended --auth PAT --token $(<span class="hljs-built_in">cat</span> <span class="hljs-string">&quot;<span class="hljs-variable">$AZP_TOKEN_FILE</span>&quot;</span>) &amp;&amp; <span class="hljs-built_in">break</span><br><br>      <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Retrying in 30 seconds...&quot;</span><br>      <span class="hljs-built_in">sleep</span> 30<br>    <span class="hljs-keyword">done</span><br>  <span class="hljs-keyword">fi</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-title">print_header</span></span>() &#123;<br>  lightcyan=<span class="hljs-string">&#x27;\033[1;36m&#x27;</span><br>  nocolor=<span class="hljs-string">&#x27;\033[0m&#x27;</span><br>  <span class="hljs-built_in">echo</span> -e <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;lightcyan&#125;</span>$1<span class="hljs-variable">$&#123;nocolor&#125;</span>&quot;</span><br>&#125;<br><br><span class="hljs-comment"># Let the agent ignore the token env variables</span><br><span class="hljs-built_in">export</span> VSO_AGENT_IGNORE=AZP_TOKEN,AZP_TOKEN_FILE<br><br>print_header <span class="hljs-string">&quot;1. Determining matching Azure Pipelines agent...&quot;</span><br><br><span class="hljs-keyword">if</span> [ -z <span class="hljs-string">&quot;<span class="hljs-variable">$AZP_AGENT_PACKAGE_LATEST_URL</span>&quot;</span> -o <span class="hljs-string">&quot;<span class="hljs-variable">$AZP_AGENT_PACKAGE_LATEST_URL</span>&quot;</span> == <span class="hljs-string">&quot;null&quot;</span> ]; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">echo</span> 1&gt;&amp;2 <span class="hljs-string">&quot;error: could not determine a matching Azure Pipelines agent&quot;</span><br>  <span class="hljs-built_in">echo</span> 1&gt;&amp;2 <span class="hljs-string">&quot;check that account &#x27;<span class="hljs-variable">$AZP_URL</span>&#x27; is correct and the token is valid for that account&quot;</span><br>  <span class="hljs-built_in">exit</span> 1<br><span class="hljs-keyword">fi</span><br><br>print_header <span class="hljs-string">&quot;2. Downloading and extracting Azure Pipelines agent...&quot;</span><br><br>curl -LsS <span class="hljs-variable">$AZP_AGENT_PACKAGE_LATEST_URL</span> | tar -xz &amp; <span class="hljs-built_in">wait</span> $!<br><br>bash ./bin/installdependencies.sh<br><br><span class="hljs-built_in">source</span> ./env.sh<br><br>print_header <span class="hljs-string">&quot;3. Configuring Azure Pipelines agent...&quot;</span><br><br>./config.sh --unattended \<br>  --agent <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;AZP_AGENT_NAME:-$(hostname)&#125;</span>&quot;</span> \<br>  --url <span class="hljs-string">&quot;<span class="hljs-variable">$AZP_URL</span>&quot;</span> \<br>  --auth PAT \<br>  --token $(<span class="hljs-built_in">cat</span> <span class="hljs-string">&quot;<span class="hljs-variable">$AZP_TOKEN_FILE</span>&quot;</span>) \<br>  --pool <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;AZP_POOL:-Default&#125;</span>&quot;</span> \<br>  --work <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;AZP_WORK:-_work&#125;</span>&quot;</span> \<br>  --replace \<br>  --acceptTeeEula &amp; <span class="hljs-built_in">wait</span> $!<br><br>print_header <span class="hljs-string">&quot;4. Running Azure Pipelines agent...&quot;</span><br><br><span class="hljs-built_in">trap</span> <span class="hljs-string">&#x27;cleanup; exit 0&#x27;</span> EXIT<br><span class="hljs-built_in">trap</span> <span class="hljs-string">&#x27;cleanup; exit 130&#x27;</span> INT<br><span class="hljs-built_in">trap</span> <span class="hljs-string">&#x27;cleanup; exit 143&#x27;</span> TERM<br><br><span class="hljs-built_in">chmod</span> +x ./run.sh<br><br><span class="hljs-comment"># To be aware of TERM and INT signals call run.sh</span><br><span class="hljs-comment"># Running it with the --once flag at the end will shut down the agent after the build is executed</span><br>./run.sh <span class="hljs-string">&quot;<span class="hljs-variable">$@</span>&quot;</span> &amp; <span class="hljs-built_in">wait</span> $!<br></code></pre></td></tr></table></figure><p>éšåæˆ‘ä»¬åœ¨åŒç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªdockerfileæ–‡ä»¶ï¼Œç”¨æ¥å¯¹ç¯å¢ƒè¿›è¡Œé•œåƒå°è£…ã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile"><span class="hljs-keyword">FROM</span> debian:<span class="hljs-number">11.3</span><br><span class="hljs-keyword">RUN</span><span class="language-bash"> sed -i <span class="hljs-string">&quot;s@http://ftp.debian.org@http://mirrors.aliyun.com@g&quot;</span> /etc/apt/sources.list</span><br><span class="hljs-keyword">RUN</span><span class="language-bash"> sed -i <span class="hljs-string">&quot;s@http://security.debian.org@http://mirrors.aliyun.com@g&quot;</span> /etc/apt/sources.list</span><br><span class="hljs-keyword">RUN</span><span class="language-bash"> sed -i <span class="hljs-string">&quot;s@http://deb.debian.org@http://mirrors.aliyun.com@g&quot;</span> /etc/apt/sources.list</span><br><span class="hljs-keyword">RUN</span><span class="language-bash"> apt-get update &amp;&amp; apt-get upgrade -y</span><br><span class="hljs-keyword">RUN</span><span class="language-bash"> apt-get install -y -qq --no-install-recommends \</span><br><span class="language-bash">    apt-transport-https \</span><br><span class="language-bash">    apt-utils \</span><br><span class="language-bash">    ca-certificates \</span><br><span class="language-bash">    curl \</span><br><span class="language-bash">    git \</span><br><span class="language-bash">    iputils-ping \</span><br><span class="language-bash">    jq \</span><br><span class="language-bash">    lsb-release \</span><br><span class="language-bash">    tar \</span><br><span class="language-bash">    software-properties-common</span><br><br><span class="hljs-comment"># Can be &#x27;linux-x64&#x27;, &#x27;linux-arm64&#x27;, &#x27;linux-arm&#x27;, &#x27;rhel.6-x64&#x27;.</span><br><span class="hljs-keyword">ENV</span> TARGETARCH=linux-x64<br><br><span class="hljs-keyword">WORKDIR</span><span class="language-bash"> /azp</span><br><br><span class="hljs-keyword">COPY</span><span class="language-bash"> ./start.sh .</span><br><span class="hljs-keyword">RUN</span><span class="language-bash"> <span class="hljs-built_in">chmod</span> +x start.sh</span><br><span class="hljs-keyword">ENTRYPOINT</span><span class="language-bash"> [ <span class="hljs-string">&quot;./start.sh&quot;</span> ]</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker build -t azp-azent:debian.11.3 .<br>docker push azp-azent:debian.11.3<br><br><br><span class="hljs-comment">#docker build -t privatedocker.xxx.xxx/namespace/azp-azent:debian.11.3 .</span><br><span class="hljs-comment">#docker push privatedocker.xxx.xxx/namespace/azp-azent:debian.11.3</span><br></code></pre></td></tr></table></figure><p>å¦‚æ­¤å°±æ‰“åŒ…å®Œæˆäº†ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ç”Ÿæˆä»£ç†ä¹Ÿæ˜¯ä¸€å°æœºå™¨ï¼Œæ˜¯å¯ä»¥ç»™AzureDevopsè¿œç¨‹è°ƒç”¨çš„æœºå™¨ï¼Œå®ƒçš„åŠŸèƒ½å°±æ˜¯æƒ³æ‰‹åŠ¨å¯¹ç¨‹åºè¿›è¡Œç”Ÿæˆç¼–è¯‘ä¸€æ ·çš„å°è£…çš„è‡ªåŠ¨åŒ–æ“ä½œï¼Œå®ƒçš„åŠ¨ä½œåŒ…æ‹¬æ‹‰å–ä»£ç ï¼ŒæŒ‰ç…§ç”Ÿæˆé€»è¾‘è¿›è¡Œç¼–è¯‘ï¼Œå°è£…é•œåƒï¼Œæ¨é€é•œåƒï¼Œéƒ¨ç½²çš„è¿‡ç¨‹ï¼Œä½†æ˜¯å¦‚æœç¼–è¯‘é¢‘ç¹ï¼Œé‚£ä¹ˆä¸€å°ç”Ÿæˆä»£ç†å¯èƒ½æ˜¯ä¸å¤Ÿçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°è£…ä¸€ä¸ªdoc</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="è¿ç»´" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="Docker" scheme="https://oujun.work/tags/Docker/"/>
    
    <category term="Azure Devops" scheme="https://oujun.work/tags/Azure-Devops/"/>
    
  </entry>
  
  <entry>
    <title>IT åè¯è§£é‡Š</title>
    <link href="https://oujun.work/2022/06/11/IT-term-explanation.html"/>
    <id>https://oujun.work/2022/06/11/IT-term-explanation.html</id>
    <published>2022-06-11T02:16:00.000Z</published>
    <updated>2022-06-12T09:39:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Net"><a href="#Net" class="headerlink" title=".Net"></a>.Net</h1><h1 id="Net-Core"><a href="#Net-Core" class="headerlink" title=".Net Core"></a>.Net Core</h1><h1 id="DDD"><a href="#DDD" class="headerlink" title="DDD"></a>DDD</h1><h1 id="IOC"><a href="#IOC" class="headerlink" title="IOC"></a>IOC</h1><h1 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h1><h1 id="OOP"><a href="#OOP" class="headerlink" title="OOP"></a>OOP</h1><h1 id="OOM"><a href="#OOM" class="headerlink" title="OOM"></a>OOM</h1><h1 id="æ¶ˆæ¯é˜Ÿåˆ—"><a href="#æ¶ˆæ¯é˜Ÿåˆ—" class="headerlink" title="æ¶ˆæ¯é˜Ÿåˆ—"></a>æ¶ˆæ¯é˜Ÿåˆ—</h1><h1 id="åˆ†å¸ƒå¼ç¼“å­˜"><a href="#åˆ†å¸ƒå¼ç¼“å­˜" class="headerlink" title="åˆ†å¸ƒå¼ç¼“å­˜"></a>åˆ†å¸ƒå¼ç¼“å­˜</h1><h1 id="åˆ†å¸ƒå¼é”"><a href="#åˆ†å¸ƒå¼é”" class="headerlink" title="åˆ†å¸ƒå¼é”"></a>åˆ†å¸ƒå¼é”</h1><h1 id="ORM"><a href="#ORM" class="headerlink" title="ORM"></a>ORM</h1><h1 id="EF"><a href="#EF" class="headerlink" title="EF"></a>EF</h1><h1 id="EF-Core"><a href="#EF-Core" class="headerlink" title="EF Core"></a>EF Core</h1><h1 id="ABP"><a href="#ABP" class="headerlink" title="ABP"></a>ABP</h1><h1 id="ABP-vNext"><a href="#ABP-vNext" class="headerlink" title="ABP vNext"></a>ABP vNext</h1><h1 id="Hangfire"><a href="#Hangfire" class="headerlink" title="Hangfire"></a>Hangfire</h1><h1 id="MES"><a href="#MES" class="headerlink" title="MES"></a>MES</h1><h1 id="VUE"><a href="#VUE" class="headerlink" title="VUE"></a>VUE</h1><h1 id="Angular"><a href="#Angular" class="headerlink" title="Angular"></a>Angular</h1><h1 id="React"><a href="#React" class="headerlink" title="React"></a>React</h1><h1 id="GIT"><a href="#GIT" class="headerlink" title="GIT"></a>GIT</h1><h1 id="SVN"><a href="#SVN" class="headerlink" title="SVN"></a>SVN</h1><h1 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h1><h1 id="RabbitMQ"><a href="#RabbitMQ" class="headerlink" title="RabbitMQ"></a>RabbitMQ</h1><h1 id="Swagger"><a href="#Swagger" class="headerlink" title="Swagger"></a>Swagger</h1><h1 id="JWT"><a href="#JWT" class="headerlink" title="JWT"></a>JWT</h1><h1 id="WPF"><a href="#WPF" class="headerlink" title="WPF"></a>WPF</h1><h1 id="Winform"><a href="#Winform" class="headerlink" title="Winform"></a>Winform</h1><h1 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h1><h1 id="MSSQL"><a href="#MSSQL" class="headerlink" title="MSSQL"></a>MSSQL</h1><h1 id="Oracle"><a href="#Oracle" class="headerlink" title="Oracle"></a>Oracle</h1><h1 id="HAL"><a href="#HAL" class="headerlink" title="HAL"></a>HAL</h1><h1 id="C"><a href="#C" class="headerlink" title="C#"></a>C#</h1><h1 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h1><h1 id="Golang"><a href="#Golang" class="headerlink" title="Golang"></a>Golang</h1><h1 id="CRM"><a href="#CRM" class="headerlink" title="CRM"></a>CRM</h1><h1 id="OA"><a href="#OA" class="headerlink" title="OA"></a>OA</h1><h1 id="ERP"><a href="#ERP" class="headerlink" title="ERP"></a>ERP</h1><h1 id="SAAS"><a href="#SAAS" class="headerlink" title="SAAS"></a>SAAS</h1><h1 id="BI"><a href="#BI" class="headerlink" title="BI"></a>BI</h1><h1 id="Web3"><a href="#Web3" class="headerlink" title="Web3"></a>Web3</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Net&quot;&gt;&lt;a href=&quot;#Net&quot; class=&quot;headerlink&quot; title=&quot;.Net&quot;&gt;&lt;/a&gt;.Net&lt;/h1&gt;&lt;h1 id=&quot;Net-Core&quot;&gt;&lt;a href=&quot;#Net-Core&quot; class=&quot;headerlink&quot; title=&quot;.Ne</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="æ¶æ„" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%9E%B6%E6%9E%84/"/>
    
    
    <category term="æ¶æ„" scheme="https://oujun.work/tags/%E6%9E%B6%E6%9E%84/"/>
    
    <category term="æ¦‚å¿µ" scheme="https://oujun.work/tags/%E6%A6%82%E5%BF%B5/"/>
    
    <category term="æ¶æ„è®¾è®¡" scheme="https://oujun.work/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>é—ä¼ ç®—æ³•å­¦ä¹ </title>
    <link href="https://oujun.work/2022/05/31/%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0.html"/>
    <id>https://oujun.work/2022/05/31/%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0.html</id>
    <published>2022-05-31T13:56:08.000Z</published>
    <updated>2024-08-07T12:24:54.443Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯é—ä¼ ç®—æ³•"><a href="#ä»€ä¹ˆæ˜¯é—ä¼ ç®—æ³•" class="headerlink" title="ä»€ä¹ˆæ˜¯é—ä¼ ç®—æ³•"></a>ä»€ä¹ˆæ˜¯é—ä¼ ç®—æ³•</h1><p>é—ä¼ ç®—æ³•ä¸€èˆ¬çš„è§£é‡Šå°±æ˜¯æ¨¡æ‹Ÿè¾¾å°”æ–‡ç”Ÿç‰©è¿›åŒ–è®ºå’Œé—ä¼ å­¦å¯¹ç”Ÿç‰©çš„è¿›åŒ–è¿‡ç¨‹çš„æ¨¡æ‹Ÿï¼Œç”¨è¿­ä»£è¿›åŒ–çš„æ–¹å¼å¾—åˆ°æœ€ä¼˜è§£çš„æ–¹æ³•ï¼Œå…¶å®æˆ‘äº†è§£è¿™ä¸ªä¸œè¥¿æœ‰æ®µæ—¶é—´äº†ï¼Œä½†æ˜¯ä¸€ç›´ä¹Ÿæ²¡æœ‰å®Œæ•´çš„å»å­¦ä¹ è¿‡ã€‚</p><p>é—ä¼ ç®—æ³•çš„æ‰§è¡Œè¿‡ç¨‹ä¸€èˆ¬æ˜¯å…ˆæœ‰ä¸€ä¸ª<code>ç§ç¾¤</code>ï¼Œä¸è®ºä»€ä¹ˆä¸œè¥¿è¿›åŒ–éƒ½æ˜¯ä»ä¸€ä¸ªç§ç¾¤è¿›åŒ–åˆ°å¦ä¸€ä¸ªç§ç¾¤ï¼Œä¼˜èƒœåŠ£æ±°ï¼Œ<code>ç§ç¾¤</code>ä¸­çš„æ¯ä¸€ä¸ªä¸ªä½“éƒ½æœ‰ä¸€ç»„<code>åŸºå› </code>ï¼Œä¹Ÿæœ‰æŠŠè¿™ä¸ªå«åš<code>æŸ“è‰²ä½“</code>çš„ã€‚</p><p>ç”Ÿç‰©éƒ½æœ‰æŸ“è‰²ä½“ï¼Œä»–ä»¬ç¹æ®–å‡ºçš„åä»£éƒ½æ˜¯ä»çˆ¶æ¯åŒäº²çš„æŸ“è‰²ä½“ä¸­å„å–ä¸€éƒ¨åˆ†ç”Ÿæˆä¸€ä¸ªæ–°çš„ä¸ªä½“ã€‚</p><p>ä¸­é—´ç•¥è¿‡â€¦â€¦</p><p>ç¼–ç -&gt;åˆå§‹åŒ–ç§ç¾¤</p><p>è¯„ä¼°ç§ç¾¤ä¸­ä¸ªä½“é€‚åº”åº¦-&gt;é€‰æ‹©-&gt;äº¤å‰-&gt;å˜å¼‚-&gt;å›åˆ°è¯„ä¼°</p><pre><code class=" mermaid">graph TD  ç¼–ç  --&gt; åˆå§‹åŒ–ç§ç¾¤  åˆå§‹åŒ–ç§ç¾¤ --&gt; è¯„ä¼°é€‚åº”åº¦  è¯„ä¼°é€‚åº”åº¦ --&gt; é€‰æ‹©  é€‰æ‹© --&gt; äº¤å‰  äº¤å‰ --&gt; å˜å¼‚  å˜å¼‚ --&gt; è¯„ä¼°é€‚åº”åº¦</code></pre><p>æˆ‘ä¸ªäººæ„Ÿè§‰ï¼Œå…¶ä¸­éš¾åº¦æœ€å¤§çš„æ˜¯é€‚åº”åº¦è¿™ä¸ªåœ°æ–¹ï¼Œ</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ä»€ä¹ˆæ˜¯é—ä¼ ç®—æ³•&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯é—ä¼ ç®—æ³•&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯é—ä¼ ç®—æ³•&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯é—ä¼ ç®—æ³•&lt;/h1&gt;&lt;p&gt;é—ä¼ ç®—æ³•ä¸€èˆ¬çš„è§£é‡Šå°±æ˜¯æ¨¡æ‹Ÿè¾¾å°”æ–‡ç”Ÿç‰©è¿›åŒ–è®ºå’Œé—ä¼ å­¦å¯¹ç”Ÿç‰©çš„è¿›åŒ–è¿‡ç¨‹çš„æ¨¡æ‹Ÿï¼Œç”¨è¿­ä»£è¿›åŒ–çš„æ–¹å¼å¾—åˆ°æœ€ä¼˜è§£</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term=".Net" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/Net/"/>
    
    <category term="ç®—æ³•" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/Net/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="C#" scheme="https://oujun.work/tags/C/"/>
    
    <category term="é—ä¼ ç®—æ³•" scheme="https://oujun.work/tags/%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/"/>
    
    <category term=".Net" scheme="https://oujun.work/tags/Net/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨IHostedServiceæ—¶é—´ç®€å•çš„å®šæ—¶ä»»åŠ¡åŠŸèƒ½</title>
    <link href="https://oujun.work/2022/05/30/%E4%BD%BF%E7%94%A8IHostedService%E6%97%B6%E9%97%B4%E7%AE%80%E5%8D%95%E7%9A%84%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E5%8A%9F%E8%83%BD.html"/>
    <id>https://oujun.work/2022/05/30/%E4%BD%BF%E7%94%A8IHostedService%E6%97%B6%E9%97%B4%E7%AE%80%E5%8D%95%E7%9A%84%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E5%8A%9F%E8%83%BD.html</id>
    <published>2022-05-30T03:29:10.000Z</published>
    <updated>2024-08-07T12:24:54.443Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ‰äº›æ—¶å€™å†å¼€å‘è¿‡ç¨‹ä¸­ä¼šé‡åˆ°å®šæ—¶æ‰§è¡Œä»»åŠ¡çš„æƒ…å†µï¼Œè¿™ç§éœ€æ±‚åŠŸèƒ½å¾ˆå°ï¼Œå¦‚æœé‡‡ç”¨<code>hangfire</code>æˆ–è€…<code>Quartz.NET</code>ä¹‹ç±»çš„æ¡†æ¶ï¼Œå°±æœ‰äº›åºå¤§ï¼Œä¸å€¼å¾—å»ºåº“å»ºè¡¨å»è¿›è¡Œé…ç½®ç®¡ç†ï¼Œä½¿ç”¨<code>while</code>æˆ–è€…<code>timer</code>åˆä¸å¤Ÿå…·æœ‰å°è£…æ€§ï¼Œæ‰€ä»¥å¾®è½¯.net coreæä¾›äº†<code>IHostedService</code>ï¼ˆ<a href="https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/host/hosted-services?view=aspnetcore-6.0&tabs=visual-studio">åœ¨ ASP.NET Core ä¸­ä½¿ç”¨æ‰˜ç®¡æœåŠ¡å®ç°åå°ä»»åŠ¡</a>ï¼‰æ‰˜ç®¡æœåŠ¡æ—¶é—´ç®€å•çš„åå°ä»»åŠ¡ç®¡ç†å™¨ã€‚</p><h1 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h1><p>æˆ‘ä»¬é‡‡ç”¨<code>IHostedService</code> åŸºç±»è¿›è¡Œå°è£…ä»¥æ»¡è¶³æˆ‘ä»¬çš„ç®€å•éœ€æ±‚ï¼Œè¿™ä¸ªæ¥å£æœ‰ä¸¤ä¸ªå®ç°ã€‚</p><ul><li>StartAsync(CancellationToken)</li><li>StopAsync(CancellationToken)</li></ul><h2 id="StartAsync"><a href="#StartAsync" class="headerlink" title="StartAsync"></a>StartAsync</h2><p>ç®€å•çš„æè¿°ï¼Œå°±æ˜¯å¯åŠ¨ä»»åŠ¡ï¼Œå†è¿™é‡Œå¯¹ä»»åŠ¡çš„é€»è¾‘è¿›è¡Œå¤„ç†ã€‚</p><h2 id="StopAsync"><a href="#StopAsync" class="headerlink" title="StopAsync"></a>StopAsync</h2><p>ç»ˆæ­¢ä»»åŠ¡ï¼Œä¸€èˆ¬æ¥è®²å°±æ˜¯æœåŠ¡æœ¬èº«æˆ–è€…è¯´åº”ç”¨æœ¬èº«åœæ­¢çš„æ—¶å€™è‡ªåŠ¨è°ƒç”¨è¯¥æ¥å£ã€‚å¯¹åå°ä»»åŠ¡æ¶‰åŠåˆ°çš„èµ„æºè¿›è¡Œé‡Šæ”¾æˆ–è€…å…¶ä»–éœ€è¦çš„é€»è¾‘è¿›è¡Œå¤„ç†çš„ã€‚</p><h2 id="å…·ä½“å®ç°"><a href="#å…·ä½“å®ç°" class="headerlink" title="å…·ä½“å®ç°"></a>å…·ä½“å®ç°</h2><p>æˆ‘ä»¬çš„éœ€æ±‚å¾ˆç®€å•ï¼Œå°±æ˜¯å†æ¯å‘¨äº”ä¸Šåˆ8ç‚¹çš„æ—¶å€™æŸ¥è¯¢æŠ¥è¡¨ï¼Œç„¶åé€šè¿‡é‚®ä»¶å‘é€ç»™æŒ‡å®šçš„æ¥æ”¶äººã€‚</p><p>å®ç°çš„åŸç†ä¾ç„¶æ˜¯åœ¨å¯åŠ¨çš„æ—¶å€™å¼€å¯ä¸€ä¸ª<code>Timer</code>å®šæ—¶å™¨ï¼Œç„¶åå®šæ—¶è¿›è¡Œè½®è¯¢ï¼Œåˆ¤æ–­æ—¶é—´ï¼Œæ—¶é—´åˆ°æ­¤èŒƒå›´çš„æ—¶å€™å°±æ‰§è¡Œ<code>DoWork</code>æ–¹æ³•è¿›è¡Œé€»è¾‘å¤„ç†ã€‚ç”±äº<code>IHostedService</code>æ˜¯å•ä¾‹çš„ï¼Œæ‰€ä»¥æ²¡æœ‰åŠæ³•è¿›è¡Œä¾èµ–æ³¨å…¥ï¼Œä½†æ˜¯æœ‰å¦ä¸€ä¸ªæ–¹æ³•ï¼Œå°±æ˜¯åœ¨è¿™é‡Œæ³¨å…¥ä¸€ä¸ªåŒä¸ºå•ä¾‹çš„<code>IServiceScopeFactory</code>ï¼Œéœ€è¦ä½¿ç”¨å…¶ä»–ç±»çš„æ—¶å€™ï¼Œé€šè¿‡<code>using var scope = _serviceScopeFactory.CreateScope();var cache = scope.ServiceProvider.GetRequiredService&lt;IDistributedCache&gt;()</code>çš„å½¢å¼è¿›è¡Œå¯¹è±¡è·å–ã€‚è¿™é‡Œè¿˜æœ‰ä¸€ç‚¹å°ç‘•ç–µï¼Œå°±æ˜¯ç›®å‰çš„<code>Timer</code>ä¸­çš„<code>TimerCallback</code>è¿˜ä¸æ”¯æŒå¼‚æ­¥çš„å½¢å¼ï¼Œæœ‰ç‚¹é—æ†¾ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Email.Report.Infrastructure.BackgroundTasks</span>;<br><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> é—¨åº—(ä¸­å¿ƒ)å‘¨æŠ¥</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">StatisticWeeklyDoWork</span> : <span class="hljs-title">IHostedService</span>, <span class="hljs-title">IAsyncDisposable</span><br>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span> Title = <span class="hljs-string">&quot;å‘¨æŠ¥&quot;</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> Task _completedTask = Task.CompletedTask;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ILogger&lt;StatisticWeeklyDoWork&gt; _logger;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IServiceScopeFactory _serviceScopeFactory;<br>    <span class="hljs-keyword">private</span> Timer? _timer;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> </span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;logger&quot;&gt;</span><span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;serviceScopeFactory&quot;&gt;</span><span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">StatisticWeeklyDoWork</span>(<span class="hljs-params">ILogger&lt;StatisticWeeklyDoWork&gt; logger, IServiceScopeFactory serviceScopeFactory</span>)</span><br>    &#123;<br>        _logger = logger;<br>        _serviceScopeFactory = serviceScopeFactory;<br>    &#125;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> </span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;cancellationToken&quot;&gt;</span><span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Task <span class="hljs-title">StartAsync</span>(<span class="hljs-params">CancellationToken cancellationToken</span>)</span><br>    &#123;<br>        _logger.LogInformation(<span class="hljs-string">&quot;&#123;Title&#125; &#123;Service&#125; is running.&quot;</span>, Title, <span class="hljs-keyword">nameof</span>(StatisticWeeklyDoWork));<br>        _timer = <span class="hljs-keyword">new</span> Timer(DoWork, <span class="hljs-literal">null</span>, TimeSpan.Zero, TimeSpan.FromSeconds(<span class="hljs-number">30</span>));<br>        <span class="hljs-keyword">return</span> _completedTask;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DoWork</span>(<span class="hljs-params"><span class="hljs-built_in">object</span>? state</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">var</span> now = DateTimeOffset.Now;<br>        <span class="hljs-keyword">if</span> (now.DayOfWeek == DayOfWeek.Friday &amp;&amp; now.Hour == <span class="hljs-number">8</span> &amp;&amp; now.Minute &lt; <span class="hljs-number">10</span>)   <span class="hljs-comment">// æ¯å‘¨äº”çš„ä¸Šåˆ8ç‚¹</span><br>        &#123;<br>            <span class="hljs-keyword">using</span> <span class="hljs-keyword">var</span> scope = _serviceScopeFactory.CreateScope();<br>            <span class="hljs-keyword">var</span> cache = scope.ServiceProvider.GetRequiredService&lt;IDistributedCache&gt;();<br>            cache.BackgroundCheck(<span class="hljs-string">$&quot;StatisticWeeklyDoWork_<span class="hljs-subst">&#123;now:yyyyMMddHH&#125;</span>&quot;</span>, () =&gt;<br>            &#123;<br>                <span class="hljs-keyword">var</span> service = scope.ServiceProvider.GetRequiredService&lt;IEmaliByExcelManager&gt;();<br>                _logger.LogInformation(<span class="hljs-string">&quot;&#123;Title&#125; is working, å½“å‰æ—¶é—´ï¼š&#123;time&#125;&quot;</span>, Title, now.ToString(<span class="hljs-string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>));<br>                <span class="hljs-comment">// å®é™…é€»è¾‘å¤„ç†</span><br>                _logger.LogInformation(<span class="hljs-string">&quot;&#123;Title&#125; is complete, å½“å‰æ—¶é—´ï¼š&#123;time&#125;&quot;</span>, Title, now.ToString(<span class="hljs-string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>));<br>            &#125;);<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> </span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;cancellationToken&quot;&gt;</span><span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Task <span class="hljs-title">StopAsync</span>(<span class="hljs-params">CancellationToken cancellationToken</span>)</span><br>    &#123;<br>        _logger.LogInformation(<span class="hljs-string">&quot;&#123;Title&#125; &#123;Service&#125; is stopping.&quot;</span>, Title, <span class="hljs-keyword">nameof</span>(StatisticWeeklyDoWork));<br>        _timer?.Change(Timeout.Infinite, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">return</span> _completedTask;<br>    &#125;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> </span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> ValueTask <span class="hljs-title">DisposeAsync</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (_timer <span class="hljs-keyword">is</span> IAsyncDisposable timer)<br>        &#123;<br>            <span class="hljs-keyword">await</span> timer.DisposeAsync();<br>        &#125;<br>        _timer = <span class="hljs-literal">null</span>;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="é˜²æ­¢é‡å¤æ‰§è¡Œ"><a href="#é˜²æ­¢é‡å¤æ‰§è¡Œ" class="headerlink" title="é˜²æ­¢é‡å¤æ‰§è¡Œ"></a>é˜²æ­¢é‡å¤æ‰§è¡Œ</h2><p>å…¶å®ä¹Ÿæ²¡æœ‰è¿™ä¸ªå¿…è¦ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨<code>Timer</code>çš„æœ€åä¸€ä¸ªå‚æ•°æ”¹ä¸º1ç§’ä¸€æ¬¡ï¼Œæˆ‘ä»¬åªè¦åˆ¤æ–­æ—¶é—´å› ç´ åˆ°ç§’çº§ä¸€èˆ¬ä¸ä¼šå‡ºç°é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœæ“ä½œå¤±è´¥äº†ï¼Œå°±ä¼šå‡ºç°é‚®ä»¶æ²¡æœ‰å‘å‡ºçš„æƒ…å†µï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯å¢åŠ äº†ä¸€ä¸ªåˆ¤æ–­ï¼Œæ—¶é—´æ‹‰é•¿åˆ°30ç§’ï¼Œä»»åŠ¡æ‰§è¡Œæ—¶é—´ä¹Ÿæ¯”è¾ƒé•¿ï¼Œä¾‹å¦‚10ç§’20ç§’çš„æƒ…å†µï¼Œç”šè‡³æœ‰äº›è€—æ—¶ä»»åŠ¡ï¼Œå¯èƒ½æˆ–æ‰§è¡Œ2åˆ†é’Ÿï¼Œé‚£ä¹ˆæ¯30ç§’çš„åˆ¤æ–­å°±ä¼šé‡å¤è¿›å…¥ä»»åŠ¡ä¸­ï¼Œè¿™é‡Œç”¨åˆ°äº†ä¸€ä¸ª<code> cache.BackgroundCheck(****</code>æ¥å¯¹ä»»åŠ¡çš„æ‰§è¡Œè¿›è¡Œç®¡ç†ï¼Œä½¿ç”¨äº†åˆ†å¸ƒå¼ç¼“å­˜<code>IDistributedCache</code>è¿›è¡ŒäºŒæ¬¡å°è£…æ»¡è¶³è°ƒç”¨éœ€æ±‚ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Email.Report.Infrastructure.Extensions</span>;<br><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> </span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">IDistributedCacheExtensions</span><br>&#123;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> ä»»åŠ¡æ‰§è¡Œæ£€æŸ¥</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;cache&quot;&gt;</span><span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;key&quot;&gt;</span>ä»»åŠ¡æ£€æŸ¥key<span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;action&quot;&gt;</span><span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BackgroundCheck</span>(<span class="hljs-params"><span class="hljs-keyword">this</span> IDistributedCache cache, <span class="hljs-built_in">string</span> key, Action action</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">var</span> workingKey = key + <span class="hljs-string">&quot;_working&quot;</span>;<br>        <span class="hljs-keyword">var</span> isWorkingKey = cache.GetString(key);<br>        <span class="hljs-keyword">if</span> (isWorkingKey == <span class="hljs-string">&quot;working&quot;</span>)<br>        &#123;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        cache.SetString(workingKey, <span class="hljs-string">&quot;working&quot;</span>, <span class="hljs-keyword">new</span> DistributedCacheEntryOptions().SetAbsoluteExpiration(TimeSpan.FromMinutes(<span class="hljs-number">5</span>)));<br>        <span class="hljs-keyword">var</span> complete = cache.GetString(key);<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">string</span>.IsNullOrEmpty(complete))<br>        &#123;<br>            action?.Invoke();<br>            cache.SetString(key, <span class="hljs-string">&quot;complete&quot;</span>, <span class="hljs-keyword">new</span> DistributedCacheEntryOptions().SetAbsoluteExpiration(TimeSpan.FromHours(<span class="hljs-number">2</span>)));<br>        &#125;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»£ç ä¸­æ¯ä¸ªä»»åŠ¡æ‰§è¡Œï¼Œæˆ‘ä»¬éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„keyï¼Œè°ƒç”¨åˆ°çš„æ—¶å€™å°±å…ˆå†™å…¥ä¸€ä¸ªworkingçš„keyï¼Œè¿™æ ·é‡å¤è¿›å…¥çš„æ—¶å€™åˆ¤æ–­åœ¨æ‰§è¡Œä¸­å°±ä¼šè‡ªåŠ¨è¿”å›äº†ï¼Œç„¶åæ‰§è¡Œåœ¨åˆ¤æ–­æ˜¯å¦å·²ç»æ‰§è¡Œç»“æŸï¼Œå¦‚æœè¿˜æ²¡æœ‰ï¼Œåˆ™å¼€å§‹æ‰§è¡Œé€»è¾‘ï¼Œæ‰§è¡Œå®Œä¹‹åå°±å†™å…¥å®Œæˆçš„keyï¼Œè¿™æ ·å°±ä¸ä¼šé‡å¤åˆ¤æ–­äº†ï¼Œè¦æ³¨æ„çš„æ˜¯ï¼Œkeyçš„å†™å…¥æ—¶é—´ï¼Œä¸ä»»åŠ¡çš„å®è¡Œæ—¶é—´ï¼Œä¸èƒ½å‡ºç°å¤ªå°çš„å·®è·ï¼Œå¦åˆ™å°±ä¼šå‡ºç°é‡å¤è¿›å…¥çš„æƒ…å†µã€‚</p><h2 id="æ³¨å†ŒæœåŠ¡"><a href="#æ³¨å†ŒæœåŠ¡" class="headerlink" title="æ³¨å†ŒæœåŠ¡"></a>æ³¨å†ŒæœåŠ¡</h2><p>æˆ‘ä»¬å¯ä»¥æœ‰å¤šä¸ªè¿™æ ·çš„åå°ä»»åŠ¡ï¼Œåœ¨æœåŠ¡å¯åŠ¨çš„æ—¶å€™è¿›è¡Œæ³¨å†Œï¼Œå°±å¯ä»¥è‡ªåŠ¨å¯åŠ¨äº†</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">namespace</span> <span class="hljs-title">Email.Report.API</span>;<br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> </span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>&#123;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> </span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;args&quot;&gt;</span><span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">var</span> builder = WebApplication.CreateBuilder(args);<br><br>        <span class="hljs-comment">// Add services to the container.</span><br><br>        builder.Services.AddControllers();<br>        <span class="hljs-meta">#<span class="hljs-keyword">region</span> å®šæ—¶ä»»åŠ¡</span><br>        builder.Services.AddDistributedMemoryCache(); <span class="hljs-comment">//ç¼“å­˜</span><br>        builder.Services.AddHostedService&lt;StatisticWeeklyDoWork&gt;();<br>        <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span><br>        <span class="hljs-keyword">var</span> app = builder.Build();<br><br>        <span class="hljs-comment">// Configure the HTTP request pipeline.</span><br><br>        app.UseAuthorization();<br>        app.MapControllers();<br>        app.Run();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h1&gt;&lt;p&gt;æœ‰äº›æ—¶å€™å†å¼€å‘è¿‡ç¨‹ä¸­ä¼šé‡åˆ°å®šæ—¶æ‰§è¡Œä»»åŠ¡çš„æƒ…å†µï¼Œè¿™ç§éœ€æ±‚åŠŸèƒ½å¾ˆå°ï¼Œå¦‚æœé‡‡ç”¨&lt;code&gt;hangfire&lt;/code&gt;æˆ–è€…&lt;code&gt;Quart</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term=".Net" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/Net/"/>
    
    <category term="å°æŠ€å·§" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/Net/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
    <category term="C#" scheme="https://oujun.work/tags/C/"/>
    
    <category term=".Net Core" scheme="https://oujun.work/tags/Net-Core/"/>
    
    <category term="å®šæ—¶ä»»åŠ¡" scheme="https://oujun.work/tags/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/"/>
    
  </entry>
  
</feed>
