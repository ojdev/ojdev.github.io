<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>åå±±</title>
  
  
  <link href="https://oujun.work/atom.xml" rel="self"/>
  
  <link href="https://oujun.work/"/>
  <updated>2025-11-18T00:01:04.932Z</updated>
  <id>https://oujun.work/</id>
  
  <author>
    <name>æ¬§ä¿Š</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>openmvgçš„å®‰è£…è¿‡ç¨‹</title>
    <link href="https://oujun.work/2025/11/17/openmvg%E7%9A%84%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B.html"/>
    <id>https://oujun.work/2025/11/17/openmvg%E7%9A%84%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B.html</id>
    <published>2025-11-17T22:34:53.576Z</published>
    <updated>2025-11-18T00:01:04.932Z</updated>
    
    <content type="html"><![CDATA[<p>å‚è€ƒï¼š<a href="https://github.com/openMVG/openMVG/blob/develop/BUILD.md#windows">openMVG&#x2F;BUILD.md</a></p><h1 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h1><p>éœ€è¦å®‰è£…Visual Studio 2022</p><p>å®‰è£…<a href="https://cmake.org/files/v3.30/">CMake 3.30.9</a></p><p>å®‰è£…<a href="https://graphviz.org/download/">Graphviz</a> è¦é€‰ä¸­æ·»åŠ åˆ°ç¯å¢ƒå˜é‡</p><h2 id="å®‰è£…vcpkg"><a href="#å®‰è£…vcpkg" class="headerlink" title="å®‰è£…vcpkg"></a>å®‰è£…vcpkg</h2><p>åœ¨Dç›˜æ ¹ç›®å½•</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs powershell">git clone https://github.com/Microsoft/vcpkg<br><span class="hljs-built_in">cd</span> vcpkg<br>./bootstrap<span class="hljs-literal">-vcpkg</span>.bat<br><br>.\vcpkg.exe install openmvg[<span class="hljs-type">core</span>,<span class="hljs-type">openmp</span>,<span class="hljs-type">opencv</span>]<br><br></code></pre></td></tr></table></figure><h2 id="ç¼–è¯‘openMVG"><a href="#ç¼–è¯‘openMVG" class="headerlink" title="ç¼–è¯‘openMVG"></a>ç¼–è¯‘openMVG</h2><p>åŒæ ·åœ¨Dç›˜æ ¹ç›®å½•</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs powershell">git clone <span class="hljs-literal">--recursive</span> https://github.com/openMVG/openMVG.git<br></code></pre></td></tr></table></figure><p>æ‰“å¼€<code>D:\openMVG\src\CMakeLists.txt</code></p><p>æ‰¾åˆ°<code>option(OpenMVG_USE_RERUN &quot;Enable Rerun logging&quot; ON)</code>ä¿®æ”¹ä¸º<code>option(OpenMVG_USE_RERUN &quot;Enable Rerun logging&quot; OFF)</code></p><p>ç„¶åç»§ç»­åœ¨Dç›˜æ ¹ç›®å½•</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs powershell">mkdir openMVG_Build<br><span class="hljs-built_in">cd</span> openMVG_Build<br>cmake <span class="hljs-literal">-G</span> <span class="hljs-string">&quot;Visual Studio 17 2022&quot;</span> <span class="hljs-literal">-A</span> x64 <span class="hljs-literal">-DCMAKE_TOOLCHAIN_FILE</span>=D:/vcpkg/scripts/buildsystems/vcpkg.cmake <span class="hljs-literal">-DOPENMVG_USE_RERUN</span>=OFF <span class="hljs-literal">-DEIGEN_INCLUDE_DIR_HINTS</span>=<span class="hljs-string">&quot;D:/vcpkg/installed/x64-windows/include&quot;</span> ../openMVG/src/<br></code></pre></td></tr></table></figure><p>å®Œæˆåï¼Œä½¿ç”¨visual studio 2022æ‰“å¼€<code>openMVG_Build</code>ç›®å½•ä¸‹çš„<code>openMVG.sln</code>ç‚¹èœå•ä¸­çš„<code>ç”Ÿæˆ</code>-&gt;<code>ç”Ÿæˆè§£å†³æ–¹æ¡ˆ</code></p><p>ç­‰ç”Ÿæˆå®Œæˆåï¼Œä¼šåœ¨ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª<code>Windows-AMD64-</code>ï¼Œè‡³æ­¤ç¼–è¯‘å®Œæˆï¼Œå¯ä»¥å°†æ­¤ç›®å½•æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­ã€‚</p><h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><p>å°†æ‹æ‘„çš„ç…§ç‰‡æ”¾åˆ°<code>D:\imgs</code>ä¸­ï¼Œè¾“å‡ºåˆ°<code>D:\imgsout</code></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs powershell">openMVG_main_SfMInit_ImageListing.exe <span class="hljs-literal">-i</span> D:\imgs <span class="hljs-literal">-o</span> D:\imgsout <span class="hljs-operator">-f</span> <span class="hljs-number">4838</span> sfm_data.json<br><br>openMVG_main_ComputeFeatures.exe <span class="hljs-literal">-i</span> D:\imgsout\sfm_data.json <span class="hljs-literal">-o</span> D:\imgsout<br><br>openMVG_main_ComputeMatches.exe <span class="hljs-literal">-i</span> D:\imgsout\sfm_data.json <span class="hljs-literal">-o</span> D:\imgsout\matches.putatives.bin<br><br>openMVG_main_GeometricFilter.exe <span class="hljs-literal">-i</span> D:\imgsout\sfm_data.json <span class="hljs-literal">-m</span> D:\imgsout\matches.putatives.bin <span class="hljs-literal">-g</span> f <span class="hljs-literal">-o</span> D:\imgsout\matches.f.bin<br><br>openMVG_main_SfM.exe <span class="hljs-literal">--sfm_engine</span> <span class="hljs-string">&quot;INCREMENTAL&quot;</span> <span class="hljs-literal">-i</span> D:\imgsout\sfm_data.json <span class="hljs-literal">-m</span> D:\imgsout <span class="hljs-literal">-o</span> D:\imgsout\regconstruction<br><br>openMVG_main_ExportUndistortedImages.exe <span class="hljs-literal">-i</span> D:\imgsout\sfm_data.json <span class="hljs-literal">-o</span> D:\imgsout\regconstruction\undistortedimage<br><br><span class="hljs-built_in">CD</span> D:\imgsout\regconstruction<br>openMVG_main_openMVG2openMVS.exe <span class="hljs-literal">-i</span> sfm_data.bin <span class="hljs-literal">-o</span> scene.mvs<br></code></pre></td></tr></table></figure><p>ç„¶åæ‰“å¼€<code>ui_openMVG_MatchesViewer.exe</code>,Fileä¸­é€‰æ‹©<code>sfm_data.json</code>,å†é€‰æ‹©<code>matches.putatives.bin</code>å°±å¯ä»¥æŸ¥çœ‹äº†ã€‚</p><p>ä¸‹è½½<a href="https://github.com/cdcseacave/openMVS/releases">Releases Â· cdcseacave&#x2F;openMVS</a> è§£å‹åï¼Œå°†ä¸Šé¢ç”Ÿæˆçš„<code>D:\imgsout\regconstruction\scene.ms</code>æ‹–åˆ°<code>Viewer.exe</code>ä¸Šå¯ä»¥æŸ¥çœ‹ç”Ÿæˆçš„3Dæ¨¡å‹ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å‚è€ƒï¼š&lt;a href=&quot;https://github.com/openMVG/openMVG/blob/develop/BUILD.md#windows&quot;&gt;openMVG&amp;#x2F;BUILD.md&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;å‡†å¤‡å·¥ä½œ&quot;&gt;&lt;a href=&quot;#å‡†å¤‡å·¥ä½œ&quot;</summary>
      
    
    
    
    <category term="çŸ¥è¯†å‚¨å¤‡" scheme="https://oujun.work/categories/%E7%9F%A5%E8%AF%86%E5%82%A8%E5%A4%87/"/>
    
    
    <category term="openmvg" scheme="https://oujun.work/tags/openmvg/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨Dockerä¸­æ‰“é€ ä¸€ä¸ªæ—è·¯ç½‘å…³</title>
    <link href="https://oujun.work/2025/11/15/%E5%9C%A8Docker%E4%B8%AD%E6%89%93%E9%80%A0%E4%B8%80%E4%B8%AA%E6%97%81%E8%B7%AF%E7%BD%91%E5%85%B3.html"/>
    <id>https://oujun.work/2025/11/15/%E5%9C%A8Docker%E4%B8%AD%E6%89%93%E9%80%A0%E4%B8%80%E4%B8%AA%E6%97%81%E8%B7%AF%E7%BD%91%E5%85%B3.html</id>
    <published>2025-11-15T00:26:06.527Z</published>
    <updated>2025-11-17T18:27:47.678Z</updated>
    
    <content type="html"><![CDATA[<p>å®¶é‡Œè®¾å¤‡è¾ƒå¤šï¼Œæœ‰äº›è®¾å¤‡æœ‰éœ€è¦ä¿æŒä»£ç†çŠ¶æ€ï¼Œæ‰€ä»¥æ¯ä¸ªè®¾å¤‡éƒ½å»åšä»£ç†ï¼Œé‡åˆ°æ›´æ–°çš„æ—¶å€™å°±ä¼šå¾ˆéº»çƒ¦ï¼Œå•ç‹¬éƒ¨ç½²ä¸€ä¸ªè½¯è·¯ç”±åˆä¼šå¢åŠ ä¸å¿…è¦çš„æˆæœ¬ï¼Œåæœ‰å…«ä¹æ˜¯æ€§èƒ½æµªè´¹ï¼Œæˆ‘å¹¶ä¸éœ€è¦æç«¯å°çš„å»¶è¿Ÿï¼Œå¤Ÿç”¨å°±å¥½ï¼Œäºæ˜¯åœ¨Proxmox VE 9ä¸­æœ¬èº«å­˜åœ¨çš„Dockerä¸­å®‰è£…ä¸€ä¸ªMihomoï¼Œç”¨æ¥ä½œä¸ºç½‘å…³ä»£ç†å±€åŸŸç½‘ä¸­çš„æµé‡ã€‚</p><h1 id="æ–¹æ¡ˆå¯¹æ¯”"><a href="#æ–¹æ¡ˆå¯¹æ¯”" class="headerlink" title="æ–¹æ¡ˆå¯¹æ¯”"></a>æ–¹æ¡ˆå¯¹æ¯”</h1><p>å¯¹æ¯”äº†å¸¸ç”¨çš„xrayå’Œclashï¼Œxrayè®¾ç½®è¾ƒä¸ºå¤æ‚ï¼Œä»¥å‰è®¾ç½®è¿‡ä¸€æ¬¡è™½ç„¶æˆåŠŸäº†ï¼Œä½†æ˜¯ä¼šå¯¼è‡´æˆ‘çš„æ¸¸æˆæ— æ³•ç™»å½•ï¼Œè€Œclashåˆå·²ç»ä¸å†ç»´æŠ¤ï¼Œ</p><p>ç»è¿‡geminiçš„ä¸€ç•ªæ¯”å¯¹ï¼Œæ‰€æœ‰é€‰æ‹©äº†Mihomoã€‚</p><h1 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h1><p>mihomoä½œä¸ºclashåç»­çš„æ›¿ä»£ï¼Œä¿æŒäº†æ›´æ–°ï¼Œè€Œä¸”é…ç½®ä¸Šåˆå¯ä»¥ç›´æ¥ä½¿ç”¨clashçš„æ–‡ä»¶ï¼Œæ‰€ä»¥æ–¹ä¾¿å¤šäº†ã€‚</p><p>ä¸åŒ…å«dockerçš„å®‰è£…è¿‡ç¨‹ï¼Œå¦‚æœéœ€è¦å¯ä»¥å‚è€ƒï¼š<a href="https://mirrors.tuna.tsinghua.edu.cn/help/docker-ce/">docker-ce | é•œåƒç«™ä½¿ç”¨å¸®åŠ© | æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™ | Tsinghua Open Source Mirror</a></p><h2 id="å¼€å¯-IP-è½¬å‘"><a href="#å¼€å¯-IP-è½¬å‘" class="headerlink" title="å¼€å¯ IP è½¬å‘"></a>å¼€å¯ IP è½¬å‘</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">æ°¸ä¹…ç”Ÿæ•ˆ</span><br>echo &quot;net.ipv4.ip_forward = 1&quot; &gt;&gt; /etc/sysctl.conf<br>sysctl -p<br></code></pre></td></tr></table></figure><h2 id="docker-compose"><a href="#docker-compose" class="headerlink" title="docker-compose"></a>docker-compose</h2><p>æ–‡ä»¶ä¿å­˜:<code>/root/docker/docker-compose.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">mihomo:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">metacubex/mihomo:latest</span><br>    <span class="hljs-attr">container_name:</span> <span class="hljs-string">mihomo</span><br>    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span><br>    <span class="hljs-comment"># å¯ç”¨ç‰¹æƒæ¨¡å¼ï¼Œå…è®¸åˆ›å»º TUN æ¥å£å¹¶ä¿®æ”¹ iptables</span><br>    <span class="hljs-attr">privileged:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">network_mode:</span> <span class="hljs-string">host</span> <span class="hljs-comment"># ä½¿ç”¨ host ç½‘ç»œæ¨¡å¼ï¼Œæ–¹ä¾¿è®¾ç½®é€æ˜ç½‘å…³å’Œè®© PVE å®¿ä¸»æœºä½¿ç”¨</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">./mihomo/config.yaml:/root/.config/mihomo/config.yaml</span> <span class="hljs-comment"># æ˜ å°„é…ç½®æ–‡ä»¶</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">./mihomo/ui:/root/.config/mihomo/ui</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">/etc/localtime:/etc/localtime:ro</span><br>    <span class="hljs-comment"># å…è®¸è®¿é—® /dev/net/tun æ¥å£</span><br>    <span class="hljs-attr">devices:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">/dev/net/tun:/dev/net/tun</span><br>    <span class="hljs-attr">cap_add:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">NET_ADMIN</span> <span class="hljs-comment"># å…è®¸å®¹å™¨æ“ä½œç½‘ç»œé…ç½®ï¼ˆå¦‚ iptablesï¼‰</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">NET_BROADCAST</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">SYS_MODULE</span><br></code></pre></td></tr></table></figure><h2 id="config-yaml"><a href="#config-yaml" class="headerlink" title="config.yaml"></a>config.yaml</h2><p>æ–‡ä»¶ä¿å­˜:<code>/root/docker/mihomo/config.yaml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment"># --------------------------------------------------------</span><br><span class="hljs-comment"># æ ¸å¿ƒä»£ç†èŠ‚ç‚¹å®šä¹‰</span><br><span class="hljs-comment"># --------------------------------------------------------</span><br><span class="hljs-attr">proxies:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;ç›´è¿&quot;</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">direct</span><br>    <span class="hljs-attr">udp:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">&quot;ä»£ç†èŠ‚ç‚¹&quot;</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">vless</span><br>    <span class="hljs-attr">server:</span> <span class="hljs-string">â–ˆâ–ˆâ–ˆ.â–ˆâ–ˆâ–ˆ.â–ˆâ–ˆâ–ˆ.â–ˆâ–ˆâ–ˆ</span><br>    <span class="hljs-attr">port:</span> <span class="hljs-string">â–ˆâ–ˆâ–ˆ</span><br>    <span class="hljs-attr">uuid:</span> <span class="hljs-string">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ-â–ˆâ–ˆâ–ˆâ–ˆ-â–ˆâ–ˆâ–ˆâ–ˆ-â–ˆâ–ˆâ–ˆâ–ˆ-â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ</span><br>    <span class="hljs-attr">network:</span> <span class="hljs-string">tcp</span><br>    <span class="hljs-attr">tls:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">udp:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">flow:</span> <span class="hljs-string">xtls-rprx-vision</span><br>    <span class="hljs-attr">servername:</span> <span class="hljs-string">www.â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ.com</span> <span class="hljs-comment"># REALITY servername</span><br>    <span class="hljs-attr">reality-opts:</span><br>      <span class="hljs-attr">public-key:</span> <span class="hljs-string">â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ</span><br>      <span class="hljs-attr">short-id:</span> <span class="hljs-string">&quot;â–ˆâ–ˆ&quot;</span> <span class="hljs-comment"># optional</span><br>      <span class="hljs-attr">support-x25519mlkem768:</span> <span class="hljs-literal">false</span> <span class="hljs-comment"># å¦‚æœæœåŠ¡ç«¯æ”¯æŒå¯æ‰‹åŠ¨è®¾ç½®ä¸ºtrue</span><br>    <span class="hljs-attr">client-fingerprint:</span> <span class="hljs-string">chrome</span> <span class="hljs-comment"># cannot be empty</span><br><br><span class="hljs-attr">mode:</span> <span class="hljs-string">rule</span><br><span class="hljs-comment"># ipv6 æ”¯æŒ</span><br><span class="hljs-attr">ipv6:</span> <span class="hljs-literal">true</span><br><span class="hljs-attr">log-level:</span> <span class="hljs-string">warning</span><br><span class="hljs-comment">#log-level: debug</span><br><span class="hljs-comment"># å…è®¸å±€åŸŸç½‘è¿æ¥</span><br><span class="hljs-attr">allow-lan:</span> <span class="hljs-literal">true</span><br><span class="hljs-comment"># socks5/http ç«¯å£</span><br><span class="hljs-comment">#mixed-port: 7890</span><br><span class="hljs-comment">#socks-port: 7891       # SOCKS5 ä»£ç†ç«¯å£ (å¯é€‰)</span><br><span class="hljs-attr">redir-port:</span> <span class="hljs-number">7892</span>       <span class="hljs-comment"># ğŸ’¡ é€æ˜ä»£ç† (Redir) ç«¯å£ - ç”¨äº IPTables</span><br><span class="hljs-attr">tproxy-port:</span> <span class="hljs-number">7893</span>      <span class="hljs-comment"># TProxy ä»£ç†ç«¯å£ (å¤‡ç”¨)</span><br><span class="hljs-attr">tproxy:</span> <span class="hljs-literal">true</span><br><span class="hljs-comment"># Meta å†…æ ¸ç‰¹æ€§ https://wiki.metacubex.one/config/general</span><br><span class="hljs-comment"># ç»Ÿä¸€å»¶è¿Ÿ</span><br><span class="hljs-comment"># æ›´æ¢å»¶è¿Ÿè®¡ç®—æ–¹å¼,å»é™¤æ¡æ‰‹ç­‰é¢å¤–å»¶è¿Ÿ</span><br><span class="hljs-attr">unified-delay:</span> <span class="hljs-literal">true</span><br><span class="hljs-comment"># TCP å¹¶å‘</span><br><span class="hljs-comment"># åŒæ—¶å¯¹æ‰€æœ‰ipè¿›è¡Œè¿æ¥ï¼Œè¿”å›å»¶è¿Ÿæœ€ä½çš„åœ°å€</span><br><span class="hljs-attr">tcp-concurrent:</span> <span class="hljs-literal">true</span><br><span class="hljs-comment"># å¤–éƒ¨æ§åˆ¶ç«¯å£</span><br><span class="hljs-attr">external-controller:</span> <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span><span class="hljs-string">:9090</span><br><span class="hljs-attr">external-ui:</span> <span class="hljs-string">ui</span><br><span class="hljs-attr">external-ui-url:</span> <span class="hljs-string">&quot;https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip&quot;</span> <span class="hljs-comment"># ç¡®ä¿ URL å¯ç”¨</span><br><span class="hljs-attr">secret:</span> <span class="hljs-string">&#x27;122333&#x27;</span>     <span class="hljs-comment"># API å¯†ç  (å¯ä»¥è‡ªè¡Œè®¾ç½®)</span><br><br><span class="hljs-attr">geodata-mode:</span> <span class="hljs-literal">true</span><br><span class="hljs-attr">geodata-loader:</span> <span class="hljs-string">memconservative</span><br><span class="hljs-comment"># Geo æ•°æ®åº“ä¸‹è½½åœ°å€</span><br><span class="hljs-comment"># æºåœ°å€ https://github.com/MetaCubeX/meta-rules-dat</span><br><span class="hljs-comment"># å¯ä»¥æ›´æ¢é•œåƒç«™ä½†ä¸è¦æ›´æ¢å…¶ä»–æ•°æ®åº“ï¼Œå¯èƒ½å¯¼è‡´æ— æ³•å¯åŠ¨</span><br><span class="hljs-attr">geox-url:</span><br>  <span class="hljs-attr">geoip:</span> <span class="hljs-string">&quot;https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.dat&quot;</span><br>  <span class="hljs-attr">geosite:</span> <span class="hljs-string">&quot;https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat&quot;</span><br><span class="hljs-comment">#  geoip: &quot;https://cdn.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/geoip.dat&quot;</span><br><span class="hljs-comment">#  geosite: &quot;https://cdn.jsdelivr.net/gh/Loyalsoldier/v2ray-rules-dat@release/geosite.dat&quot;</span><br>  <span class="hljs-attr">mmdb:</span> <span class="hljs-string">&quot;https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/country.mmdb&quot;</span><br>  <span class="hljs-attr">asn:</span> <span class="hljs-string">&quot;https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/GeoLite2-ASN.mmdb&quot;</span><br><br><span class="hljs-attr">geo-auto-update:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># æ˜¯å¦è‡ªåŠ¨æ›´æ–° geodata</span><br><span class="hljs-attr">geo-update-interval:</span> <span class="hljs-number">24</span> <span class="hljs-comment"># æ›´æ–°é—´éš”ï¼Œå•ä½ï¼šå°æ—¶</span><br><br><span class="hljs-comment"># è¿›ç¨‹åŒ¹é…æ¨¡å¼</span><br><span class="hljs-comment"># è·¯ç”±å™¨ä¸Šè¯·è®¾ç½®ä¸º off</span><br><span class="hljs-comment"># always å¼€å¯ï¼Œå¼ºåˆ¶åŒ¹é…æ‰€æœ‰è¿›ç¨‹</span><br><span class="hljs-comment"># strict é»˜è®¤ï¼Œç”± Clash åˆ¤æ–­æ˜¯å¦å¼€å¯</span><br><span class="hljs-comment"># off ä¸åŒ¹é…è¿›ç¨‹ï¼Œæ¨èåœ¨è·¯ç”±å™¨ä¸Šä½¿ç”¨æ­¤æ¨¡å¼</span><br><span class="hljs-attr">find-process-mode:</span> <span class="hljs-string">off</span><br><br><span class="hljs-comment"># å…¨å±€å®¢æˆ·ç«¯æŒ‡çº¹</span><br><span class="hljs-attr">global-client-fingerprint:</span> <span class="hljs-string">random</span> <span class="hljs-comment"># éšæœºæŒ‡çº¹</span><br><br><span class="hljs-comment"># ç¼“å­˜</span><br><span class="hljs-attr">profile:</span><br>  <span class="hljs-attr">store-selected:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">store-fake-ip:</span> <span class="hljs-literal">true</span><br><br><span class="hljs-comment"># è‡ªåŠ¨åŒæ­¥æ—¶é—´ä»¥é˜²æ­¢æ—¶é—´ä¸å‡†å¯¼è‡´æ— æ³•æ­£å¸¸è”ç½‘</span><br><span class="hljs-attr">ntp:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-comment"># æ˜¯å¦åŒæ­¥è‡³ç³»ç»Ÿæ—¶é—´ï¼Œéœ€è¦ root/ç®¡ç†å‘˜æƒé™</span><br>  <span class="hljs-attr">write-to-system:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-attr">server:</span> <span class="hljs-string">time.apple.com</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">123</span><br>  <span class="hljs-attr">interval:</span> <span class="hljs-number">30</span><br><br><span class="hljs-comment"># åŸŸåå—…æ¢</span><br><span class="hljs-attr">sniffer:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">sniff:</span><br>    <span class="hljs-attr">TLS:</span><br>      <span class="hljs-attr">ports:</span> [<span class="hljs-number">443</span>, <span class="hljs-number">8443</span>]<br>    <span class="hljs-attr">HTTP:</span><br>      <span class="hljs-attr">ports:</span> [<span class="hljs-number">80</span>, <span class="hljs-number">8080</span><span class="hljs-number">-8880</span>]<br>      <span class="hljs-attr">override-destination:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">skip-domain:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;+.baidu.com&quot;</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;+.bilibili.com&quot;</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;+.hanime1.me&quot;</span><br><span class="hljs-comment"># tun æ¨¡å¼</span><br><span class="hljs-attr">tun:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">false</span>  <span class="hljs-comment"># enable &#x27;true&#x27;</span><br>  <span class="hljs-attr">stack:</span> <span class="hljs-string">system</span>  <span class="hljs-comment"># or &#x27;gvisor&#x27;</span><br>  <span class="hljs-attr">dns-hijack:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;any:53&quot;</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;tcp://any:53&quot;</span><br>  <span class="hljs-attr">auto-route:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">auto-detect-interface:</span> <span class="hljs-literal">true</span><br><br><span class="hljs-comment"># dns è®¾ç½®</span><br><span class="hljs-comment"># å·²é…ç½® ipv6</span><br><span class="hljs-attr">dns:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">listen:</span> <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span><span class="hljs-string">:1053</span><br>  <span class="hljs-attr">ipv6:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-comment"># è·¯ç”±å™¨ä¸ªäººå»ºè®®ä½¿ç”¨ redir-host ä»¥æœ€ä½³å…¼å®¹æ€§</span><br>  <span class="hljs-comment"># å…¶ä»–è®¾å¤‡å¯ä»¥ä½¿ç”¨ fake-ip</span><br>  <span class="hljs-attr">enhanced-mode:</span> <span class="hljs-string">redir-host</span><br>  <span class="hljs-attr">prefer-h3:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">respect-rules:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">cache-algorithm:</span> <span class="hljs-string">arc</span><br>  <span class="hljs-attr">cache-size:</span> <span class="hljs-number">4096</span><br><span class="hljs-comment">#  enhanced-mode: fake-ip</span><br>  <span class="hljs-attr">fake-ip-range:</span> <span class="hljs-number">28.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-string">/8</span><br>  <span class="hljs-attr">fake-ip-filter-mode:</span> <span class="hljs-string">blacklist</span><br>  <span class="hljs-attr">fake-ip-filter:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;*&#x27;</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;+.lan&#x27;</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;+.local&#x27;</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;+.market.xiaomi.com&quot;</span><br>  <span class="hljs-attr">default-nameserver:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-number">192.168</span><span class="hljs-number">.50</span><span class="hljs-number">.1</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">tls://223.5.5.5</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">tls://223.6.6.6</span><br>  <span class="hljs-attr">nameserver:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-number">192.168</span><span class="hljs-number">.50</span><span class="hljs-number">.1</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">https://doh.pub/dns-query</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">https://dns.alidns.com/dns-query</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;tls://8.8.4.4#dns&#x27;</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;tls://1.0.0.1#dns&#x27;</span><br>  <span class="hljs-attr">proxy-server-nameserver:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">https://doh.pub/dns-query</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">https://dns.google/dns-query</span><br>  <span class="hljs-attr">nameserver-policy:</span><br>    <span class="hljs-attr">&quot;geosite:gfw&quot;:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;tls://dns.google&quot;</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;tls://cloudflare-dns.com&quot;</span><br>    <span class="hljs-string">&quot;geosite:cn,private&quot;</span><span class="hljs-string">:</span><br><span class="hljs-comment">#      - https://doh.pub/dns-query</span><br><span class="hljs-comment">#      - https://dns.alidns.com/dns-query</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">https://223.5.5.5/dns-query</span><br>    <span class="hljs-string">&quot;geosite:!cn,!private&quot;</span><span class="hljs-string">:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;tls://dns.google&quot;</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;tls://cloudflare-dns.com&quot;</span><br>  <span class="hljs-attr">fallback:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">tls://8.8.4.4</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">tls://1.1.1.1</span><br>  <span class="hljs-attr">fallback-filter:</span><br>    <span class="hljs-attr">geoip:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">geoip-code:</span> <span class="hljs-string">CN</span><br>    <span class="hljs-attr">geosite:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">gfw</span><br>    <span class="hljs-attr">ipcidr:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-number">240.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span><span class="hljs-string">/4</span><br>    <span class="hljs-attr">domain:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;+.google.com&#x27;</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;+.facebook.com&#x27;</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;+.youtube.com&#x27;</span><br><br><span class="hljs-comment"># è§„åˆ™è®¢é˜…</span><br><span class="hljs-attr">rule-providers:</span><br>  <span class="hljs-comment"># ç§‹é£å¹¿å‘Šæ‹¦æˆªè§„åˆ™</span><br>  <span class="hljs-comment"># https://awavenue.top</span><br>  <span class="hljs-comment"># ç”±äº Anti-AD è¯¯æ€ç‡é«˜ï¼Œæœ¬é¡¹ç›®å·²åœ¨ 1.11-241024 ç‰ˆæœ¬æ›´æ¢ç§‹é£å¹¿å‘Šè§„åˆ™</span><br>  <span class="hljs-attr">AWAvenue-Ads:</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">http</span><br>    <span class="hljs-attr">behavior:</span> <span class="hljs-string">domain</span><br>    <span class="hljs-attr">format:</span> <span class="hljs-string">yaml</span><br>    <span class="hljs-comment"># pathå¯ä¸ºç©º(ä»…é™clash.meta 1.15.0ä»¥ä¸Šç‰ˆæœ¬)</span><br>    <span class="hljs-attr">path:</span> <span class="hljs-string">./rule_provider/AWAvenue-Ads.yaml</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">&quot;https://raw.githubusercontent.com/TG-Twilight/AWAvenue-Ads-Rule/refs/heads/main/Filters/AWAvenue-Ads-Rule-Clash-Classical.yaml&quot;</span><br>    <span class="hljs-attr">interval:</span> <span class="hljs-number">600</span><br><br><span class="hljs-comment"># --------------------------------------------------------</span><br><span class="hljs-comment"># ç­–ç•¥ç»„å®šä¹‰</span><br><span class="hljs-comment"># --------------------------------------------------------</span><br><span class="hljs-attr">proxy-groups:</span><br>  <span class="hljs-comment"># é»˜è®¤ç»„ç°åœ¨åªå…è®¸åœ¨ä»£ç†å’Œç›´è¿ä¹‹é—´é€‰æ‹©</span><br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">é»˜è®¤</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-string">ä»£ç†èŠ‚ç‚¹</span>, <span class="hljs-string">ç›´è¿</span>], <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Proxy.png&quot;</span>&#125;<br><br>  <span class="hljs-comment"># æ‰€æœ‰æœåŠ¡ç­–ç•¥ç»„ç°åœ¨éƒ½ä½¿ç”¨ç®€åŒ–çš„ &amp;pr æ¨¡æ¿</span><br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">Google</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-string">ä»£ç†èŠ‚ç‚¹</span>, <span class="hljs-string">ç›´è¿</span>], <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Google_Search.png&quot;</span>&#125;<br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">Github</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-string">ä»£ç†èŠ‚ç‚¹</span>, <span class="hljs-string">ç›´è¿</span>]&#125;<br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">Apple</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-string">ä»£ç†èŠ‚ç‚¹</span>, <span class="hljs-string">ç›´è¿</span>], <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Apple.png&quot;</span>&#125;<br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">Telegram</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-string">ä»£ç†èŠ‚ç‚¹</span>, <span class="hljs-string">ç›´è¿</span>], <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Telegram.png&quot;</span>&#125;<br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">Twitter</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-string">ä»£ç†èŠ‚ç‚¹</span>, <span class="hljs-string">ç›´è¿</span>], <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Twitter.png&quot;</span>&#125;<br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">TikTok</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-string">ä»£ç†èŠ‚ç‚¹</span>, <span class="hljs-string">ç›´è¿</span>], <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/TikTok.png&quot;</span>&#125;<br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">Pixiv</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-string">ä»£ç†èŠ‚ç‚¹</span>, <span class="hljs-string">ç›´è¿</span>]&#125;<br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">Steam</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-string">ä»£ç†èŠ‚ç‚¹</span>, <span class="hljs-string">ç›´è¿</span>]&#125;<br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">OneDrive</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-string">ä»£ç†èŠ‚ç‚¹</span>, <span class="hljs-string">ç›´è¿</span>], <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/OneDrive.png&quot;</span>&#125;<br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">å¾®è½¯æœåŠ¡</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-string">ç›´è¿</span>, <span class="hljs-string">ä»£ç†èŠ‚ç‚¹</span>], <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Microsoft.png&quot;</span>&#125;<br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">ehentai</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-string">ä»£ç†èŠ‚ç‚¹</span>, <span class="hljs-string">ç›´è¿</span>], <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Panda.png&quot;</span>&#125;<br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">å“”å“©å“”å“©</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-string">ä»£ç†èŠ‚ç‚¹</span>, <span class="hljs-string">ç›´è¿</span>], <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/bilibili.png&quot;</span>&#125;<br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">å“”å“©ä¸œå—äºš</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-string">ä»£ç†èŠ‚ç‚¹</span>, <span class="hljs-string">ç›´è¿</span>], <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/bilibili.png&quot;</span>&#125;<br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">å·´å“ˆå§†ç‰¹</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-string">ä»£ç†èŠ‚ç‚¹</span>, <span class="hljs-string">ç›´è¿</span>], <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Bahamut.png&quot;</span>&#125;<br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">YouTube</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-string">ä»£ç†èŠ‚ç‚¹</span>, <span class="hljs-string">ç›´è¿</span>], <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/YouTube.png&quot;</span>&#125;<br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">NETFLIX</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-string">ä»£ç†èŠ‚ç‚¹</span>, <span class="hljs-string">ç›´è¿</span>], <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Netflix.png&quot;</span>&#125;<br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">Spotify</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-string">ä»£ç†èŠ‚ç‚¹</span>, <span class="hljs-string">ç›´è¿</span>], <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Spotify.png&quot;</span>&#125;<br><br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">å›½å†…</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">ç›´è¿</span>], <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/China_Map.png&quot;</span>&#125;<br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">å…¶ä»–</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-string">ä»£ç†èŠ‚ç‚¹</span>, <span class="hljs-string">ç›´è¿</span>], <span class="hljs-attr">icon:</span> <span class="hljs-string">&quot;https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Final.png&quot;</span>&#125;<br><br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">å¹¿å‘Šæ‹¦æˆª</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">select</span>, <span class="hljs-attr">proxies:</span> [<span class="hljs-string">REJECT</span>, <span class="hljs-string">DIRECT</span>, <span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>] &#125;<br><br>  <span class="hljs-bullet">-</span> &#123;<span class="hljs-attr">name:</span> <span class="hljs-string">è‡ªåŠ¨é€‰æ‹©</span>, <span class="hljs-attr">type:</span> <span class="hljs-string">url-test</span>, <span class="hljs-attr">include-all:</span> <span class="hljs-literal">true</span>, <span class="hljs-attr">exclude-type:</span> <span class="hljs-string">direct</span>, <span class="hljs-attr">url:</span> <span class="hljs-string">&quot;https://www.gstatic.com/generate_204&quot;</span>, <span class="hljs-attr">interval:</span> <span class="hljs-number">800</span>, <span class="hljs-attr">tolerance:</span> <span class="hljs-number">10</span>&#125;<br><br><span class="hljs-attr">rules:</span><br>  <span class="hljs-comment"># è‹¥éœ€ç¦ç”¨ QUIC è¯·å–æ¶ˆæ³¨é‡Š QUIC ä¸¤æ¡è§„åˆ™</span><br>  <span class="hljs-comment"># é˜²æ­¢ YouTube ç­‰ä½¿ç”¨ QUIC å¯¼è‡´é€Ÿåº¦ä¸ä½³, ç¦ç”¨ 443 ç«¯å£ UDP æµé‡ï¼ˆä¸åŒ…æ‹¬å›½å†…ï¼‰</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">AND,(AND,(DST-PORT,443),(NETWORK,UDP)),(NOT,((GEOSITE,cn))),REJECT</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">AND,(AND,(DST-PORT,443),(NETWORK,UDP)),(NOT,((GEOIP,CN))),REJECT</span><br><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">RULE-SET,AWAvenue-Ads,å¹¿å‘Šæ‹¦æˆª</span><br><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">DOMAIN-SUFFIX,immersivetranslate.com,DIRECT</span><br>  <span class="hljs-comment"># è‡ªå®šä¹‰</span><br>  <span class="hljs-comment"># - GEOSITE,bilibili,å“”å“©å“”å“©</span><br>  <span class="hljs-comment"># - GEOSITE,category-scholar-!cn,å¢ƒå¤–AI</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,gfw,å…¶ä»–</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,apple,Apple</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,apple-cn,Apple</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,ehentai,ehentai</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,github,Github</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,twitter,Twitter</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,youtube,YouTube</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,google,Google</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,google-cn,Google</span> <span class="hljs-comment"># Google CN ä¸èµ°ä»£ç†ä¼šå¯¼è‡´é¦™æ¸¯ç­‰åœ°åŒºèŠ‚ç‚¹ Play Store å¼‚å¸¸</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,telegram,Telegram</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,netflix,NETFLIX</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,tiktok,TikTok</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,bahamut,å·´å“ˆå§†ç‰¹</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,spotify,Spotify</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,pixiv,Pixiv</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,steam@cn,å›½å†…</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,steam,Steam</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,onedrive,OneDrive</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,microsoft@cn,å›½å†…</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,microsoft,å¾®è½¯æœåŠ¡</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,geolocation-!cn,å…¶ä»–</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOIP,google,Google</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOIP,netflix,NETFLIX</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOIP,telegram,Telegram</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOIP,twitter,Twitter</span><br><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOSITE,CN,DIRECT</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">GEOIP,CN,DIRECT,no-resolve</span><br><br>  <span class="hljs-comment"># ç»•è¿‡å±€åŸŸç½‘åœ°å€</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">IP-CIDR,10.0.0.0/8,DIRECT</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">IP-CIDR,172.16.0.0/12,DIRECT</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">IP-CIDR,192.168.0.0/16,DIRECT</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">IP-CIDR,100.64.0.0/10,DIRECT</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">IP-CIDR,127.0.0.0/8,DIRECT</span><br><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">MATCH,å…¶ä»–</span><br></code></pre></td></tr></table></figure><h2 id="å®¿ä¸»æœºæµé‡åŠ«æŒè„šæœ¬"><a href="#å®¿ä¸»æœºæµé‡åŠ«æŒè„šæœ¬" class="headerlink" title="å®¿ä¸»æœºæµé‡åŠ«æŒè„šæœ¬"></a>å®¿ä¸»æœºæµé‡åŠ«æŒè„šæœ¬</h2><p>æ–‡ä»¶ä¿å­˜:<code>/root/</code>redirect</p><p><code>.sh</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><code class="hljs shel">#!/bin/bash<br><br># ======================================================================<br># Host æ¨¡å¼ä¸‹ Mihomo é€æ˜ä»£ç† IPTables è„šæœ¬ (ä¼˜åŒ–ç‰ˆ - TCP/UDP å…¨åè®®æ”¯æŒ)<br># ä½œè€…ï¼šGemini AI / åŸºäºç”¨æˆ·è„šæœ¬ä¼˜åŒ–<br># æœ€åæ›´æ–°ï¼š2025-11-15<br># ======================================================================<br><br># ----------------------------------------------------------------------<br># æ ¸å¿ƒé…ç½®å˜é‡ (è¯·æ ¹æ®æ‚¨çš„ç¯å¢ƒä¿®æ”¹)<br># ----------------------------------------------------------------------<br>HOST_IP=&quot;192.168.50.254&quot;            # PVE å®¿ä¸»æœº IP<br>MIHOMO_REDIR_PORT=&quot;7892&quot;            # Mihomo TCP/UDP é€æ˜ä»£ç†ç«¯å£ (ç”¨äº REDIRECT)<br>MIHOMO_TPROXY_PORT=&quot;7893&quot;           # Mihomo TPROXY ç«¯å£ (ç”¨äº UDP/æœªæ¥ TCP ä¼˜åŒ–)<br>MIHOMO_API_PORT=&quot;9090&quot;              # ğŸ’¡ å¢åŠ ï¼šMihomo å¤–éƒ¨æ§åˆ¶/Web UI ç«¯å£<br>MIHOMO_DNS_PORT=&quot;1053&quot;              # ğŸ’¡ å¢åŠ ï¼šMihomo DNS ç›‘å¬ç«¯å£ (æ¥è‡ªæ‚¨çš„é…ç½®æ–‡ä»¶)<br>XRAY_SERVER_IP=&quot;â–ˆâ–ˆâ–ˆ.â–ˆâ–ˆâ–ˆ.â–ˆâ–ˆâ–ˆ.â–ˆâ–ˆâ–ˆ&quot;      # Vless/Xray ä¸Šæ¸¸æœåŠ¡å™¨ IP<br>LOCAL_LAN=&quot;192.168.50.0/24&quot;         # æ‚¨çš„å±€åŸŸç½‘ CIDR<br>PVE_OUT_INTERFACE=&quot;vmbr0&quot;           # PVE å®¿ä¸»æœºç”¨äºè¿æ¥å±€åŸŸç½‘/äº’è”ç½‘çš„æ¥å£<br><br># ----------------------------------------------------------------------<br># æ’é™¤åˆ—è¡¨ (ç§æœ‰ IP èŒƒå›´)<br># ----------------------------------------------------------------------<br>EXCLUDE_IPS=&quot;\<br>10.0.0.0/8 \<br>172.16.0.0/12 \<br>192.168.0.0/16 \<br>127.0.0.0/8 \<br>&quot;<br><br># ----------------------------------------------------------------------<br># 1. æ¸…é™¤æ—§è§„åˆ™å’Œè‡ªå®šä¹‰é“¾ (æé«˜å¹‚ç­‰æ€§)<br># ----------------------------------------------------------------------<br>echo &quot;--- 1. æ¸…é™¤æ—§è§„åˆ™å’Œè‡ªå®šä¹‰é“¾ ---&quot;<br><br># ğŸ’¡ æ¸…é™¤ TPROXY è·¯ç”±è§„åˆ™<br>ip rule del fwmark 1 table 100 2&gt;/dev/null<br>ip route del local 0.0.0.0/0 dev lo table 100 2&gt;/dev/null<br><br># ä» PREROUTING é“¾ä¸­ç§»é™¤å¼•ç”¨<br>iptables -t nat -D PREROUTING -p tcp -s &quot;$LOCAL_LAN&quot; -d &quot;$HOST_IP&quot; -j RETURN 2&gt;/dev/null<br>iptables -t nat -D PREROUTING -p tcp -s &quot;$LOCAL_LAN&quot; ! -d &quot;$LOCAL_LAN&quot; -j MIHOMO_PROXY 2&gt;/dev/null<br>iptables -t mangle -D PREROUTING -p udp -s &quot;$LOCAL_LAN&quot; -d &quot;$HOST_IP&quot; -j RETURN 2&gt;/dev/null<br>iptables -t mangle -D PREROUTING -p udp -s &quot;$LOCAL_LAN&quot; ! -d &quot;$LOCAL_LAN&quot; -j MIHOMO_TPROXY 2&gt;/dev/null<br><br># æ¸…é™¤è‡ªå®šä¹‰é“¾<br>iptables -t nat -F MIHOMO_PROXY 2&gt;/dev/null<br>iptables -t nat -X MIHOMO_PROXY 2&gt;/dev/null<br>iptables -t mangle -F MIHOMO_TPROXY 2&gt;/dev/null<br>iptables -t mangle -X MIHOMO_TPROXY 2&gt;/dev/null<br><br># æ¸…é™¤ POSTROUTING MASQUERADE è§„åˆ™ (é˜²æ­¢é‡å¤)<br>iptables -t nat -D POSTROUTING -s &quot;$LOCAL_LAN&quot; -o &quot;$PVE_OUT_INTERFACE&quot; -j MASQUERADE 2&gt;/dev/null<br><br># ----------------------------------------------------------------------<br># 2. å¯ç”¨ç³»ç»Ÿå†…æ ¸è½¬å‘<br># ----------------------------------------------------------------------<br>echo &quot;--- 2. å¯ç”¨ç³»ç»Ÿå†…æ ¸è½¬å‘ ---&quot;<br>echo 1 &gt; /proc/sys/net/ipv4/ip_forward<br>sysctl -p &gt; /dev/null<br><br># ----------------------------------------------------------------------<br># 3. é…ç½® Mihomo ä»£ç†è½¬å‘é“¾ (NAT è¡¨ç”¨äº TCP REDIRECT)<br># ----------------------------------------------------------------------<br>echo &quot;--- 3. é…ç½® MIHOMO_PROXY (NAT è¡¨) ---&quot;<br>iptables -t nat -N MIHOMO_PROXY<br><br># æ’é™¤ Vless æœåŠ¡å™¨ IP (é¿å…è‡ªä»£ç†/å›ç¯)<br>iptables -t nat -A MIHOMO_PROXY -d &quot;$XRAY_SERVER_IP&quot; -j RETURN<br><br># æ’é™¤æœ¬åœ°å’Œç§æœ‰ç½‘ç»œæµé‡ (å®¿ä¸»æœºè‡ªç”¨/å†…ç½‘é€šä¿¡)<br>echo &quot;æ’é™¤ç§æœ‰ç½‘ç»œåœ°å€...&quot;<br>for ip_cidr in $EXCLUDE_IPS; do<br>    iptables -t nat -A MIHOMO_PROXY -d &quot;$ip_cidr&quot; -j RETURN<br>done<br><br># æ’é™¤ Mihomo è‡ªèº«çš„ç«¯å£ (é˜²æ­¢å›ç¯)<br>echo &quot;æ’é™¤ Mihomo è‡ªèº«ç«¯å£ ($MIHOMO_REDIR_PORT, $MIHOMO_API_PORT)...&quot;<br>iptables -t nat -A MIHOMO_PROXY -p tcp --dport &quot;$MIHOMO_REDIR_PORT&quot; -j RETURN<br>iptables -t nat -A MIHOMO_PROXY -p tcp --dport &quot;$MIHOMO_API_PORT&quot; -j RETURN<br><br># æ’é™¤ SSH ç«¯å£ (22)<br>iptables -t nat -A MIHOMO_PROXY -p tcp --dport 22 -j RETURN<br><br># TCP æµé‡é‡å®šå‘åˆ° Mihomo REDIR ç«¯å£<br>echo &quot;é‡å®šå‘å‰©ä½™ TCP æµé‡åˆ°æœ¬æœº $MIHOMO_REDIR_PORT...&quot;<br>iptables -t nat -A MIHOMO_PROXY -p tcp -j REDIRECT --to-ports &quot;$MIHOMO_REDIR_PORT&quot;<br><br># ----------------------------------------------------------------------<br># 4. é…ç½® TPROXY ä»£ç†è½¬å‘é“¾ (MANGLE è¡¨ç”¨äº UDP)<br># ----------------------------------------------------------------------<br>echo &quot;--- 4. é…ç½® MIHOMO_TPROXY (MANGLE è¡¨) ---&quot;<br>iptables -t mangle -N MIHOMO_TPROXY<br><br># æ’é™¤ Vless æœåŠ¡å™¨ IP<br>iptables -t mangle -A MIHOMO_TPROXY -d &quot;$XRAY_SERVER_IP&quot; -j RETURN<br><br># æ’é™¤æœ¬åœ°å’Œç§æœ‰ç½‘ç»œæµé‡<br>for ip_cidr in $EXCLUDE_IPS; do<br>    iptables -t mangle -A MIHOMO_TPROXY -d &quot;$ip_cidr&quot; -j RETURN<br>done<br><br># æ’é™¤ Mihomo è‡ªèº«çš„ç«¯å£ (é˜²æ­¢å›ç¯)<br>echo &quot;æ’é™¤ Mihomo è‡ªèº«ç«¯å£ ($MIHOMO_TPROXY_PORT, $MIHOMO_API_PORT)...&quot;<br>iptables -t mangle -A MIHOMO_TPROXY -p udp --dport &quot;$MIHOMO_TPROXY_PORT&quot; -j RETURN<br>iptables -t mangle -A MIHOMO_TPROXY -p tcp --dport &quot;$MIHOMO_API_PORT&quot; -j RETURN<br><br># TPROXY å¤„ç† UDP æµé‡ (ä½¿ç”¨ mark æ ‡è®° 1)<br>echo &quot;é‡å®šå‘å‰©ä½™ UDP æµé‡åˆ°æœ¬æœº $MIHOMO_TPROXY_PORT...&quot;<br>iptables -t mangle -A MIHOMO_TPROXY -p udp -j TPROXY --on-ip 0.0.0.0 --on-port &quot;$MIHOMO_TPROXY_PORT&quot; --tproxy-mark 1<br><br># ----------------------------------------------------------------------<br># 5. æ‹¦æˆªå’Œé‡å®šå‘å®¢æˆ·ç«¯æµé‡ (PREROUTING)<br># ----------------------------------------------------------------------<br>echo &quot;--- 5. æ‹¦æˆªå®¢æˆ·ç«¯æµé‡ (PREROUTING) ---&quot;<br><br># ğŸ’¡ A. å¼ºåˆ¶æ¥ç®¡ DNS (53 ç«¯å£) å¹¶é‡å®šå‘åˆ° Mihomo DNS ç«¯å£ (1053)<br># ä»…æ‹¦æˆªæ¥è‡ªå±€åŸŸç½‘çš„ DNS æŸ¥è¯¢<br>echo &quot;å¼ºåˆ¶æ¥ç®¡å±€åŸŸç½‘ DNS (53) -&gt; $MIHOMO_DNS_PORT...&quot;<br>iptables -t nat -A PREROUTING -p udp -s &quot;$LOCAL_LAN&quot; --dport 53 -j REDIRECT --to-ports &quot;$MIHOMO_DNS_PORT&quot;<br>iptables -t nat -A PREROUTING -p tcp -s &quot;$LOCAL_LAN&quot; --dport 53 -j REDIRECT --to-ports &quot;$MIHOMO_DNS_PORT&quot;<br><br># ğŸ’¡ æ’é™¤ç›®æ ‡ä¸ºå®¿ä¸»æœºæœ¬èº«çš„æµé‡ (å¦‚è®¿é—® Web UI æˆ– SSH)<br>iptables -t nat -A PREROUTING -p tcp -s &quot;$LOCAL_LAN&quot; -d &quot;$HOST_IP&quot; -j RETURN<br>iptables -t mangle -A PREROUTING -p udp -s &quot;$LOCAL_LAN&quot; -d &quot;$HOST_IP&quot; -j RETURN<br><br># TCP æµé‡ï¼šæ‹¦æˆªå±€åŸŸç½‘å†…è®¾å¤‡ä¸”ç›®æ ‡ä¸åœ¨å±€åŸŸç½‘å†…çš„æµé‡ï¼Œè½¬å‘è‡³ MIHOMO_PROXY<br>iptables -t nat -A PREROUTING -p tcp -s &quot;$LOCAL_LAN&quot; ! -d &quot;$LOCAL_LAN&quot; -j MIHOMO_PROXY<br><br># UDP æµé‡ï¼šæ‹¦æˆªå±€åŸŸç½‘å†…è®¾å¤‡ä¸”ç›®æ ‡ä¸åœ¨å±€åŸŸç½‘å†…çš„æµé‡ï¼Œè½¬å‘è‡³ MIHOMO_TPROXY<br>iptables -t mangle -A PREROUTING -p udp -s &quot;$LOCAL_LAN&quot; ! -d &quot;$LOCAL_LAN&quot; -j MIHOMO_TPROXY<br><br># ----------------------------------------------------------------------<br># 6. é…ç½® IP è½¬å‘ä¼ªè£… (MASQUERADE)<br># ----------------------------------------------------------------------<br>echo &quot;--- 6. é…ç½® IP è½¬å‘ä¼ªè£… (MASQUERADE) ---&quot;<br># ç¡®ä¿æ‰€æœ‰è½¬å‘å‡ºå»çš„æµé‡æºIPè¢«ä¼ªè£…æˆPVEå®¿ä¸»æœºIPï¼Œè§£å†³å®¢æˆ·ç«¯ç›´è¿è¯·æ±‚æ— æ³•è¿”å›çš„é—®é¢˜ã€‚<br>echo &quot;æ·»åŠ  POSTROUTING MASQUERADE è§„åˆ™åˆ° $PVE_OUT_INTERFACE...&quot;<br>iptables -t nat -A POSTROUTING -s &quot;$LOCAL_LAN&quot; -o &quot;$PVE_OUT_INTERFACE&quot; -j MASQUERADE<br><br># ----------------------------------------------------------------------<br># 7. å¿…è¦çš„è·¯ç”±è®¾ç½® (TPROXY éœ€è¦)<br># ----------------------------------------------------------------------<br>echo &quot;--- 7. é…ç½® TPROXY è·¯ç”±è§„åˆ™ ---&quot;<br># è®¾ç½® IP è·¯ç”±è§„åˆ™ï¼Œä½¿æ ‡è®°ä¸º 1 çš„æ•°æ®åŒ…è¿›å…¥ TPROXY æµç¨‹<br>ip rule add fwmark 1 table 100<br>ip route add local 0.0.0.0/0 dev lo table 100<br><br>echo &quot;âœ… Mihomo Host æ¨¡å¼é€æ˜ä»£ç†é…ç½®å®Œæˆï¼è¯·ç¡®ä¿ Mihomo æ­£åœ¨è¿è¡Œã€‚&quot;<br>exi<br></code></pre></td></tr></table></figure><h2 id="æµé‡åŠ«æŒè„šæœ¬è‡ªå¯åŠ¨"><a href="#æµé‡åŠ«æŒè„šæœ¬è‡ªå¯åŠ¨" class="headerlink" title="æµé‡åŠ«æŒè„šæœ¬è‡ªå¯åŠ¨"></a>æµé‡åŠ«æŒè„šæœ¬è‡ªå¯åŠ¨</h2><p>æ–‡ä»¶ä¿å­˜ï¼š<code>/etc/systemd/system/mihomo-iptables.service</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell">[Unit]<br>Description=Mihomo Transparent Proxy IPTables Rules<br>After=network-online.target<br>Wants=network-online.target<br><br>[Service]<br>Type=oneshot<br>ExecStart=/root/redirect.sh<br>RemainAfterExit=yes<br>StandardOutput=journal<br><br>[Install]<br>WantedBy=multi-user.target<br></code></pre></td></tr></table></figure><h2 id="å¯åŠ¨ï¼"><a href="#å¯åŠ¨ï¼" class="headerlink" title="å¯åŠ¨ï¼"></a>å¯åŠ¨ï¼</h2><p>åˆ‡æ¢åˆ°<code>/root</code>è·¯å¾„ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">é‡è½½ Systemd é…ç½®</span><br>systemctl daemon-reload<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">å¯ç”¨æœåŠ¡ï¼Œè®¾ç½®å¼€æœºè‡ªå¯åŠ¨</span><br>systemctl enable mihomo-iptables.service<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">ç«‹å³å¯åŠ¨æœåŠ¡</span><br>systemctl start mihomo-iptables.service<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">æ£€æŸ¥æœåŠ¡çŠ¶æ€</span><br>systemctl status mihomo-iptables.service<br><br></code></pre></td></tr></table></figure><p>çŠ¶æ€æ­£å¸¸åå†åˆ‡æ¢åˆ°<code>/root/docker</code>,å¯åŠ¨å®¹å™¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker compose up -d<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹æ—¥å¿—</span><br>docker compose logs mihomo -f<br></code></pre></td></tr></table></figure><p>éšåæ‰“å¼€è·¯ç”±å™¨ï¼Œä¿®æ”¹å±€åŸŸç½‘è®¾ç½®ï¼Œå°†DHCPæœåŠ¡ä¸­çš„é»˜è®¤ç½‘å…³ä¸DNSæ”¹ä¸ºå®¿ä¸»æœºçš„IPï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œå°±æ˜¯192.168.50.254ï¼Œéšåä¿å­˜ï¼Œé‡å¯è·¯ç”±å™¨ï¼ŒéªŒè¯è®¾å¤‡ä¸Šç½‘æ˜¯å¦æ­£å¸¸ã€‚</p><p>å¯ä»¥æ‰“å¼€<code>http://192.168.50.254:9090/ui</code>ï¼ŒæŸ¥çœ‹uiç•Œé¢ä¸­çš„æµé‡ä»¥åŠé…ç½®ä¿¡æ¯ã€‚</p><h1 id="åç»­"><a href="#åç»­" class="headerlink" title="åç»­"></a>åç»­</h1><p>å¦‚æœæœ‰é—®é¢˜ï¼ŒæŸ¥è¯¢æ—¥å¿—ï¼Œå¸¦ç€æ—¥æœŸæ‰¾ä¸ªAIé—®ä¸€ä¸‹ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å®¶é‡Œè®¾å¤‡è¾ƒå¤šï¼Œæœ‰äº›è®¾å¤‡æœ‰éœ€è¦ä¿æŒä»£ç†çŠ¶æ€ï¼Œæ‰€ä»¥æ¯ä¸ªè®¾å¤‡éƒ½å»åšä»£ç†ï¼Œé‡åˆ°æ›´æ–°çš„æ—¶å€™å°±ä¼šå¾ˆéº»çƒ¦ï¼Œå•ç‹¬éƒ¨ç½²ä¸€ä¸ªè½¯è·¯ç”±åˆä¼šå¢åŠ ä¸å¿…è¦çš„æˆæœ¬ï¼Œåæœ‰å…«ä¹æ˜¯æ€§èƒ½æµªè´¹ï¼Œæˆ‘å¹¶ä¸éœ€è¦æç«¯å°çš„å»¶è¿Ÿï¼Œå¤Ÿç”¨å°±å¥½ï¼Œäºæ˜¯åœ¨Proxmox VE 9ä¸­æœ¬èº«å­˜åœ¨çš„Dockerä¸­å®‰è£…ä¸€ä¸ªMihomoï¼Œç”¨æ¥ä½œä¸ºç½‘</summary>
      
    
    
    
    <category term="NAS" scheme="https://oujun.work/categories/NAS/"/>
    
    
    <category term="NAS" scheme="https://oujun.work/tags/NAS/"/>
    
    <category term="Docker" scheme="https://oujun.work/tags/Docker/"/>
    
    <category term="æ—è·¯ç½‘å…³" scheme="https://oujun.work/tags/%E6%97%81%E8%B7%AF%E7%BD%91%E5%85%B3/"/>
    
    <category term="ç§‘å­¦ä¸Šç½‘" scheme="https://oujun.work/tags/%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91/"/>
    
    <category term="é€æ˜ä»£ç†" scheme="https://oujun.work/tags/%E9%80%8F%E6%98%8E%E4%BB%A3%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>æœ¬åœ°åŒ–éƒ¨ç½²AIè¯­éŸ³å…‹éš†æ¨¡å‹</title>
    <link href="https://oujun.work/2025/11/10/ai-spark-tts.html"/>
    <id>https://oujun.work/2025/11/10/ai-spark-tts.html</id>
    <published>2025-11-10T19:49:12.232Z</published>
    <updated>2025-11-10T21:02:04.195Z</updated>
    
    <content type="html"><![CDATA[<p>Spark-TTS æ˜¯ä¸€ç§å…ˆè¿›çš„æ–‡æœ¬è½¬è¯­éŸ³ç³»ç»Ÿï¼Œå®ƒåˆ©ç”¨å¤§å‹è¯­è¨€æ¨¡å‹ ï¼ˆLLMï¼‰ çš„å¼ºå¤§åŠŸèƒ½è¿›è¡Œé«˜åº¦å‡†ç¡®å’Œè‡ªç„¶çš„è¯­éŸ³åˆæˆã€‚å®ƒçš„è®¾è®¡é«˜æ•ˆã€çµæ´»ã€å¼ºå¤§ï¼Œé€‚ç”¨äºç ”ç©¶å’Œç”Ÿäº§ç”¨é€”ã€‚</p><h1 id="github"><a href="#github" class="headerlink" title="github"></a>github</h1><p><a href="https://github.com/sparkaudio/spark-tts">SparkAudio&#x2F;Spark-TTS: Spark-TTS Inference Code</a></p><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs powershell">git clone https://github.com/SparkAudio/Spark<span class="hljs-literal">-TTS</span>.git<br><span class="hljs-built_in">cd</span> Spark<span class="hljs-literal">-TTS</span><br></code></pre></td></tr></table></figure><h2 id="åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–"><a href="#åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–" class="headerlink" title="åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–"></a>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs powershell">conda create <span class="hljs-literal">-n</span> sparktts <span class="hljs-literal">-y</span> python=<span class="hljs-number">3.12</span><br>conda activate sparktts<br>pip install <span class="hljs-literal">-r</span> requirements.txt <span class="hljs-literal">-i</span> https://mirrors.aliyun.com/pypi/simple/ <span class="hljs-literal">--trusted-host</span>=mirrors.aliyun.com<br></code></pre></td></tr></table></figure><h2 id="ä¸‹è½½æ¨¡å‹"><a href="#ä¸‹è½½æ¨¡å‹" class="headerlink" title="ä¸‹è½½æ¨¡å‹"></a>ä¸‹è½½æ¨¡å‹</h2><p>å¤§çº¦4Gå·¦å³ï¼Œéœ€è¦æŒç»­ä¸€æ®µæ—¶é—´ã€‚</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs powershell">mkdir <span class="hljs-literal">-p</span> pretrained_models<br>git lfs install<br>git clone https://huggingface.co/SparkAudio/Spark<span class="hljs-literal">-TTS-0</span>.<span class="hljs-number">5</span>B pretrained_models/Spark<span class="hljs-literal">-TTS-0</span>.<span class="hljs-number">5</span>B<br></code></pre></td></tr></table></figure><h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><p>å¯åŠ¨å‘½ä»¤<code>python webui.py --device 0</code> è¡¨ç¤ºå¯åŠ¨webuiï¼Œå¹¶ä½¿ç”¨ç¬¬ä¸€ä¸ªGPUè®¾å¤‡ã€‚</p><p>å¦‚æœå‡ºç°ä¸‹é¢çš„æŠ¥é”™ä¿¡æ¯ï¼Œé‚£ä¹ˆå°±æ˜¯gradioç‰ˆæœ¬å¤ªé«˜äº†ï¼Œé™ä½ç‰ˆæœ¬<code>pip install &quot;gradio&lt;4&quot;</code>å°±èƒ½è§£å†³ã€‚</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs powershell">D:\anaconda3\envs\sparktts\Lib\site<span class="hljs-literal">-packages</span>\torch\nn\utils\weight_norm.py:<span class="hljs-number">143</span>: FutureWarning: `torch.nn.utils.weight_norm` is deprecated <span class="hljs-keyword">in</span> favor of `torch.nn.utils.parametrizations.weight_norm`.<br>  WeightNorm.apply(module, name, dim)<br>Missing tensor: mel_transformer.spectrogram.window<br>Missing tensor: mel_transformer.mel_scale.fb<br>ä¿¡æ¯: ç”¨æä¾›çš„æ¨¡å¼æ— æ³•æ‰¾åˆ°æ–‡ä»¶ã€‚<br>* Running on local URL:  http://<span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>:<span class="hljs-number">7860</span><br>ERROR:    Exception <span class="hljs-keyword">in</span> ASGI application<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;D:\anaconda3\envs\sparktts\Lib\site-packages\uvicorn\protocols\http\h11_impl.py&quot;</span>, line <span class="hljs-number">403</span>, <span class="hljs-keyword">in</span> run_asgi<br>.......<br>  File <span class="hljs-string">&quot;D:\anaconda3\envs\sparktts\Lib\site-packages\gradio_client\utils.py&quot;</span>, line <span class="hljs-number">898</span>, <span class="hljs-keyword">in</span> get_type<br>    <span class="hljs-keyword">if</span> <span class="hljs-string">&quot;const&quot;</span> <span class="hljs-keyword">in</span> schema:<br>       ^^^^^^^^^^^^^^^^^<br>TypeError: argument of <span class="hljs-built_in">type</span> <span class="hljs-string">&#x27;bool&#x27;</span> is not iterable<br></code></pre></td></tr></table></figure><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><blockquote><ol><li>Spark-TTS [<a href="https://sparkaudio.github.io/spark-tts]">https://sparkaudio.github.io/spark-tts]</a></li></ol></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Spark-TTS æ˜¯ä¸€ç§å…ˆè¿›çš„æ–‡æœ¬è½¬è¯­éŸ³ç³»ç»Ÿï¼Œå®ƒåˆ©ç”¨å¤§å‹è¯­è¨€æ¨¡å‹ ï¼ˆLLMï¼‰ çš„å¼ºå¤§åŠŸèƒ½è¿›è¡Œé«˜åº¦å‡†ç¡®å’Œè‡ªç„¶çš„è¯­éŸ³åˆæˆã€‚å®ƒçš„è®¾è®¡é«˜æ•ˆã€çµæ´»ã€å¼ºå¤§ï¼Œé€‚ç”¨äºç ”ç©¶å’Œç”Ÿäº§ç”¨é€”ã€‚&lt;/p&gt;
&lt;h1 id=&quot;github&quot;&gt;&lt;a href=&quot;#github&quot; class=&quot;headerl</summary>
      
    
    
    
    <category term="AI" scheme="https://oujun.work/categories/AI/"/>
    
    
    <category term="AI" scheme="https://oujun.work/tags/AI/"/>
    
    <category term="æœ¬åœ°éƒ¨ç½²" scheme="https://oujun.work/tags/%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2/"/>
    
    <category term="å…‹éš†è¯­éŸ³" scheme="https://oujun.work/tags/%E5%85%8B%E9%9A%86%E8%AF%AD%E9%9F%B3/"/>
    
  </entry>
  
  <entry>
    <title>ç»„ç»‡æœºæ„çš„å®ä½“è®¾è®¡ä¸æ—¶æ€è¡¨çš„åº”ç”¨</title>
    <link href="https://oujun.work/2025/09/15/%E7%BB%84%E7%BB%87%E6%9C%BA%E6%9E%84%E7%9A%84%E5%AE%9E%E4%BD%93%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%97%B6%E6%80%81%E8%A1%A8%E7%9A%84%E5%BA%94%E7%94%A8.html"/>
    <id>https://oujun.work/2025/09/15/%E7%BB%84%E7%BB%87%E6%9C%BA%E6%9E%84%E7%9A%84%E5%AE%9E%E4%BD%93%E8%AE%BE%E8%AE%A1%E4%B8%8E%E6%97%B6%E6%80%81%E8%A1%A8%E7%9A%84%E5%BA%94%E7%94%A8.html</id>
    <published>2025-09-15T02:08:00.000Z</published>
    <updated>2025-12-04T05:46:13.308Z</updated>
    
    <content type="html"><![CDATA[<p>å‘¨æœ«è¿œç¨‹é¢è¯•çš„æ—¶å€™ï¼Œæåˆ°ä»¥å‰é¡¹ç›®ä¸­çš„éš¾ç‚¹ï¼Œå½“æ—¶æåˆ°äº†ç»„ç»‡æ¶æ„çš„é—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜åœ¨å½“æ—¶æŒºæ£˜æ‰‹çš„ï¼Œç»„ç»‡æ¶æ„æ˜¯å…­å±‚çš„<code>å…¬å¸/éƒ¨é—¨/å¤§åŒº/åŒºåŸŸ/é—¨åº—/åº—ç»„</code>è¿™æ ·çš„ç»“æ„ï¼Œé™¤äº†åº—ç»„å…¶ä»–çš„å±‚çº§ä¸Šéƒ½æœ‰è´Ÿè´£äººï¼Œå…¶ä¸­æŸå±‚ä¼šå¸¦ç€ä¸‹é¢çš„å±‚çº§æ•´ä¸ªç§»åŠ¨åˆ°å¦ä¸€ä¸ªå±‚çº§ä¸‹ï¼ŒæŸ¥è¯¢çš„æ—¶å€™è¦åœ¨æ—¶é—´èŒƒå›´å†…æŸ¥å‡ºæŸä¸ªç»„ç»‡å±‚çº§ä¸‹æ‰€æœ‰çš„äººå‘˜å˜åŠ¨ä»¥åŠç»„ç»‡å˜åŠ¨æƒ…å†µä»¥åŠæ¯å±‚ç»„ç»‡è´Ÿè´£äººçš„å˜åŠ¨ï¼Œå½“æ—¶é‡‡ç”¨äº†å±•å¹³å¼çš„è®¾è®¡ï¼Œå…¶å®æ˜¯å€Ÿé‰´äº†ABPæ¡†æ¶ä¸­çš„ç»„ç»‡æœºæ„è®¾è®¡ï¼Œå±äºæˆç†Ÿæ¡†æ¶ä¸­ç›´æ¥æ‹¿æ¥å¤ç”¨çš„ï¼ŒåŒæ—¶ä¹Ÿå¸¦æ¥äº†é—®é¢˜ï¼Œç”±äºæŸ¥è¯¢çš„å¤æ‚æ€§ï¼Œæ‰€ä»¥æ€§èƒ½æ˜¯ä¸€ä¸ªå¤§çš„é—®é¢˜ï¼Œè™½ç„¶é‡‡ç”¨äº†ç¼“å­˜ç­–ç•¥ï¼Œä½†æ˜¯ç”±äºå˜æ›´é¢‘ç¹å¹¶ä¸”å±‚çº§è¾ƒæ·±ï¼Œé›†ä¸­çˆ†å‘è®¿é—®çš„æ—¶å€™æ•°æ®åº“çš„å‹åŠ›ä¾ç„¶å¾ˆå¤§ï¼Œæ‰€ä»¥åæ¥é‡‡ç”¨äº†èµ„æºæ¢æ€§èƒ½çš„æ–¹å¼å¤„ç†ï¼Œåæ¥ä¸€ç›´è¦é‡æ„ä¹Ÿæ²¡æœ‰æ—¶é—´æ¥å¤„ç†ã€‚</p><p>é¢è¯•çš„æ—¶å€™æåˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œæ™šä¸Šçªç„¶æƒ³èµ·æ¥ï¼Œéš”äº†å‡ å¹´äº†ï¼Œåº”è¯¥æœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆäº†ï¼Œç»è¿‡æŸ¥è¯¢ï¼ŒSQL Serverä¸­çš„æ—¶æ€è¡¨æ°å¥½èƒ½å¤Ÿè§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><h1 id="æ—¶æ€è¡¨"><a href="#æ—¶æ€è¡¨" class="headerlink" title="æ—¶æ€è¡¨"></a>æ—¶æ€è¡¨</h1><p>SQL Server ä¸­çš„æ—¶æ€è¡¨ï¼ˆTemporal Tablesï¼‰ï¼Œä¹Ÿç§°ä¸ºç³»ç»Ÿç‰ˆæœ¬æ§åˆ¶æ—¶æ€è¡¨ï¼Œæ˜¯ SQL Server 2016 åŠæ›´é«˜ç‰ˆæœ¬å¼•å…¥çš„ä¸€é¡¹æ•°æ®åº“åŠŸèƒ½</p><p>å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯æä¾›å¯¹è¡¨ä¸­æ•°æ®åœ¨ ä»»ä½•æ—¶é—´ç‚¹ çš„çŠ¶æ€ä¿¡æ¯ï¼Œè€Œä¸ä»…ä»…æ˜¯å½“å‰æ­£ç¡®çš„æ•°æ® 1 . è¿™æ„å‘³ç€ä½ å¯ä»¥è½»æ¾åœ°æŸ¥çœ‹æ•°æ®åœ¨è¿‡å»æŸä¸ªæ—¶é—´ç‚¹çš„æ ·å­ï¼Œæˆ–è€…è·Ÿè¸ªæ•°æ®çš„å†å²å˜åŒ–</p><p>ä»¥ä¸‹æ˜¯æ—¶æ€è¡¨çš„ä¸€äº›å…³é”®ç‰¹æ€§ï¼š</p><p>1.<br>   è‡ªåŠ¨å†å²è®°å½•ç®¡ç† ï¼šæ—¶æ€è¡¨ä¼šè‡ªåŠ¨ç»´æŠ¤è¡¨ä¸­æ•°æ®çš„å®Œæ•´å†å²è®°å½•ï¼Œè€Œæ— éœ€æ‰‹åŠ¨ç¼–å†™è§¦å‘å™¨æˆ–å¤æ‚çš„åº”ç”¨ç¨‹åºé€»è¾‘<br>2.<br>   ä¸¤ä¸ªè¡¨ç»„æˆ ï¼š</p><ul><li>å½“å‰è¡¨ï¼ˆCurrent Tableï¼‰ ï¼šå­˜å‚¨æ•°æ®çš„æœ€æ–°ç‰ˆæœ¬ã€‚</li><li>å†å²è¡¨ï¼ˆHistory Tableï¼‰ ï¼šå­˜å‚¨å¯¹å½“å‰è¡¨è¿›è¡Œæ›´æ”¹ï¼ˆæ’å…¥ã€æ›´æ–°ã€åˆ é™¤ï¼‰æ—¶ï¼Œæ•°æ®çš„æ—§ç‰ˆæœ¬ã€‚å†å²è¡¨çš„åç§°å¯ä»¥ç”± SQL Server è‡ªåŠ¨ç”Ÿæˆï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨æŒ‡å®š</li></ul><p>3.<br>   æ—¶é—´å‘¨æœŸåˆ— ï¼šæ¯ä¸ªæ—¶æ€è¡¨éƒ½æœ‰ä¸¤ä¸ªæ˜¾å¼å®šä¹‰çš„ datetime2 æ•°æ®ç±»å‹åˆ—ï¼Œç§°ä¸ºâ€œå‘¨æœŸåˆ—â€ è¿™äº›åˆ—ç”±ç³»ç»Ÿç‹¬å ä½¿ç”¨ï¼Œç”¨äºè®°å½•æ¯è¡Œæ•°æ®çš„æœ‰æ•ˆæ—¶é—´æ®µã€‚å½“è¡Œè¢«ä¿®æ”¹æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ›´æ–°è¿™äº›å‘¨æœŸåˆ—ã€‚<br>4.<br>   æŸ¥è¯¢å†å²æ•°æ® ï¼šä½ å¯ä»¥ä½¿ç”¨ç‰¹æ®Šçš„ FOR SYSTEM_TIME å­å¥æ¥æŸ¥è¯¢ç‰¹å®šæ—¶é—´ç‚¹çš„æ•°æ®ï¼Œæˆ–è€…æŸ¥è¯¢æŸä¸ªæ—¶é—´èŒƒå›´å†…çš„æ•°æ®å˜åŒ–ã€‚<br>5.<br>   ä½¿ç”¨åœºæ™¯ ï¼šæ—¶æ€è¡¨éå¸¸é€‚ç”¨äºéœ€è¦å®¡è®¡ã€æ•°æ®æ¢å¤ã€è¶‹åŠ¿åˆ†ææˆ–æ»¡è¶³æ³•è§„éµä»æ€§è¦æ±‚ï¼ˆå¦‚ GDPRï¼‰çš„åœºæ™¯ï¼Œä¾‹å¦‚ï¼Œè·Ÿè¸ªå®¢æˆ·ä¿¡æ¯çš„å˜æ›´ã€è®¢å•çŠ¶æ€çš„å†å²è®°å½•ç­‰ã€‚</p><p>æ€»è€Œè¨€ä¹‹ï¼ŒSQL Server æ—¶æ€è¡¨æä¾›äº†ä¸€ç§å†…ç½®çš„ã€é«˜æ•ˆçš„æ–¹å¼æ¥ç®¡ç†æ•°æ®çš„å†å²ç‰ˆæœ¬ï¼Œä½¿å¾—è·Ÿè¸ªæ•°æ®éšæ—¶é—´çš„å˜åŒ–å˜å¾—æ›´åŠ ç®€å•å’Œé€æ˜ã€‚</p><h1 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h1><p>ç”±ä¸Šé¢çš„ä»‹ç»å¯ä»¥çœ‹å‡ºï¼Œæ—¶æ€è¡¨çš„åº”ç”¨æ˜¯å¹¿æ³›çš„ï¼Œå¯¹äºä¸€äº›éœ€è¦ç‰ˆæœ¬æ§åˆ¶çš„æ•°æ®ï¼Œæ¯”å¦‚ç»„ç»‡æ¶æ„ã€äººå‘˜ä¿¡æ¯ã€è®¢å•ä¿¡æ¯ç­‰ï¼Œéƒ½å¯ä»¥é‡‡ç”¨æ—¶æ€è¡¨æ¥è®¾è®¡ï¼Œä½†åŒæ—¶ä¹Ÿæœ‰å¼Šç«¯ï¼Œç”±äºæ¯æ¬¡çš„updateï¼Œdeleteæ“ä½œéƒ½ä¼šåŒæ—¶æ“ä½œ2ä¸ªæ•°æ®è¡¨ï¼Œæ‰€ä»¥æ€§èƒ½ä¸Šä¼šæœ‰å½±å“ï¼Œä½†æ˜¯è¿™ä¸ªå°±æ˜¯è§ä»è§æ™ºï¼Œåœ¨æ“ä½œåé¦ˆçš„äº‹ä»¶ä¸­ï¼Œç”¨æˆ·å¯æ¥å—çš„é˜ˆå€¼èŒƒå›´å†…ï¼Œåº”è¯¥æ˜¯å¯ä»¥åšåˆ°æ— æ„Ÿçš„ã€‚</p><p>åœ¨æ¶æ„è®¾è®¡ä¸­ï¼Œæœ¬èº«å°±ä¼šè®¾è®¡ä¸€äº›å†å²è®°å½•è¡¨ï¼Œç”¨æ¥è®°å½•æ•°æ®çš„å˜æ›´å†å²ï¼Œä½†æ˜¯è¿™äº›å†å²è®°å½•è¡¨ä¸€èˆ¬éƒ½æ˜¯æ‰‹åŠ¨ç¼–å†™çš„ï¼Œæ²¡æœ‰é‡‡ç”¨æ—¶æ€è¡¨çš„æ–¹å¼ï¼Œæ‰€ä»¥åœ¨æŸ¥è¯¢å†å²æ•°æ®çš„æ—¶å€™ï¼Œéœ€è¦æ‰‹åŠ¨ç¼–å†™æŸ¥è¯¢è¯­å¥ï¼Œè€Œé‡‡ç”¨æ—¶æ€è¡¨çš„æ–¹å¼ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨æŸ¥è¯¢è¯­å¥ï¼Œä¸éœ€è¦æ‰‹åŠ¨ç¼–å†™æŸ¥è¯¢è¯­å¥ï¼ŒåŒæ—¶ä¹Ÿä¸éœ€è¦æ‰‹åŠ¨ç»´æŠ¤å†å²è®°å½•è¡¨ï¼Œè¿™å°±å¤§å¤§ç®€åŒ–äº†æ¶æ„è®¾è®¡çš„å¤æ‚åº¦ã€‚å¹¶ä¸”ï¼ŒåŸç”Ÿæ•°æ®åº“çš„æ”¯æŒä¹Ÿå‡å°‘äº†å¼€å‘æˆæœ¬ã€‚</p><h1 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h1><p><a href="https://learn.microsoft.com/zh-tw/ef/core/what-is-new/ef-core-6.0/whatsnew">EF Core 6.0çš„æ—¶å€™å¼€å§‹äº†å¯¹æ—¶æ€è¡¨çš„æ”¯æŒ</a>, ä¸¾ä¸€ä¸ªç›‘å•çš„ä¾‹å­ï¼Œå¦‚ä¸‹çš„å®ä½“ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment">// Person å®ä½“</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Person</span><br>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> PersonId &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> EmployeeNumber &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æœåŠ¡æ³¨å†Œ</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs csharp">builder.Services.AddDbContext&lt;TDBContext&gt;(options =&gt;<br>    options.UseSqlServer(builder.Configuration.GetConnectionString(<span class="hljs-string">&quot;DefaultConnection&quot;</span>), <span class="hljs-keyword">args</span> =&gt;<br>    &#123;<br>        <span class="hljs-keyword">args</span>.UseHierarchyId();<br>    &#125;));<br></code></pre></td></tr></table></figure><p>åœ¨DbContextä¸­è¿›è¡Œè®¾å®šï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">DbSet</span>&lt;<span class="hljs-title">Person</span>&gt; Persons</span> &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnModelCreating</span>(<span class="hljs-params">ModelBuilder modelBuilder</span>)</span><br>&#123;<br>    modelBuilder.Entity&lt;Person&gt;()<br>        .ToTable(<span class="hljs-string">&quot;Person&quot;</span>, tb =&gt; tb.IsTemporal()); <span class="hljs-comment">//IsTemporalè¡¨ç¤ºä¸ºæ—¶æ€è¡¨ï¼Œä¼šè‡ªåŠ¨å¢åŠ å½±å­å±æ€§PeriodEndå’ŒPeriodStart</span><br>&#125;<br></code></pre></td></tr></table></figure><p>å¼•ç”¨çš„åŒ…</p><ul><li>Microsoft.EntityFrameworkCore</li><li>Microsoft.EntityFrameworkCore.SqlServer</li><li>Microsoft.EntityFrameworkCore.SqlServer.HierarchyId</li></ul><p>ä»¥åŠ</p><ul><li>Microsoft.EntityFrameworkCore.Design</li><li>Microsoft.EntityFrameworkCore.Tools</li></ul><p>è¿›è¡Œè¿ç§»åï¼Œä¼šç”Ÿæˆä¸¤å¼ è¡¨</p><p>Personè¡¨</p><table><thead><tr><th>PersonId</th><th>Name</th><th>EmployeeNumber</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p>PersonHistoryè¡¨</p><table><thead><tr><th>PersonId</th><th>Name</th><th>EmployeeNumber</th><th>PeriodEnd</th><th>PeriodStart</th></tr></thead><tbody><tr><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><p>å½“æˆ‘ä»¬è¿›è¡Œæ•°æ®æ’å…¥çš„æ—¶å€™ï¼Œåªä¼šå¯¹Personè¡¨è¿›è¡Œå†™å…¥</p><p>Personè¡¨</p><table><thead><tr><th>PersonId</th><th>Name</th><th>EmployeeNumber</th></tr></thead><tbody><tr><td>1</td><td>äººå‘˜1</td><td>000001</td></tr></tbody></table><p>ä¹‹åå¯¹æ•°æ®è¿›è¡Œå˜æ›´çš„æ—¶å€™ï¼Œä¾‹å¦‚ä¿®æ”¹ï¼Œåˆ é™¤ï¼Œä¼šåŒæ—¶å¯¹Personè¡¨å’ŒPersonHistoryè¡¨è¿›è¡Œå†™å…¥</p><p>Personè¡¨</p><table><thead><tr><th>PersonId</th><th>Name</th><th>EmployeeNumber</th></tr></thead><tbody><tr><td>1</td><td>äººå‘˜1</td><td>100001</td></tr></tbody></table><p>PersonHistoryè¡¨</p><table><thead><tr><th>PersonId</th><th>Name</th><th>EmployeeNumber</th><th>PeriodEnd</th><th>PeriodStart</th></tr></thead><tbody><tr><td>1</td><td>äººå‘˜1</td><td>000001</td><td>2025-09-15 04:44:30.084</td><td>2025-09-15 04:41:56.173</td></tr></tbody></table><h1 id="æŸ¥è¯¢å†å²æ•°æ®"><a href="#æŸ¥è¯¢å†å²æ•°æ®" class="headerlink" title="æŸ¥è¯¢å†å²æ•°æ®"></a>æŸ¥è¯¢å†å²æ•°æ®</h1><p>æ­£å¸¸çš„æŸ¥è¯¢åªè¦ä½¿ç”¨dbcontext.Personå°±å¯ä»¥æŸ¥è¯¢åˆ°å½“å‰çš„æ‰€æœ‰æ•°æ®ï¼Œä½†æ˜¯å¦‚æœéœ€è¦æŸ¥è¯¢å†å²æ•°æ®ï¼Œå°±éœ€è¦ä½¿ç”¨ç‰¹æ®Šçš„æŸ¥è¯¢è¯­å¥ï¼Œå¦‚ä¸‹ï¼š</p><p>await _dBContext.Persons.TemporalAll().Where(t &#x3D;&gt; t.PersonId &#x3D;&#x3D; 1).ToListAsync();<br>&#x2F;&#x2F; æˆ–è€…<br>await _dBContext.Persons.TemporalAsOf(DateTime.Now).Where(t &#x3D;&gt; t.PersonId &#x3D;&#x3D; 1).ToListAsync();<br>&#x2F;&#x2F; æˆ–è€…<br>await _dBContext.Persons.TemporalBetween(DateTime.Now, DateTime.Now.AddDays(1)).Where(t &#x3D;&gt; t.PersonId &#x3D;&#x3D; 1).ToListAsync();</p><h1 id="ä¸è¶³"><a href="#ä¸è¶³" class="headerlink" title="ä¸è¶³"></a>ä¸è¶³</h1><p>é—æ†¾çš„æ˜¯ï¼Œç›®å‰ï¼Œpostgresqlè¿˜æ²¡æœ‰åŸç”Ÿæ”¯æŒçš„æ—¶æ€è¡¨ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å‘¨æœ«è¿œç¨‹é¢è¯•çš„æ—¶å€™ï¼Œæåˆ°ä»¥å‰é¡¹ç›®ä¸­çš„éš¾ç‚¹ï¼Œå½“æ—¶æåˆ°äº†ç»„ç»‡æ¶æ„çš„é—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜åœ¨å½“æ—¶æŒºæ£˜æ‰‹çš„ï¼Œç»„ç»‡æ¶æ„æ˜¯å…­å±‚çš„&lt;code&gt;å…¬å¸/éƒ¨é—¨/å¤§åŒº/åŒºåŸŸ/é—¨åº—/åº—ç»„&lt;/code&gt;è¿™æ ·çš„ç»“æ„ï¼Œé™¤äº†åº—ç»„å…¶ä»–çš„å±‚çº§ä¸Šéƒ½æœ‰è´Ÿè´£äººï¼Œå…¶ä¸­æŸå±‚ä¼šå¸¦ç€ä¸‹é¢çš„å±‚çº§æ•´ä¸ªç§»åŠ¨åˆ°å¦ä¸€ä¸ªå±‚çº§ä¸‹ï¼ŒæŸ¥è¯¢çš„æ—¶å€™è¦åœ¨</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="æ¶æ„" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%9E%B6%E6%9E%84/"/>
    
    
    <category term="æ¶æ„" scheme="https://oujun.work/tags/%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>GOè¯­è¨€åŸºæœ¬æ³•</title>
    <link href="https://oujun.work/2025/08/03/GO%E8%AF%AD%E8%A8%80%E5%9F%BA%E6%9C%AC%E6%B3%95.html"/>
    <id>https://oujun.work/2025/08/03/GO%E8%AF%AD%E8%A8%80%E5%9F%BA%E6%9C%AC%E6%B3%95.html</id>
    <published>2025-08-03T14:23:00.000Z</published>
    <updated>2025-08-03T14:23:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-åŸºæœ¬è¯­æ³•"><a href="#1-åŸºæœ¬è¯­æ³•" class="headerlink" title="1. åŸºæœ¬è¯­æ³•"></a>1. <strong>åŸºæœ¬è¯­æ³•</strong></h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>    fmt.Println(<span class="hljs-string">&quot;Hello world!&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><strong>package main</strong> æ˜¯åŒ…åï¼Œæ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½è¦æœ‰ä¸€ä¸ªmainçš„åŒ…</li><li><strong>import â€œfmtâ€</strong> å¼•å…¥åŒ…</li><li><strong>func main() {</strong> ç”¨çš„å…¥å£ï¼Œ<code>&#123;</code>ä¸èƒ½å•ç‹¬ä¸€è¡Œ</li><li>å¦‚æœå˜é‡å&#x2F;æ–¹æ³•å&#x2F;Type&#x2F;Structç­‰ä»¥å¤§å†™å¼€å¤´ï¼Œåˆ™ç­‰åŒäºpublicï¼Œå¯ä»¥å…¶ä»–åŒ…åœ¨å¯¼å…¥åè¿›è¡Œè°ƒç”¨</li><li></li></ul><h1 id="1-1-å®šä¹‰å˜é‡å’Œå¸¸é‡"><a href="#1-1-å®šä¹‰å˜é‡å’Œå¸¸é‡" class="headerlink" title="1.1 å®šä¹‰å˜é‡å’Œå¸¸é‡"></a>1.1 <strong>å®šä¹‰å˜é‡å’Œå¸¸é‡</strong></h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">var</span> a <span class="hljs-type">int</span><br>b := <span class="hljs-number">2</span><br><span class="hljs-keyword">var</span> a, b, c <span class="hljs-type">int</span> = <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> <br><span class="hljs-keyword">var</span> a, b, c = <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-literal">false</span><br>a, b, c := <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-literal">false</span><br><span class="hljs-keyword">var</span> (<br>    a <span class="hljs-type">int</span><br>    b <span class="hljs-type">int</span><br>    c <span class="hljs-type">bool</span><br>)<br></code></pre></td></tr></table></figure><p>ç¬¬äºŒç§ç±»ä¼¼äºC#ä¸­çš„varï¼Œæ ¹æ®å€¼è¿›è¡Œæ¨æ–­ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">const</span> Hello <span class="hljs-type">string</span> = <span class="hljs-string">&quot;hello world&quot;</span><br><br><span class="hljs-keyword">const</span> (<br>A = <span class="hljs-string">&quot;d&quot;</span><br>B = <span class="hljs-number">2</span><br>C = <span class="hljs-string">&quot;p&quot;</span><br>D = A + C<br>E = B * Bï¼Œ<br>    F<br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>fmt.Println(A, B, C, D, E, F)<br>&#125;<br><br></code></pre></td></tr></table></figure><p>è¿™æ˜¯å¸¸é‡,å®šä¹‰æ–¹å¼ä¸å˜é‡ç±»ä¼¼</p><h1 id="2-æ‰§è¡Œä¸æ‰“åŒ…"><a href="#2-æ‰§è¡Œä¸æ‰“åŒ…" class="headerlink" title="2. æ‰§è¡Œä¸æ‰“åŒ…"></a>2. <strong>æ‰§è¡Œä¸æ‰“åŒ…</strong></h1><ul><li><code>go run ***.go</code> ç›´æ¥è¿è¡Œ</li><li><code>go build ***.go</code>  ç¼–è¯‘ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶,windowsç¯å¢ƒä¼šç¼–è¯‘æˆexe</li></ul><h1 id="3-å…¶ä»–"><a href="#3-å…¶ä»–" class="headerlink" title="3. å…¶ä»–"></a>3. <strong>å…¶ä»–</strong></h1><h2 id="3-1-å¼•å…¥å¤šä¸ªåŒ…"><a href="#3-1-å¼•å…¥å¤šä¸ªåŒ…" class="headerlink" title="3.1 å¼•å…¥å¤šä¸ªåŒ…"></a>3.1 <strong>å¼•å…¥å¤šä¸ªåŒ…</strong></h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>    <span class="hljs-string">&quot;fmt&quot;</span><br>    <span class="hljs-string">&quot;net/http&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>    fmt.Println(<span class="hljs-string">&quot;Hello world!&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="4-httpæœåŠ¡"><a href="#4-httpæœåŠ¡" class="headerlink" title="4. httpæœåŠ¡"></a>4. <strong>httpæœåŠ¡</strong></h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;fmt&quot;</span><br><span class="hljs-string">&quot;net/http&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>http.HandleFunc(<span class="hljs-string">&quot;/go&quot;</span>, myHandler)<br>http.ListenAndServe(<span class="hljs-string">&quot;:8088&quot;</span>, <span class="hljs-literal">nil</span>)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">myHandler</span><span class="hljs-params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;<br>fmt.Println(r.RemoteAddr, <span class="hljs-string">&quot;è¿æ¥æˆåŠŸ&quot;</span>)<br><span class="hljs-comment">// è¯·æ±‚æ–¹å¼ï¼šGET POST DELETE PUT UPDATE</span><br>fmt.Println(<span class="hljs-string">&quot;method:&quot;</span>, r.Method)<br><span class="hljs-comment">// /go</span><br>fmt.Println(<span class="hljs-string">&quot;url:&quot;</span>, r.URL.Path)<br>fmt.Println(<span class="hljs-string">&quot;header:&quot;</span>, r.Header)<br>fmt.Println(<span class="hljs-string">&quot;body:&quot;</span>, r.Body)<br><span class="hljs-comment">// å›å¤</span><br>w.Write([]<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;helloworld&quot;</span>))<br>&#125;<br><br></code></pre></td></tr></table></figure><ul><li><code>http.HandleFunc(&quot;/go&quot;, myHandler)</code> ä¸€ä¸ªè·¯ç”±(controllerçš„action)ï¼ŒmyHandleræ–¹æ³•</li><li><code>http.ListenAndServe(&quot;:8088&quot;, nil)</code> ç›‘å¬ç«¯å£ï¼Œ8088</li><li><code>w.Write([]byte(&quot;helloworld&quot;))</code> è¿”å›çš„å†…å®¹</li></ul><p>è¿è¡Œåï¼Œè®¿é—®<code>http://127.0.0.1:8088/go</code>ä¼šè¿”å›helloworld</p><p><strong>æ”¯æŒåŒ¿åæ–¹æ³•</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;fmt&quot;</span><br><span class="hljs-string">&quot;net/http&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>http.HandleFunc(<span class="hljs-string">&quot;/go&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;<br>fmt.Println(r.RemoteAddr, <span class="hljs-string">&quot;è¿æ¥æˆåŠŸ&quot;</span>)<br><span class="hljs-comment">// è¯·æ±‚æ–¹å¼ï¼šGET POST DELETE PUT UPDATE</span><br>fmt.Println(<span class="hljs-string">&quot;method:&quot;</span>, r.Method)<br><span class="hljs-comment">// /go</span><br>fmt.Println(<span class="hljs-string">&quot;url:&quot;</span>, r.URL.Path)<br>fmt.Println(<span class="hljs-string">&quot;header:&quot;</span>, r.Header)<br>fmt.Println(<span class="hljs-string">&quot;body:&quot;</span>, r.Body)<br><span class="hljs-comment">// å›å¤</span><br>w.Write([]<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;helloworld&quot;</span>))<br>&#125;)<br>http.ListenAndServe(<span class="hljs-string">&quot;:8088&quot;</span>, <span class="hljs-literal">nil</span>)<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="5-è°ƒç”¨"><a href="#5-è°ƒç”¨" class="headerlink" title="5. è°ƒç”¨"></a>5. <strong>è°ƒç”¨</strong></h1><p>é¡¹ç›®æ–‡ä»¶å¤¹ä¸º<code>d:\github\gotest</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">go mod init gotest<br></code></pre></td></tr></table></figure><p>ä¼šåœ¨æ ¹ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªgo.modæ–‡ä»¶,åœ¨åˆ›å»ºä¸€ä¸ªhttpservæ–‡ä»¶å¤¹ç„¶åæ–‡ä»¶æ ‘ç›®å½•å¦‚ä¸‹ï¼š</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs maxima">d:\github\gotest<br>â”‚-<span class="hljs-built_in">go</span>.<span class="hljs-built_in">mod</span><br>â”‚-mainapp.<span class="hljs-built_in">go</span><br>â””â”€httpserv<br>        serv.<span class="hljs-built_in">go</span><br>        s1.<span class="hljs-built_in">go</span><br></code></pre></td></tr></table></figure><ul><li>mainapp.go</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;net/http&quot;</span><br><br>serv <span class="hljs-string">&quot;gotest/httpserv&quot;</span> <span class="hljs-comment">//å¼•å…¥httpservæ–‡ä»¶å¤¹</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>http.HandleFunc(<span class="hljs-string">&quot;/go&quot;</span>, serv.HelloHandler) <span class="hljs-comment">//å—²ç”¨</span><br>http.ListenAndServe(<span class="hljs-string">&quot;:8088&quot;</span>, <span class="hljs-literal">nil</span>)<br>&#125;<br><br></code></pre></td></tr></table></figure><ul><li>serv.go</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> serv<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;fmt&quot;</span><br><span class="hljs-string">&quot;net/http&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">HelloHandler</span><span class="hljs-params">(w http.ResponseWriter, r *http.Request)</span></span> &#123;<br>fmt.Println(r.RemoteAddr, <span class="hljs-string">&quot;è¿æ¥æˆåŠŸ&quot;</span>)<br>    Demo() <span class="hljs-comment">//å¯ä»¥ç›´æ¥è°ƒç”¨åŒååŒ…ä¸‹çš„å…¶ä»–æ–‡ä»¶ä¸­çš„æ–¹æ³•</span><br><span class="hljs-comment">// è¯·æ±‚æ–¹å¼ï¼šGET POST DELETE PUT UPDATE</span><br>fmt.Println(<span class="hljs-string">&quot;method:&quot;</span>, r.Method)<br><span class="hljs-comment">// /go</span><br>fmt.Println(<span class="hljs-string">&quot;url:&quot;</span>, r.URL.Path)<br>fmt.Println(<span class="hljs-string">&quot;header:&quot;</span>, r.Header)<br>fmt.Println(<span class="hljs-string">&quot;body:&quot;</span>, r.Body)<br><span class="hljs-comment">// å›å¤</span><br>w.Write([]<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;helloworld&quot;</span>))<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>s1.go</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> serv<br><br><span class="hljs-keyword">import</span> (<br><span class="hljs-string">&quot;fmt&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Demo</span><span class="hljs-params">()</span></span> &#123;<br>fmt.Println(<span class="hljs-string">&quot;demo&quot;</span>)<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-åŸºæœ¬è¯­æ³•&quot;&gt;&lt;a href=&quot;#1-åŸºæœ¬è¯­æ³•&quot; class=&quot;headerlink&quot; title=&quot;1. åŸºæœ¬è¯­æ³•&quot;&gt;&lt;/a&gt;1. &lt;strong&gt;åŸºæœ¬è¯­æ³•&lt;/strong&gt;&lt;/h1&gt;&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;t</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="GOè¯­è¨€" scheme="https://oujun.work/tags/GO%E8%AF%AD%E8%A8%80/"/>
    
  </entry>
  
  <entry>
    <title>DevOpsä¸­Scrumæ¨¡å¼ä½¿ç”¨è¯´æ˜</title>
    <link href="https://oujun.work/2024/08/07/DevOps%E4%B8%ADScrum%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.html"/>
    <id>https://oujun.work/2024/08/07/DevOps%E4%B8%ADScrum%E6%A8%A1%E5%BC%8F%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E.html</id>
    <published>2024-08-07T12:00:00.000Z</published>
    <updated>2025-12-04T05:46:13.305Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä½œè€…ï¼š <a href="/chunqiudada">@åœæµ·æƒ(chunqiudada)</a></p></blockquote><h1 id="é•¿ç¯‡æ•…äº‹-story"><a href="#é•¿ç¯‡æ•…äº‹-story" class="headerlink" title="é•¿ç¯‡æ•…äº‹(story)"></a>é•¿ç¯‡æ•…äº‹(story)</h1><p>ä½“é‡è¶³å¤Ÿå¤§çš„éœ€æ±‚ ä¼šåˆ›å»ºä¸ºé•¿ç¯‡æ•…äº‹ã€‚<br>æˆ–è€…éœ€è¦è·¨ å†²åˆº(sprint)å‘¨æœŸçš„éœ€æ±‚ ä¼šåˆ›å»ºä¸ºé•¿ç¯‡æ•…äº‹ã€‚</p><h2 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h2><p>ä¸€ä¸ªå†²åˆº(sprint)å‘¨æœŸå†…çš„éœ€æ±‚ ä¼šåˆ›å»ºä¸ºç‰¹æ€§ã€‚<br>é•¿ç¯‡æ•…äº‹æ‹†è§£ä¸ºç‰¹æ€§ã€‚</p><h3 id="ç§¯å‹å·¥ä½œï¼ˆbacklogï¼‰"><a href="#ç§¯å‹å·¥ä½œï¼ˆbacklogï¼‰" class="headerlink" title="ç§¯å‹å·¥ä½œï¼ˆbacklogï¼‰"></a>ç§¯å‹å·¥ä½œï¼ˆbacklogï¼‰</h3><p>ä½“é‡è¶³å¤Ÿå°çš„éœ€æ±‚ ä¼šç›´æ¥åˆ›å»ºä¸ºç§¯å‹å·¥ä½œã€‚<br>ç‰¹æ€§æ‹†è§£ä¸ºç§¯å‹å·¥ä½œã€‚</p><h4 id="ä»»åŠ¡ï¼ˆtaskï¼‰"><a href="#ä»»åŠ¡ï¼ˆtaskï¼‰" class="headerlink" title="ä»»åŠ¡ï¼ˆtaskï¼‰"></a>ä»»åŠ¡ï¼ˆtaskï¼‰</h4><p>ç§¯å‹å·¥ä½œæ‹†è§£ä¸ºä»»åŠ¡ã€‚<br>ä»»åŠ¡ä¸ä¼šç‹¬ç«‹å­˜åœ¨ã€‚</p><hr><h1 id="ç­–ç•¥"><a href="#ç­–ç•¥" class="headerlink" title="ç­–ç•¥"></a>ç­–ç•¥</h1><h2 id="æ— ä¸Šçº§å¤„ç†"><a href="#æ— ä¸Šçº§å¤„ç†" class="headerlink" title="æ— ä¸Šçº§å¤„ç†"></a>æ— ä¸Šçº§å¤„ç†</h2><p>é¡¶çº§å·¥ä½œé¡¹ä¸ºé•¿ç¯‡æ•…äº‹ã€‚<br>ä¸ºé˜²æ­¢ æ— é¡¶çº§çš„ ç‰¹æ€§ å­˜åœ¨ï¼Œæ¯æœˆä¼šåˆ›å»ºä¸€ä¸ªä»¥æœˆä¸ºåå­—çš„é•¿ç¯‡æ•…äº‹ï¼Œç‰¹æ€§çº§å·¥ä½œé¡¹æŒ‚åœ¨æœˆé•¿ç¯‡æ•…äº‹ä¸‹ã€‚<br>ä¸ºé˜²æ­¢ æ— é¡¶çº§çš„ ç§¯å‹å·¥ä½œ å­˜åœ¨ï¼Œä¼šåœ¨æœˆé•¿ç¯‡æ•…äº‹ä¸‹ åˆ›å»º ä¸€ä¸ª æœˆå°ä»»åŠ¡ ç‰¹æ€§ã€‚</p><h2 id="æ ‡ğŸ“—é¡¹"><a href="#æ ‡ğŸ“—é¡¹" class="headerlink" title="æ ‡ğŸ“—é¡¹"></a>æ ‡ğŸ“—é¡¹</h2><p><img src="/images/1636366901512-2632716a-343d-4d36-9388-dc98b5a87a16.png" alt="image.png"><br>æ‹†è§£åçš„å·¥ä½œé¡¹ ä¼šåœ¨ç§¯å‹å·¥ä½œï¼ˆbacklogï¼‰é¢æ¿ä¸­ï¼ŒæŒ‰ç…§å±‚çº§ä½“ç°ã€‚<br>ä¸ºäº†èƒ½å¤Ÿæ¸…æ™° å“ªäº›å·¥ä½œé¡¹æ˜¯ éœ€æ±‚ï¼Œæ‰€ä»¥æŠŠéœ€æ±‚çš„å·¥ä½œé¡¹ æ ‡é¢˜ åŠ ğŸ“— å‰ç¼€ã€‚</p><hr><h1 id="é˜¶æ®µåŠä¼šè®®å®šä¹‰"><a href="#é˜¶æ®µåŠä¼šè®®å®šä¹‰" class="headerlink" title="é˜¶æ®µåŠä¼šè®®å®šä¹‰"></a>é˜¶æ®µåŠä¼šè®®å®šä¹‰</h1><h2 id="é˜¶æ®µæ ‡è®°"><a href="#é˜¶æ®µæ ‡è®°" class="headerlink" title="é˜¶æ®µæ ‡è®°"></a>é˜¶æ®µæ ‡è®°</h2><p>éœ€æ±‚ä»æå‡ºåˆ°è¿›å…¥å¼€å‘é˜¶æ®µï¼Œä¸­é—´éœ€è¦ç»å†å„ä¸ªå‰ç½®é˜¶æ®µã€‚ç›®å‰ä¼šé‡‡ç”¨åœ¨å·¥ä½œé¡¹ä¸­è¿›è¡Œæ ‡è®°çš„æ–¹å¼ï¼Œæ–¹ä¾¿äº†è§£å·¥ä½œé¡¹çš„è¿›è¡ŒçŠ¶å†µã€‚é˜¶æ®µæ ‡è®°ä¸ä¸å·¥ä½œé¡¹æœ¬èº«çŠ¶æ€å¼ºå…³è”ã€‚<br><img src="/images/1636453885680-9a4f3070-5948-4a44-9482-7fd5ba092400.png" alt="image.png"></p><h2 id="0ã€æœªå¯åŠ¨"><a href="#0ã€æœªå¯åŠ¨" class="headerlink" title="0ã€æœªå¯åŠ¨"></a>0ã€æœªå¯åŠ¨</h2><p>åœ¨éœ€æ±‚é•¿æœŸç§¯å‹çš„æƒ…å†µä¸‹ï¼Œå¯é€‰æ‹©æ€§æ·»åŠ è¯¥æ ‡è®°ã€‚</p><h2 id="1ã€é¢„è¯„å®¡-é¢„å®¡ä¼š"><a href="#1ã€é¢„è¯„å®¡-é¢„å®¡ä¼š" class="headerlink" title="1ã€é¢„è¯„å®¡ - é¢„å®¡ä¼š"></a>1ã€é¢„è¯„å®¡ - é¢„å®¡ä¼š</h2><p>åœ¨è¯¥é˜¶æ®µä¸­ï¼Œä¼šè¿›è¡Œé¢„å®¡ä¼šã€‚ç›¸å…³äººä¸€è‡´é€šè¿‡åï¼Œä¼šè¿›å…¥éœ€æ±‚è¯„å®¡é˜¶æ®µã€‚<br>é¢„å®¡ä¼šæ¬¡æ•°ä¸é™åˆ¶ï¼Œç›´è‡³é€šè¿‡ä¸ºæ­¢ã€‚<br>ç”±SMä¸POè¿›è¡Œç»„ç»‡ï¼Œç›¸å…³æŠ€æœ¯è´Ÿè´£äººå‚ä¸ã€‚<br>ä¸»è¦ç›®çš„æ˜¯è¯„ä¼° éœ€æ±‚åœ¨ç³»ç»Ÿä¸­çš„å¯è¡Œæ€§ä»¥åŠåˆæ­¥è®¾è®¡æ–¹æ¡ˆã€‚</p><h2 id="2ã€éœ€æ±‚è¯„å®¡-éœ€æ±‚è¯„å®¡ä¼š"><a href="#2ã€éœ€æ±‚è¯„å®¡-éœ€æ±‚è¯„å®¡ä¼š" class="headerlink" title="2ã€éœ€æ±‚è¯„å®¡ - éœ€æ±‚è¯„å®¡ä¼š"></a>2ã€éœ€æ±‚è¯„å®¡ - éœ€æ±‚è¯„å®¡ä¼š</h2><p>åœ¨è¯¥é˜¶æ®µä¸­ï¼Œä¼šè¿›è¡Œéœ€æ±‚è¯„å®¡ä¼šã€‚ç›¸å…³äººä¸€ç›´é€šè¿‡åï¼Œä¼šè¿›å…¥æŠ€æœ¯æ–¹æ¡ˆé˜¶æ®µã€‚<br>éœ€æ±‚è¯„å®¡ä¼šæ¬¡æ•°ä¸é™åˆ¶ï¼Œç›´è‡³é€šè¿‡ä¸ºæ­¢ã€‚<br>ç”±SMä¸POè¿›è¡Œç»„ç»‡ï¼Œç›¸å…³æŠ€æœ¯è´Ÿè´£äººã€å¼€å‘è€…ã€æµ‹è¯•å‚ä¸ã€‚äº§å“è¿è¥é€‰æ‹©æ€§å‚ä¸ã€‚<br>éœ€æ±‚è¯„å®¡ä¼šå‰ï¼Œéœ€è¦åˆ†äº«è®¾è®¡PRDæˆ–åŸå‹ï¼Œå½¢å¼ä»¥é’‰é’‰æˆ–å·¥ä½œé¡¹é™„ä»¶å½¢å¼åˆ†äº«ã€‚<br>ä¸»è¦ç›®çš„æ˜¯åˆæ­¥æ•²å®šéœ€æ±‚è®¾è®¡ï¼Œä»¥åŠåŠŸèƒ½è¡¨ç°éª¨æ¶ã€‚</p><h2 id="3ã€æŠ€æœ¯æ–¹æ¡ˆ-æŠ€æœ¯æ–¹æ¡ˆä¼š"><a href="#3ã€æŠ€æœ¯æ–¹æ¡ˆ-æŠ€æœ¯æ–¹æ¡ˆä¼š" class="headerlink" title="3ã€æŠ€æœ¯æ–¹æ¡ˆ - æŠ€æœ¯æ–¹æ¡ˆä¼š"></a>3ã€æŠ€æœ¯æ–¹æ¡ˆ - æŠ€æœ¯æ–¹æ¡ˆä¼š</h2><p>åœ¨è¯¥é˜¶æ®µä¸­ï¼Œä¼šè¿›è¡ŒæŠ€æœ¯æ–¹æ¡ˆä¼šã€‚ç›¸å…³äººä¸€ç›´é€šè¿‡åï¼Œä¼šè¿›å…¥æ’æœŸé˜¶æ®µã€‚<br>æŠ€æœ¯æ–¹æ¡ˆä¼šæ¬¡æ•°ä¸é™åˆ¶ï¼Œç›´è‡³é€šè¿‡ä¸ºæ­¢ã€‚<br>ç”±SMä¸ç›¸å…³æŠ€æœ¯è´Ÿè´£äººè¿›è¡Œç»„ç»‡ï¼Œå¼€å‘è€…å‚ä¸ã€‚<br>æ ¹æ®éœ€æ±‚å¤§å°åŠæ€§è´¨ï¼Œä¼šé€‰æ‹©æ€§äº§å‡ºç›¸å…³æŠ€æœ¯æ–‡æ¡£åŠæ¥å£å®šä¹‰ç­‰ã€‚<br>ä¸»è¦ç›®çš„æ˜¯ç¡®è®¤åŠŸèƒ½å…·ä½“å®ç°æ–¹æ¡ˆï¼Œä»¥åŠåˆ†æåœ¨å®ç°è¿‡ç¨‹ä¸­ä¼šç¢°åˆ°çš„å…·ä½“å¼€å‘é—®é¢˜ã€‚</p><h2 id="4ã€æ’æœŸ-å†²åˆºå¯åŠ¨ä¼š"><a href="#4ã€æ’æœŸ-å†²åˆºå¯åŠ¨ä¼š" class="headerlink" title="4ã€æ’æœŸ - å†²åˆºå¯åŠ¨ä¼š"></a>4ã€æ’æœŸ - å†²åˆºå¯åŠ¨ä¼š</h2><p>åœ¨è¯¥é˜¶æ®µä¸­ï¼Œä¼šè¿›è¡Œå†²åˆºå¯åŠ¨ä¼šã€‚<br>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå†²åˆºå¯åŠ¨ä¼š ç›´æ¥è·Ÿåœ¨æœ€åä¸€æ¬¡æŠ€æœ¯æ–¹æ¡ˆä¼šåã€‚<br>ç”±SMä¸ç›¸å…³æŠ€æœ¯è´Ÿè´£äººè¿›è¡Œç»„ç»‡ï¼Œå¼€å‘è€…å‚ä¸ã€‚å…¶ä»–è§’è‰²é€‰æ‹©æ€§å‚ä¸ã€‚<br>ä¸»è¦ç›®çš„æ˜ç¡®å…·ä½“å¼€å‘è€…ï¼Œä»¥åŠä»»åŠ¡æ’æœŸã€‚</p><hr><h1 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h1><p>1ã€æµ‹è¯•ä¸å†ä¸å¼€å‘è€…å…±ç”¨ä»»åŠ¡ï¼Œæµ‹è¯•ä»»åŠ¡ç‹¬ç«‹ç®¡ç†ã€‚<br>2ã€ä¸å†ä½¿ç”¨æŒ‡æ´¾ç»™åŠçŠ¶æ€å­—æ®µ æè¿°æµ‹è¯•é˜¶æ®µçš„æµè½¬ã€‚<br>3ã€æµ‹è¯•æ‹¥æœ‰å½“å‰é˜¶æ®µæµ‹è¯•ä»»åŠ¡çš„ç‹¬ç«‹çœ‹æ¿ï¼Œå¯ä»¥æ˜ç¡®å½“å‰é˜¶æ®µæ‰€æœ‰æµ‹è¯•ä»»åŠ¡ã€‚<br>4ã€æµ‹è¯•ä¸å¼€å‘è€…å…±ç”¨å†²åˆºã€‚<br><img src="/images/1636463578475-f2663ff8-f559-45aa-a620-23bcb5bb7008.png" alt="image.png"></p><h2 id="é…ç½®ç­–ç•¥"><a href="#é…ç½®ç­–ç•¥" class="headerlink" title="é…ç½®ç­–ç•¥"></a>é…ç½®ç­–ç•¥</h2><p>æµ‹è¯•ç»„æ‹¥æœ‰ã€NewProjectDemo\æµ‹è¯•ç»„ã€‘åŒºåŸŸã€‚<br>å…¶ä»–å„ä¸ªè¿›è¡Œä¸­çš„ç»„ï¼ŒåŒæ—¶æ‹¥æœ‰ã€NewProjectDemo\æµ‹è¯•ç»„ã€‘åŒºåŸŸã€‚<br>æµ‹è¯•ç»„æ‹¥æœ‰æœ¬é˜¶æ®µå…¨éƒ¨è¿­ä»£ã€‚</p><h2 id="ğŸ§°-æµ‹è¯•ç§¯å‹å·¥ä½œ"><a href="#ğŸ§°-æµ‹è¯•ç§¯å‹å·¥ä½œ" class="headerlink" title="ğŸ§° æµ‹è¯•ç§¯å‹å·¥ä½œ"></a>ğŸ§° æµ‹è¯•ç§¯å‹å·¥ä½œ</h2><p>æµ‹è¯•ç§¯å‹å·¥ä½œåˆ›å»ºåœ¨ä»»ä½•ä¸€ä¸ªç‰¹æ€§ä¸‹ï¼Œä¸”åªèƒ½åœ¨ç‰¹æ€§ä¸‹ã€‚<br>æµ‹è¯•ç§¯å‹å·¥ä½œçš„åŒºåŸŸä¸€å®šè¦é€‰æ‹©ã€NewProjectDemo\æµ‹è¯•ç»„ã€‘ã€‚<br>æµ‹è¯•ç§¯å‹å·¥ä½œçš„çš„è¿­ä»£æ ¹æ®åŒçº§å¼€å‘ä»»åŠ¡é€‰æ‹©ã€‚<br>æµ‹è¯•ç§¯å‹å·¥ä½œçš„æ ‡é¢˜æ·»åŠ ğŸ§° å‰ç¼€ã€‚</p><h3 id="æµ‹è¯•ä»»åŠ¡"><a href="#æµ‹è¯•ä»»åŠ¡" class="headerlink" title="æµ‹è¯•ä»»åŠ¡"></a>æµ‹è¯•ä»»åŠ¡</h3><p>æµ‹è¯•ç§¯å‹å·¥ä½œæ‹†è§£ä¸ºæµ‹è¯•ä»»åŠ¡ã€‚<br>æµ‹è¯•ä»»åŠ¡ä»¥ã€æµ‹è¯•ã€‘ä¸ºå‰ç¼€ã€‚<br>æµ‹è¯•ä»»åŠ¡çš„è¿­ä»£å’ŒåŒºåŸŸè·Ÿéšæµ‹è¯•ç§¯å‹å·¥ä½œã€‚<br>æµ‹è¯•ä»»åŠ¡åŒæ ·éœ€è¦æ ‡è®°å‰©ä½™å·¥ä½œé‡ã€‚</p><h3 id="æµ‹è¯•ç”¨ä¾‹"><a href="#æµ‹è¯•ç”¨ä¾‹" class="headerlink" title="æµ‹è¯•ç”¨ä¾‹"></a>æµ‹è¯•ç”¨ä¾‹</h3><p>æµ‹è¯•ç”¨ä¾‹æŒ‚åœ¨æµ‹è¯•ç§¯å‹å·¥ä½œä¸‹ã€‚<br>æä¾›æµ‹è¯•ç”¨ä¾‹å…±äº«æŸ¥è¯¢ï¼Œç”¨æ¥æŸ¥è¯¢å…¨éƒ¨æµ‹è¯•ç”¨ä¾‹åŠä¸Šçº§å…³è”ã€‚<br><img src="/images/1636464923056-3eed29de-be5b-439a-ad81-f8926a0fd263.png" alt="image.png"></p><h2 id="æµ‹è¯•é˜¶æ®µ"><a href="#æµ‹è¯•é˜¶æ®µ" class="headerlink" title="æµ‹è¯•é˜¶æ®µ"></a>æµ‹è¯•é˜¶æ®µ</h2><p>éœ€æ±‚å¼€å‘å®Œæˆåï¼Œé€šè¿‡ç«™ä¼šã€é’‰é’‰ç­‰å³æ—¶æ€§æ¸ é“é€šçŸ¥åˆ°æµ‹è¯• å¯ä»¥å¼€å§‹æµ‹è¯•ï¼Œæ­¤æ—¶ä»»åŠ¡è¿›å…¥åˆ°æµ‹è¯•é˜¶æ®µã€‚<br>è¿›å…¥æµ‹è¯•é˜¶æ®µåï¼Œæµ‹è¯•å¼€å§‹ä»‹å…¥åˆ°ä»»åŠ¡å¯¹åº”çš„ç«™ä¼šï¼Œå®æ—¶åŒæ­¥æµ‹è¯•ç»“æœï¼Œç›´è‡³éœ€æ±‚ä¸Šçº¿ã€‚</p><hr><h1 id="BUG"><a href="#BUG" class="headerlink" title="BUG"></a>BUG</h1><p>BUGæœ¬è´¨åˆ†ä¸ºã€å¼€å‘é˜¶æ®µBUGã€‘å’Œã€ç”Ÿäº§BUGã€‘ã€‚</p><h2 id="å¼€å‘é˜¶æ®µBUG"><a href="#å¼€å‘é˜¶æ®µBUG" class="headerlink" title="å¼€å‘é˜¶æ®µBUG"></a>å¼€å‘é˜¶æ®µBUG</h2><p>ç”±æµ‹è¯•è€…æŒ‰éœ€å†³å®šæ˜¯å¦éœ€è¦åˆ›å»ºBUGï¼Œå¯ä»¥åœ¨é’‰é’‰ä¸­å³æ—¶æ²Ÿé€šã€‚<br>åˆ›å»ºçš„BUGéœ€è¦æŒ‚åœ¨æµ‹è¯•ç§¯å‹å·¥ä½œæ‰€å¯¹åº”çš„ç‰¹æ€§ä¸‹ã€‚<br>å¦‚éœ€åˆ›å»ºBUGï¼Œæ¨èä»¥æµ‹è¯•è½®æ¬¡å®šä¹‰ä¸€ä¸ªBUGï¼Œå¹¶åœ¨BUGå†…é›†ä¸­æè¿°ã€‚<br>ä¸æ¨èå¯¹å•ä¸€éœ€æ±‚æˆ–ä»»åŠ¡åˆ›å»ºè¿‡å¤šå¼€å‘é˜¶æ®µBUGã€‚</p><h2 id="ç”Ÿäº§BUG"><a href="#ç”Ÿäº§BUG" class="headerlink" title="ç”Ÿäº§BUG"></a>ç”Ÿäº§BUG</h2><p>ç›®å‰ä¸åœ¨ æ­¤ teamæ¡†æ¶ ä¸­ä½“ç°ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;ä½œè€…ï¼š &lt;a href=&quot;/chunqiudada&quot;&gt;@åœæµ·æƒ(chunqiudada)&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;é•¿ç¯‡æ•…äº‹-story&quot;&gt;&lt;a href=&quot;#é•¿ç¯‡æ•…äº‹-story&quot; class=&quot;headerli</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="æ¶æ„" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%9E%B6%E6%9E%84/"/>
    
    
    <category term="æ¶æ„" scheme="https://oujun.work/tags/%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>å®ç°æŠ½å¡åŠŸèƒ½çš„è“„æ°´æ± æŠ½æ ·ç®—æ³•åˆ†æ</title>
    <link href="https://oujun.work/2024/07/12/gacha-reservoir-sampling.html"/>
    <id>https://oujun.work/2024/07/12/gacha-reservoir-sampling.html</id>
    <published>2024-07-12T14:13:00.000Z</published>
    <updated>2024-07-12T14:13:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨æ¸¸æˆå¼€å‘ä¸­ï¼ŒæŠ½å¡ç³»ç»Ÿæ˜¯ä¸€ç§å¸¸è§çš„éšæœºäº‹ä»¶æ¨¡æ‹Ÿï¼Œå…¶èƒŒåçš„éšæœºç®—æ³•ç›´æ¥å½±å“åˆ°ç©å®¶ä½“éªŒå’Œæ¸¸æˆå¹³è¡¡æ€§ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨è“„æ°´æ± æŠ½æ ·ç®—æ³•å®ç°æŠ½å¡åŠŸèƒ½ï¼Œå¹¶é€šè¿‡C#ä»£ç ç¤ºä¾‹è¿›è¡Œè¯¦ç»†è§£æã€‚</p><h2 id="è“„æ°´æ± æŠ½æ ·ç®—æ³•ç®€ä»‹"><a href="#è“„æ°´æ± æŠ½æ ·ç®—æ³•ç®€ä»‹" class="headerlink" title="è“„æ°´æ± æŠ½æ ·ç®—æ³•ç®€ä»‹"></a>è“„æ°´æ± æŠ½æ ·ç®—æ³•ç®€ä»‹</h2><p>è“„æ°´æ± æŠ½æ ·ç®—æ³•æ˜¯ä¸€ç§ç”¨äºä»åŠ¨æ€æ•°æ®é›†åˆä¸­éšæœºæŠ½å–å›ºå®šå¤§å°æ ·æœ¬çš„ç®—æ³•ã€‚åœ¨æŠ½å¡ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿæ ¹æ®å¡ç‰‡çš„æ¦‚ç‡åˆ†å¸ƒï¼Œå®ç°æŒ‰ç…§ä¸åŒç¨€æœ‰åº¦æŠ½å–å¡ç‰‡çš„åŠŸèƒ½ï¼Œå¹¶ç¡®ä¿åœ¨ä¸€å®šæ¬¡æ•°å†…æŠ½å–åˆ°ä¿åº•ç¨€æœ‰åº¦çš„å¡ç‰‡ã€‚</p><h2 id="å®ç°ä»£ç åˆ†æ"><a href="#å®ç°ä»£ç åˆ†æ" class="headerlink" title="å®ç°ä»£ç åˆ†æ"></a>å®ç°ä»£ç åˆ†æ</h2><p>ä»¥ä¸‹æ˜¯ä½¿ç”¨C#å®ç°çš„æŠ½å¡ç³»ç»Ÿä»£ç ç¤ºä¾‹ï¼š</p><h3 id="å®šä¹‰å¡ç‰‡"><a href="#å®šä¹‰å¡ç‰‡" class="headerlink" title="å®šä¹‰å¡ç‰‡"></a>å®šä¹‰å¡ç‰‡</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> å¡ç‰‡</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;name&quot;&gt;</span>å¡åå­—<span class="hljs-doctag">&lt;/param&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;token&quot;&gt;</span>ç”¨äºæ ‡è¯†å¡ç‰‡ç±»å‹<span class="hljs-doctag">&lt;/param&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;probability&quot;&gt;</span>ç”¨äºå­˜å‚¨å¡ç‰‡çš„æ¦‚ç‡<span class="hljs-doctag">&lt;/param&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Card</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> name, <span class="hljs-built_in">string</span> token, <span class="hljs-built_in">double</span> probability</span>)</span><br>&#123;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> å¡åå­—</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Name &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125; = name;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> ç”¨äºæ ‡è¯†å¡ç‰‡ç±»å‹</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Token &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125; = token;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> ç”¨äºå­˜å‚¨å¡ç‰‡çš„æ¦‚ç‡</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> Probability &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125; = probability;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æŠ½å¡ç»“æœ"><a href="#æŠ½å¡ç»“æœ" class="headerlink" title="æŠ½å¡ç»“æœ"></a>æŠ½å¡ç»“æœ</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> æŠ½å¡ç»“æœ</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title">DrawResult</span><br>&#123;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> æŠ½å¡ä¿¡æ¯</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">public</span> Card DrawnCard &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> å‰©ä½™ä¿åº•æ¬¡æ•°</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">public</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt; RemainingGuarantees &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æŠ½å¡"><a href="#æŠ½å¡" class="headerlink" title="æŠ½å¡"></a>æŠ½å¡</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">Gacha</span><br>&#123;<br>    <span class="hljs-keyword">private</span> List&lt;Card&gt; cards = <span class="hljs-keyword">new</span>();<br>    <span class="hljs-keyword">private</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt; drawCounters = <span class="hljs-keyword">new</span>();<br>    <span class="hljs-keyword">private</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt; guarantees = <span class="hljs-keyword">new</span>();<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Gacha</span>(<span class="hljs-params">Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt; guaranteeConfig</span>)</span><br>    &#123;<br>        <span class="hljs-comment">// åˆå§‹åŒ–ä¿åº•æ¬¡æ•°é…ç½®</span><br>        guarantees = guaranteeConfig;<br>        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> guarantees.Keys)<br>        &#123;<br>            drawCounters[key] = <span class="hljs-number">0</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddCard</span>(<span class="hljs-params">Card card</span>)</span><br>    &#123;<br>        cards.Add(card);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> DrawResult <span class="hljs-title">DrawCard</span>()</span><br>    &#123;<br>        Card drawnCard = <span class="hljs-literal">null</span>;<br><br>        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> token <span class="hljs-keyword">in</span> guarantees.Keys)<br>        &#123;<br>            drawCounters[token]++;<br>            <span class="hljs-keyword">if</span> (drawCounters[token] &gt;= guarantees[token])<br>            &#123;<br>                drawCounters[token] = <span class="hljs-number">0</span>;<br>                drawnCard = GetCardByToken(token);<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (drawnCard == <span class="hljs-literal">null</span>)<br>        &#123;<br>            <span class="hljs-comment">// æ‰§è¡Œè“„æ°´æ± æŠ½æ ·ç®—æ³•</span><br>            <span class="hljs-built_in">double</span> totalProbability = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> card <span class="hljs-keyword">in</span> cards)<br>            &#123;<br>                totalProbability += card.Probability;<br>            &#125;<br><br>            <span class="hljs-built_in">double</span> randomPoint = <span class="hljs-keyword">new</span> Random().NextDouble() * totalProbability;<br><br>            <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> card <span class="hljs-keyword">in</span> cards)<br>            &#123;<br>                <span class="hljs-keyword">if</span> (randomPoint &lt; card.Probability)<br>                &#123;<br>                    drawnCard = card;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    randomPoint -= card.Probability;<br>                &#125;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (drawnCard != <span class="hljs-literal">null</span> &amp;&amp; drawCounters.ContainsKey(drawnCard.Token))<br>        &#123;<br>            drawCounters[drawnCard.Token] = <span class="hljs-number">0</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> DrawResult<br>        &#123;<br>            DrawnCard = drawnCard,<br>            RemainingGuarantees = GetRemainingGuarantees()<br>        &#125;;<br>    &#125;<br><br>    <span class="hljs-comment">// çœç•¥äº†å…¶ä»–è¾…åŠ©æ–¹æ³•çš„å…·ä½“å®ç°</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> Card <span class="hljs-title">GetCardByToken</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> token</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> card <span class="hljs-keyword">in</span> cards)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (card.Token == token)<br>            &#123;<br>                <span class="hljs-keyword">return</span> card;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt; <span class="hljs-title">GetRemainingGuarantees</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">var</span> remainingGuarantees = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt;();<br>        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> token <span class="hljs-keyword">in</span> guarantees.Keys)<br>        &#123;<br>            remainingGuarantees[token] = guarantees[token] - drawCounters[token];<br>        &#125;<br>        <span class="hljs-keyword">return</span> remainingGuarantees;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æµ‹è¯•ä»£ç "><a href="#æµ‹è¯•ä»£ç " class="headerlink" title="æµ‹è¯•ä»£ç "></a>æµ‹è¯•ä»£ç </h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs csharp">Gacha gacha = <span class="hljs-keyword">new</span> Gacha(<span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt;<br>        &#123;<br>            &#123; <span class="hljs-string">&quot;SSR&quot;</span>, <span class="hljs-number">80</span> &#125;,<br>            <span class="hljs-comment">//&#123; &quot;SR&quot;, 10 &#125;</span><br>        &#125;);<br><br><span class="hljs-comment">// æ·»åŠ å¡ç‰‡åŠå…¶æ¦‚ç‡</span><br><br>gacha.AddCard(<span class="hljs-keyword">new</span> Card(<span class="hljs-string">&quot;SSR Card&quot;</span>, <span class="hljs-string">&quot;SSR&quot;</span>, <span class="hljs-number">0.01</span>));  <span class="hljs-comment">// 1% æ¦‚ç‡</span><br>gacha.AddCard(<span class="hljs-keyword">new</span> Card(<span class="hljs-string">&quot;SR Card&quot;</span>, <span class="hljs-string">&quot;SR&quot;</span>, <span class="hljs-number">0.05</span>));   <span class="hljs-comment">// 5% æ¦‚ç‡</span><br>gacha.AddCard(<span class="hljs-keyword">new</span> Card(<span class="hljs-string">&quot;R Card&quot;</span>, <span class="hljs-string">&quot;R&quot;</span>, <span class="hljs-number">0.15</span>));    <span class="hljs-comment">// 15% æ¦‚ç‡</span><br>gacha.AddCard(<span class="hljs-keyword">new</span> Card(<span class="hljs-string">&quot;N Card&quot;</span>, <span class="hljs-string">&quot;N&quot;</span>, <span class="hljs-number">0.79</span>));    <span class="hljs-comment">// 79% æ¦‚ç‡</span><br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> p = <span class="hljs-number">0</span>; p &lt; <span class="hljs-number">10</span>; p++)<br>&#123;<br>    <span class="hljs-comment">// æŠ½å¡</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++)<br>    &#123;<br>        <span class="hljs-keyword">var</span> drawResult = gacha.DrawCard();<br>        Console.Write(<span class="hljs-string">$&quot;æŠ½åˆ°ä¸€å¼ \t<span class="hljs-subst">&#123;drawResult.DrawnCard.Name&#125;</span>&quot;</span>);<br><br>        Console.Write(<span class="hljs-string">&quot;\tä¿åº•æ¬¡æ•°:&quot;</span>);<br>        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> guarantee <span class="hljs-keyword">in</span> drawResult.RemainingGuarantees)<br>        &#123;<br>            Console.Write(<span class="hljs-string">$&quot;<span class="hljs-subst">&#123;guarantee.Key&#125;</span>: <span class="hljs-subst">&#123;guarantee.Value&#125;</span> å‰©ä½™æŠ½å¡\t&quot;</span>);<br>        &#125;<br>        Console.WriteLine();<br>    &#125;<br>    Console.WriteLine(<span class="hljs-string">&quot;=====================================&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æµ‹è¯•ç»“æœ"><a href="#æµ‹è¯•ç»“æœ" class="headerlink" title="æµ‹è¯•ç»“æœ"></a>æµ‹è¯•ç»“æœ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><code class="hljs shell">æŠ½åˆ°ä¸€å¼         SR Card ä¿åº•æ¬¡æ•°:SSR: 79 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 78 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 77 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 76 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 75 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 74 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 73 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 72 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 71 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 70 å‰©ä½™æŠ½å¡<br>=====================================<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 69 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 68 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 67 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 66 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 65 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 64 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 63 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 62 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 61 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 60 å‰©ä½™æŠ½å¡<br>=====================================<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 59 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 58 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 57 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 56 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 55 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 54 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 53 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 52 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 51 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 50 å‰©ä½™æŠ½å¡<br>=====================================<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 49 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 48 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 47 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 46 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 45 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 44 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 43 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 42 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 41 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 40 å‰©ä½™æŠ½å¡<br>=====================================<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 39 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 38 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 37 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 36 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 35 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 34 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 33 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 32 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 31 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 30 å‰©ä½™æŠ½å¡<br>=====================================<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 29 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 28 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 27 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 26 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 25 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 24 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 23 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 22 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 21 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         SR Card ä¿åº•æ¬¡æ•°:SSR: 20 å‰©ä½™æŠ½å¡<br>=====================================<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 19 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 18 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         SR Card ä¿åº•æ¬¡æ•°:SSR: 17 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 16 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 15 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 14 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 13 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 12 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 11 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 10 å‰©ä½™æŠ½å¡<br>=====================================<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 9 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 8 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 7 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 6 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         SR Card ä¿åº•æ¬¡æ•°:SSR: 5 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 4 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 3 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 2 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 1 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         SSR Card        ä¿åº•æ¬¡æ•°:SSR: 80 å‰©ä½™æŠ½å¡<br>=====================================<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 79 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 78 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 77 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 76 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 75 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 74 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 73 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 72 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 71 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 70 å‰©ä½™æŠ½å¡<br>=====================================<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 69 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 68 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         R Card  ä¿åº•æ¬¡æ•°:SSR: 67 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 66 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         SSR Card        ä¿åº•æ¬¡æ•°:SSR: 80 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 79 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 78 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 77 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 76 å‰©ä½™æŠ½å¡<br>æŠ½åˆ°ä¸€å¼         N Card  ä¿åº•æ¬¡æ•°:SSR: 75 å‰©ä½™æŠ½å¡<br>=====================================<br></code></pre></td></tr></table></figure><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•åˆ©ç”¨è“„æ°´æ± æŠ½æ ·ç®—æ³•å®ç°æ¸¸æˆä¸­çš„æŠ½å¡ç³»ç»Ÿã€‚é€šè¿‡åŠ¨æ€è®¡ç®—å¡ç‰‡çš„æ¦‚ç‡åˆ†å¸ƒå¹¶ç»“åˆä¿åº•æœºåˆ¶ï¼Œç¡®ä¿ç©å®¶åœ¨ä¸€å®šæŠ½å¡æ¬¡æ•°å†…èƒ½å¤Ÿè·å¾—æœŸæœ›çš„ç¨€æœ‰åº¦å¡ç‰‡ã€‚è¿™ç§ç®—æ³•ä¸ä»…ç®€å•é«˜æ•ˆï¼Œè€Œä¸”èƒ½å¤Ÿæœ‰æ•ˆæ§åˆ¶æŠ½å¡ç»“æœçš„éšæœºæ€§ï¼Œä¸ºæ¸¸æˆå¼€å‘è€…æä¾›äº†ä¸€ç§å¯é çš„å®ç°æ–¹æ¡ˆã€‚</p><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®æ¸¸æˆçš„å…·ä½“éœ€æ±‚è°ƒæ•´ç®—æ³•ç»†èŠ‚ï¼Œå¦‚è°ƒæ•´ä¿åº•æ¬¡æ•°å’Œå¡ç‰‡çš„æ¦‚ç‡åˆ†å¸ƒï¼Œä»¥å®ç°æ›´ç¬¦åˆæ¸¸æˆå¹³è¡¡æ€§å’Œç©å®¶æœŸå¾…çš„æŠ½å¡ç³»ç»Ÿã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åœ¨æ¸¸æˆå¼€å‘ä¸­ï¼ŒæŠ½å¡ç³»ç»Ÿæ˜¯ä¸€ç§å¸¸è§çš„éšæœºäº‹ä»¶æ¨¡æ‹Ÿï¼Œå…¶èƒŒåçš„éšæœºç®—æ³•ç›´æ¥å½±å“åˆ°ç©å®¶ä½“éªŒå’Œæ¸¸æˆå¹³è¡¡æ€§ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨è“„æ°´æ± æŠ½æ ·ç®—æ³•å®ç°æŠ½å¡åŠŸèƒ½ï¼Œå¹¶é€šè¿‡C#ä»£ç ç¤ºä¾‹è¿›è¡Œè¯¦ç»†è§£æã€‚&lt;/p&gt;
&lt;h2 id=&quot;è“„æ°´æ± æŠ½æ ·ç®—æ³•ç®€ä»‹&quot;&gt;&lt;a href=&quot;#è“„æ°´æ± æŠ½æ ·ç®—æ³•ç®€ä»‹&quot; class</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="C#" scheme="https://oujun.work/tags/C/"/>
    
    <category term="æŠ½å¡" scheme="https://oujun.work/tags/%E6%8A%BD%E5%8D%A1/"/>
    
    <category term="è“„æ°´æ± æŠ½æ ·ç®—æ³•" scheme="https://oujun.work/tags/%E8%93%84%E6%B0%B4%E6%B1%A0%E6%8A%BD%E6%A0%B7%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Jenkins</title>
    <link href="https://oujun.work/2024/06/11/Jenkins.html"/>
    <id>https://oujun.work/2024/06/11/Jenkins.html</id>
    <published>2024-06-11T02:16:00.000Z</published>
    <updated>2024-06-12T09:39:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">jenkins:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">jenkins/jenkins:lts-jdk21</span><br>    <span class="hljs-attr">user:</span> <span class="hljs-string">root</span><br>    <span class="hljs-attr">container_name:</span> <span class="hljs-string">jenkins</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">TZ=Asia/Shanghai</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">DOCKER_TLS_CERTDIR=/certs</span><br>    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span><br>    <span class="hljs-attr">privileged:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-number">8080</span><span class="hljs-string">:8080</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-number">50000</span><span class="hljs-string">:50000</span><br>    <span class="hljs-attr">working_dir:</span> <span class="hljs-string">/var/jenkins_home</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">/var/run/docker.sock:/var/run/docker.sock</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">jenkins-data:/var/jenkins_home</span><br><span class="hljs-attr">volumes:</span><br>  <span class="hljs-attr">jenkins-data:</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">jenkins-data</span><br></code></pre></td></tr></table></figure><h1 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h1><p><code>docker compose up -d</code></p><h1 id="æŸ¥çœ‹å¯†ç "><a href="#æŸ¥çœ‹å¯†ç " class="headerlink" title="æŸ¥çœ‹å¯†ç "></a>æŸ¥çœ‹å¯†ç </h1><p>ä»…åœ¨ç¬¬ä¸€æ¬¡å¯åŠ¨å®¹å™¨åä½¿ç”¨æŸ¥çœ‹æ—¥å¿—<code>docker logs jenkins-blueocean</code></p><p>æ—¥å¿—ä¸­å‡ºç°å¦‚ä¸‹å†…å®¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs logs">*************************************************************<br>*************************************************************<br>*************************************************************<br><br>Jenkins initial setup is required. An admin user has been created and a password generated.<br>Please use the following password to proceed to installation:<br><br>è¿™é‡Œçš„å°±æ˜¯ç®¡ç†å‘˜å¯†ç <br><br>This may also be found at: /var/jenkins_home/secrets/initialAdminPassword<br><br>*************************************************************<br>*************************************************************<br>*************************************************************<br></code></pre></td></tr></table></figure><p>å¦‚æœå¿˜è®°äº†adminå¯†ç ï¼Œé‚£ä¹ˆè¿›å…¥å®¹å™¨ï¼Œä½¿ç”¨catè¿›è¡ŒæŸ¥è¯¢ã€‚</p><p><code>docker exec -it jenkins-blueocean bash</code><br><code>cat /var/jenkins_home/secrets/initialAdminPassword</code></p><h1 id="Jenkins-æ›´æ–°åœ°å€é•œåƒä¿®æ”¹"><a href="#Jenkins-æ›´æ–°åœ°å€é•œåƒä¿®æ”¹" class="headerlink" title="Jenkins æ›´æ–°åœ°å€é•œåƒä¿®æ”¹"></a>Jenkins æ›´æ–°åœ°å€é•œåƒä¿®æ”¹</h1><p>è¿›å…¥åˆ°å®¹å™¨å†…éƒ¨ï¼Œä¿®æ”¹ <code>/var/jenkins_home/updates/default.json</code> ,å°†å…¶ä¸­çš„<code>updates.jenkins-ci.org/download</code> æ›¿æ¢ä¸º <code>mirrors.tuna.tsinghua.edu.cn/jenkins</code></p><p>æˆ–è€…ç›´æ¥ä½¿ç”¨sedä¿®æ”¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sed -i &#x27;s/https:\/\/updates.jenkins.io\/download/http:\/\/mirrors.aliyun.com\/jenkins/g&#x27; default.json<br></code></pre></td></tr></table></figure><p>æœ‰äº›ç‰ˆæœ¬æ˜¯å¦‚ä¸‹å†…å®¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sed -i &#x27;s/https:\/\/updates.jenkins-ci.org\/download/http:\/\/mirrors.aliyun.com\/jenkins/g&#x27; default.json<br></code></pre></td></tr></table></figure><p>ç„¶åé‡å¯æœåŠ¡ã€‚</p><h1 id="Jenkins-åˆå§‹åŒ–"><a href="#Jenkins-åˆå§‹åŒ–" class="headerlink" title="Jenkins åˆå§‹åŒ–"></a>Jenkins åˆå§‹åŒ–</h1><p>éšåä½¿ç”¨æµè§ˆå™¨è®¿é—®<code>ip:8080</code> å¡«å…¥ç®¡ç†å‘˜å¯†ç ï¼Œç‚¹å‡»<code>ç»§ç»­</code>ï¼Œé€‰æ‹©<code>å®‰è£…æ¨èçš„æ’ä»¶</code>ç­‰å¾…å®‰è£…å®Œæˆã€‚</p><h1 id="æ’ä»¶æ›´æ–°åœ°å€é•œåƒä¿®æ”¹"><a href="#æ’ä»¶æ›´æ–°åœ°å€é•œåƒä¿®æ”¹" class="headerlink" title="æ’ä»¶æ›´æ–°åœ°å€é•œåƒä¿®æ”¹"></a>æ’ä»¶æ›´æ–°åœ°å€é•œåƒä¿®æ”¹</h1><p>è¿›å…¥ <code>Manage Jenkins</code> -&gt; <code>Manage Plugin</code> -&gt; <code>Advanced</code> æœ€ä¸‹é¢æœ‰ <code>Update Site</code>ï¼Œè®¾ç½®ä¸ºï¼š<code>https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å®‰è£…&quot;&gt;&lt;a href=&quot;#å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…&quot;&gt;&lt;/a&gt;å®‰è£…&lt;/h1&gt;&lt;figure class=&quot;highlight yaml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span c</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="è¿ç»´" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="Jenkins" scheme="https://oujun.work/tags/Jenkins/"/>
    
    <category term="CICD" scheme="https://oujun.work/tags/CICD/"/>
    
    <category term="DevOps" scheme="https://oujun.work/tags/DevOps/"/>
    
  </entry>
  
  <entry>
    <title>DDDæ˜¯ä»€ä¹ˆ</title>
    <link href="https://oujun.work/2024/06/11/ddd.html"/>
    <id>https://oujun.work/2024/06/11/ddd.html</id>
    <published>2024-06-11T01:33:00.000Z</published>
    <updated>2024-06-11T01:33:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>DDDæ˜¯é¢†åŸŸï¼ˆDomainï¼‰é©±åŠ¨ï¼ˆDrivenï¼‰è®¾è®¡ï¼ˆDesignï¼‰çš„ç®€å†™ï¼Œæ˜¯ä¸€ç§æˆ˜ç•¥è®¾è®¡ï¼Œå…ˆç»˜åˆ¶ä¸šåŠ¡é¢†åŸŸçš„å…³ç³»å›¾ï¼ŒåŒæ—¶å®šä¹‰ä¸æ¨¡å‹çš„è¾¹ç•Œä¸Šä¸‹æ–‡ã€‚</p><h1 id="å®ä½“"><a href="#å®ä½“" class="headerlink" title="å®ä½“"></a>å®ä½“</h1><p>å®ä½“æ˜¯ä¸€ç›´ä¿æŒå”¯ä¸€æ ‡è¯†çš„å¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ªç±»ï¼Œä¸€èˆ¬çš„äº‹æƒ…æƒ…å†µæ˜¯å¯¹åº”åˆ°æ•°æ®åº“ä¸­çš„ä¸€å¼ è¡¨ï¼Œä¹Ÿå°±æ˜¯OOPé‡Œçš„å¯¹è±¡ï¼ŒæŠ½è±¡å‡ºæ¥çš„ä¸€ä¸ªå¯¹è±¡ã€‚å”¯ä¸€æ ‡è¯†ï¼Œä¹Ÿå¯ä»¥ç†è§£æˆä¸»é”®ï¼Œé€šè¿‡è¿™ä¸ªä¸»é”®å¯ä»¥åœ¨ç³»ç»Ÿä¸­æ‰¾åˆ°å®ƒï¼Œè¿™ä¸ªä¸»é”®è¿˜å¯ä»¥è·¨è¶Šå¤šä¸ªè¾¹ç•Œçš„ä¸Šä¸‹æ–‡ï¼Œä¹Ÿå°±æ˜¯å…³ç³»ï¼Œä¸€å¯¹å¤šï¼Œå¤šå¯¹å¤šï¼Œä¸€å¯¹ä¸€è¿™æ ·çš„å…³ç³»ï¼Œå®ä½“çš„å±æ€§å¯ä»¥éšæ—¶å˜åŒ–ï¼Œä½†æ˜¯æ ‡è¯†ä¸èƒ½æ”¹å˜ã€‚</p><h1 id="å€¼å¯¹è±¡"><a href="#å€¼å¯¹è±¡" class="headerlink" title="å€¼å¯¹è±¡"></a>å€¼å¯¹è±¡</h1><p>å€¼å¯¹è±¡æ²¡æœ‰æ ‡è¯†ï¼Œè¿™æ˜¯ä¸å®ä½“çš„åŒºåˆ«ï¼Œå®ƒåªæœ‰å±æ€§è€Œä¸”ä¹Ÿæ˜¯ä¸å¯å˜çš„ï¼Œå¦‚æœéœ€è¦æ”¹å˜ï¼Œé‚£ä¹ˆå°±éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹æ¥æ›¿æ¢æ—§å®ä¾‹ã€‚</p><h1 id="èšåˆ"><a href="#èšåˆ" class="headerlink" title="èšåˆ"></a>èšåˆ</h1><p>èšåˆå®šä¹‰äº†ä¸€ä¸ªæˆ–å¤šä¸ªå®ä½“çš„ä¸€è‡´æ€§è¾¹ç•Œï¼Œä¸€ä¸ªèšåˆåŒ…å«ä¸€ä¸ªæ ¹å®ä½“ï¼Œå¯ä»¥ä½¿ç”¨è¿‡å®ä½“çš„æ ‡è¯†ç¬¦æ‰§è¡ŒæŸ¥æ‰¾ï¼Œèšåˆçš„ä½œç”¨æ˜¯ä¸ºäº†äº‹åŠ¡çš„ä¸å˜æ€§å»ºæ¨¡ï¼Œç°å®ä¸­çš„æ“ä½œæ˜¯å¤æ‚çš„ï¼Œä¸€æ¬¡åŠ¨ä½œå¯èƒ½åŒ…å«äº†å¤šä¸ªå®ä½“çš„å˜æ›´ï¼Œä¹Ÿå°±æ˜¯ä¸ºäº†æ•°æ®ä¸€è‡´æ€§çš„æ“ä½œï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå¼Šç«¯å°±æ˜¯åœ¨åˆ†å¸ƒå¼åº”ç”¨ä¸­é€šå¸¸æ˜¯ä¸å¯è¡Œçš„ï¼Œ</p><p>ç»™å¯ä»¥åŒ…å«å•ä¸ªå®ä½“ä¸”ä¸åŒ…å«å­å®ä½“ï¼Œèšåˆçš„å®šä¹‰ç”±äº‹åŠ¡è¾¹ç•Œç¡®å®šã€‚</p><h1 id="é¢†åŸŸæœåŠ¡å’Œåº”ç”¨æœåŠ¡"><a href="#é¢†åŸŸæœåŠ¡å’Œåº”ç”¨æœåŠ¡" class="headerlink" title="é¢†åŸŸæœåŠ¡å’Œåº”ç”¨æœåŠ¡"></a>é¢†åŸŸæœåŠ¡å’Œåº”ç”¨æœåŠ¡</h1><p>åœ¨DDDçš„è®¾è®¡ä¸­ï¼ŒæœåŠ¡æ˜¯å®ç°æŸç§é€»è¾‘ä¸”ä¸ä¿å­˜ä»»ä½•çŠ¶æ€çš„å¯¹è±¡ï¼Œè¿™ä¸ªç†è§£ä¸ºä¸­é—´çš„ä¸­è½¬ï¼Œä¾‹å¦‚é¥­åº—çš„æœåŠ¡å‘˜ï¼ŒæœåŠ¡å‘˜æ¥äº†ï¼Œç‚¹é¤ï¼ŒæœåŠ¡å‘˜å¸¦ç€è®¢å•åˆ°åå¨äº¤ç»™å…¶ä»–äººå¤„ç†ã€‚</p><h1 id="é¢†åŸŸäº‹ä»¶"><a href="#é¢†åŸŸäº‹ä»¶" class="headerlink" title="é¢†åŸŸäº‹ä»¶"></a>é¢†åŸŸäº‹ä»¶</h1><p>å‘ç”ŸæŸç§æƒ…å†µçš„æ—¶å€™ï¼Œä½¿ç”¨é¢†åŸŸäº‹ä»¶æ¥é€šçŸ¥ç»™å…¶ä»–çš„éƒ¨ä»¶ï¼Œæ¯”å¦‚åœ¨<code>è¡¨ä¸­æ’å…¥ä¸€æ¡è®°å½•ä¸æ˜¯é¢†åŸŸäº‹ä»¶</code>ï¼Œä½†æ˜¯<code>è®¢å•å–æ¶ˆæ˜¯é¢†åŸŸäº‹ä»¶</code>ã€‚</p><h1 id="DDD-ç›¸æ¯”-MVC"><a href="#DDD-ç›¸æ¯”-MVC" class="headerlink" title="DDD ç›¸æ¯” MVC"></a>DDD ç›¸æ¯” MVC</h1><table><thead><tr><th>MVC</th><th>DDD</th></tr></thead><tbody><tr><td>è§£å†³åº”ç”¨ç¨‹åºç»“æ„çš„é—®é¢˜</td><td>è§£å†³ä¸šåŠ¡å¤æ‚åº¦çš„é—®é¢˜</td></tr><tr><td>é€‚ç”¨äºæ¯”è¾ƒç®€å•çš„ä¸šåŠ¡é€»è¾‘</td><td>é€‚ç”¨äºæ¯”è¾ƒå¤æ‚çš„ä¸šåŠ¡é€»è¾‘</td></tr><tr><td>è‡ªä¸Šè€Œä¸‹çš„è®¾è®¡ï¼Œä»ç”¨æˆ·ç•Œé¢åˆ°æ•°æ®å­˜å‚¨ï¼Œå¼ºè°ƒåˆ†å±‚å¼€å‘</td><td>è‡ªä¸‹è€Œä¸Šçš„è®¾è®¡ï¼Œä»ä¸šåŠ¡å»ºæ¨¡å‡ºå‘åˆ°åº”ç”¨å’ŒåŸºç¡€è®¾æ–½ï¼Œå¼ºè°ƒçš„æ˜¯é¢†åŸŸé©±åŠ¨å¼€å‘</td></tr><tr><td>è®²ç³»ç»Ÿåˆ†ä¸ºæ¨¡å‹ã€è§†å›¾ã€æ§åˆ¶å™¨ï¼Œå‰åç«¯åˆ†ç¦»</td><td>å°†ç³»ç»Ÿåˆ†ä¸ºé¢†åŸŸå±‚ã€åº”ç”¨å±‚ã€åŸºç¡€è®¾æ–½å±‚ã€ç”¨æˆ·æ¥å£å±‚ã€å¼ºè°ƒä¸šåŠ¡é€»è¾‘ä¸æŠ€æœ¯å¾è™é¢çš„åˆ†ç¦»</td></tr><tr><td>ä¸€èˆ¬è®¾è®¡ä¸­MVCä¸­çš„å®ä½“æˆ–è€…æ¨¡å‹éƒ½æ˜¯è´«è¡€æ¨¡å¼(åªæœ‰å±æ€§)</td><td>å®ä½“æˆ–è€…æ¨¡å‹ä¸­é‡‡ç”¨å……è¡€è®¾è®¡ï¼ˆæœ‰å±æ€§ï¼Œæœ‰æ–¹æ³•ï¼‰</td></tr></tbody></table><h1 id="å¦‚ä½•é€‰æ‹©"><a href="#å¦‚ä½•é€‰æ‹©" class="headerlink" title="å¦‚ä½•é€‰æ‹©"></a>å¦‚ä½•é€‰æ‹©</h1><p>å¹¶ä¸æ˜¯DDDä¸€å®šæ¯”MVCå¥½ï¼Œè€Œæ˜¯è¦æ ¹æ®ä¸šåŠ¡åœºæ™¯ä¹Ÿæˆæœ¬æ¥é€‰æ‹©ï¼Œæˆ‘ä¸ªäººè®¤ä¸ºï¼ŒDDDé€šå¸¸æ¥è®²ï¼Œæ—¶é—´æˆæœ¬ã€äººåŠ›æˆæœ¬å’Œå­¦ä¹ æˆæœ¬éƒ½æ˜¯é«˜äºMVCçš„ï¼Œå‰æœŸæˆ˜æœ¯è®¾è®¡é˜¶æ®µå°±éœ€è¦äººåŠ›å’Œæ—¶é—´æ¥å¯¹ä¸šåŠ¡è¿›è¡Œå»ºæ¨¡æ¥ç¡®å®šè¾¹ç•Œï¼Œè¿›è¡Œè®¾è®¡ï¼Œè€ŒMVCåˆ™å¯ä»¥é€šè¿‡ç”¨æˆ·çš„äº¤äº’æ–¹å¼æ¥ç›´æ¥åšè®¾è®¡ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;DDDæ˜¯é¢†åŸŸï¼ˆDomainï¼‰é©±åŠ¨ï¼ˆDrivenï¼‰è®¾è®¡ï¼ˆDesignï¼‰çš„ç®€å†™ï¼Œæ˜¯ä¸€ç§æˆ˜ç•¥è®¾è®¡ï¼Œå…ˆç»˜åˆ¶ä¸šåŠ¡é¢†åŸŸçš„å…³ç³»å›¾ï¼ŒåŒæ—¶å®šä¹‰ä¸æ¨¡å‹çš„è¾¹ç•Œä¸Šä¸‹æ–‡ã€‚&lt;/p&gt;
&lt;h1 id=&quot;å®ä½“&quot;&gt;&lt;a href=&quot;#å®ä½“&quot; class=&quot;headerlink&quot; title=&quot;å®ä½“&quot;&gt;&lt;/a&gt;</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="æ¦‚å¿µ" scheme="https://oujun.work/tags/%E6%A6%82%E5%BF%B5/"/>
    
    <category term="DDD" scheme="https://oujun.work/tags/DDD/"/>
    
  </entry>
  
  <entry>
    <title>MVCæ˜¯ä»€ä¹ˆ</title>
    <link href="https://oujun.work/2024/06/11/mvc.html"/>
    <id>https://oujun.work/2024/06/11/mvc.html</id>
    <published>2024-06-11T01:00:00.000Z</published>
    <updated>2024-06-11T01:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç»å¸¸æåˆ°çš„MVCï¼Œå¤§å®¶éƒ½çŸ¥é“çš„æ˜¯ï¼ŒMï¼ˆModelï¼‰Vï¼ˆViewï¼‰C(Controller)çš„ç¼©å†™ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯æ¨¡å‹-è§†å›¾-æ§åˆ¶å™¨ï¼Œæ˜¯ç”¨æ¥å¼€å‘webåº”ç”¨çš„æ¡†æ¶ï¼Œè¿™æ ·çš„è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†å®ç°å…³æ³¨ç‚¹åˆ†ç¦»ï¼Œé‚£ä¹ˆå…³æ³¨ç‚¹åˆ†ç¦»åˆæ˜¯ä»€ä¹ˆï¼Ÿ</p><h1 id="å…³æ³¨ç‚¹åˆ†ç¦»"><a href="#å…³æ³¨ç‚¹åˆ†ç¦»" class="headerlink" title="å…³æ³¨ç‚¹åˆ†ç¦»"></a>å…³æ³¨ç‚¹åˆ†ç¦»</h1><p>å…³æ³¨ç‚¹åˆ†ç¦»æ˜¯ä¸€ç§å¼€å‘æ—¶çš„æŒ‡å¯¼ï¼Œå®ƒä¸»å¼ äº†æ›´æ”¹æ ¹æ®è½¯ä»¶æ‰§è¡Œçš„å·¥ä½œç±»å‹å°†è½¯ä»¶è¿›è¡Œåˆ†ç¦»ï¼Œæ‘˜æŠ„å¾®è½¯ä½“ç³»ç»“æ„åŸåˆ™ï¼Œæ—¶è¿™æ ·å†™çš„<br>&#96;<br>åˆ†ç¦»å…³æ³¨ç‚¹æ˜¯å¼€å‘æ—¶çš„æŒ‡å¯¼åŸåˆ™ã€‚ æ­¤åŸåˆ™ä¸»å¼ åº”æ ¹æ®è½¯ä»¶æ‰§è¡Œçš„å·¥ä½œç±»å‹å°†è½¯ä»¶åˆ†ç¦»ã€‚ ä¾‹å¦‚ï¼Œå‡è®¾åº”ç”¨ç¨‹åºä¸­åŒ…å«ä¸¤ä¸ªé€»è¾‘ï¼Œå…¶ä¸­ä¸€ä¸ªé€»è¾‘æ ‡è¯†è¦æ˜¾ç¤ºç»™ç”¨æˆ·çš„æ³¨æ„äº‹é¡¹ï¼Œå¦ä¸€ä¸ªä»¥ç‰¹å®šæ–¹å¼è®¾ç½®è¿™äº›æ³¨æ„äº‹é¡¹çš„æ ¼å¼ï¼Œä½¿å…¶æ›´åŠ æ˜¾çœ¼ã€‚ è´Ÿè´£é€‰æ‹©ä¸ºå“ªäº›äº‹é¡¹è®¾ç½®æ ¼å¼çš„è¡Œä¸ºåº”ä¸è´Ÿè´£è®¾ç½®æ ¼å¼çš„è¡Œä¸ºåŒºåˆ†å¼€ï¼Œå› ä¸ºè¿™ä¸¤ç§è¡Œä¸ºåªæ˜¯ç¢°å·§å½¼æ­¤ç›¸å…³è”çš„ç‹¬ç«‹å…³æ³¨ç‚¹ã€‚</p><p>ä»ä½“ç³»ç»“æ„ä¸Šæ¥è¯´ï¼ŒæŒ‰æ­¤åŸåˆ™æœ‰é€»è¾‘åœ°æ„å»ºåº”ç”¨ç¨‹åºåº”å°†æ ¸å¿ƒä¸šåŠ¡è¡Œä¸ºä¸åŸºç¡€ç»“æ„åŠç”¨æˆ·ç•Œé¢é€»è¾‘åŒºåˆ†å¼€ã€‚ ç†æƒ³æƒ…å†µä¸‹ï¼Œä¸šåŠ¡è§„åˆ™å’Œé€»è¾‘åº”å•ç‹¬ä½äºä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œä¸”è¯¥é¡¹ç›®ä¸ä¾èµ–äºåº”ç”¨ç¨‹åºä¸­çš„å…¶ä»–é¡¹ç›®ã€‚ æ­¤åŒºåˆ†æ“ä½œå¯å¸®åŠ©ç¡®ä¿è¯¥ä¸šåŠ¡æ¨¡å‹æ˜“äºæµ‹è¯•ï¼Œä¸”å¯åœ¨ä¸ä¸ä½çº§åˆ«å®ç°è¯¦ç»†ä¿¡æ¯ç´§å¯†è€¦åˆçš„æƒ…å†µä¸‹é€æ­¥æ”¹è¿›ï¼ˆå¦‚æœåŸºç¡€ç»“æ„é—®é¢˜å–å†³äºä¸šåŠ¡å±‚ä¸­å®šä¹‰çš„æŠ½è±¡æ—¶ï¼Œè¿™ä¹Ÿæœ‰å¸®åŠ©ï¼‰ã€‚ åœ¨åº”ç”¨ç¨‹åºä½“ç³»ç»“æ„çš„ä½¿ç”¨å±‚èƒŒåï¼Œå…³æ³¨ç‚¹åˆ†ç¦»æ˜¯æ ¸å¿ƒè®¾è®¡æ€æƒ³ã€‚<br>&#96;</p><h1 id="å›åˆ°MVC"><a href="#å›åˆ°MVC" class="headerlink" title="å›åˆ°MVC"></a>å›åˆ°MVC</h1><p>ä»¥æˆ‘é€šä¿—çš„ç†è§£ï¼ŒViewï¼ˆè§†å›¾ï¼‰æ˜¯ä¸ç”¨æˆ·äº¤äº’çš„å±‚é¢ï¼Œä¹Ÿå°±æ˜¯å‰ç«¯çš„éƒ¨åˆ†ï¼ŒModelï¼ˆæ¨¡å‹ï¼‰å°±æ˜¯å‰ç«¯æ‰€éœ€è¦çš„å­—æ®µã€‚Controllerï¼ˆæ§åˆ¶å™¨ï¼‰å°±æ˜¯ä¸å‰ç«¯éƒ¨åˆ†è¿›è¡Œæ•™è‚²çš„webapiï¼Œå½“ç„¶åç«¯ä¸æ•°æ®åº“äº¤äº’çš„éƒ¨åˆ†ä¾ç„¶æœ‰Modelï¼Œæ‰€ä»¥å°±æ˜¯ï¼Œæ•°æ®åº“-&gt;åç«¯å¤„ç†-&gt;åç«¯Model-&gt;Controller-&gt;å‰ç«¯Model-&gt;Viewã€‚</p><p>è§†å›¾å’Œæ§åˆ¶å™¨éƒ½æ˜¯ä¾èµ–æ¨¡å‹çš„ï¼Œä½†æ˜¯<code>æ¨¡å‹æ˜¯ç‹¬ç«‹çš„ï¼Œæ—¢ä¸ä¾èµ–è§†å›¾ï¼Œä¹Ÿä¸ä¼šä¾èµ–æ§åˆ¶å™¨</code>ï¼Œè¿™æ ·ä¹Ÿå±äºä¸€ç§å‰åç«¯åˆ†ç¦»çš„è¡¨ç°ï¼Œå› ä¸ºéƒ½å¯ä»¥è¿›è¡Œç‹¬ç«‹çš„æµ‹è¯•äº†ã€‚</p><h2 id="æ¨¡å‹çš„è´£ä»»"><a href="#æ¨¡å‹çš„è´£ä»»" class="headerlink" title="æ¨¡å‹çš„è´£ä»»"></a>æ¨¡å‹çš„è´£ä»»</h2><p>æ¨¡å‹çš„è¡¨ç°ï¼Œæ˜¯<code>åº”ç”¨ç¨‹åº</code>å’Œä»»ä½•<code>åº”ç”±å…¶æ‰§è¡Œçš„ä¸šåŠ¡é€»è¾‘</code>æˆ–è€…<code>æ“ä½œçš„çŠ¶æ€</code>ã€‚è¿™é‡Œè§£é‡Šä¸€ä¸‹ä»€ä¹ˆå«<code>ä¸šåŠ¡é€»è¾‘</code>å’Œ<code>æ“ä½œçŠ¶æ€</code>ï¼Œä¸šåŠ¡é€»è¾‘å°±æ˜¯æ¥å£ã€æ–¹æ³•ï¼Œå«æ³•ä¸ä¸€ä½†æ˜¯éƒ½ä¸€æ ·ï¼Œé€»è¾‘åŒ…å«äº†è®¡ç®—ï¼Œå¤„ç†ç­‰åŠ¨ä½œï¼›æ“ä½œçŠ¶æ€å°±æ˜¯å±æ€§ï¼Œå±æ€§ä¼šäº§ç”Ÿå˜åŒ–ï¼Œå¯ä»¥æ¨è¿›ä¸šåŠ¡ï¼›æ–¹æ³•ï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰å¯¹å±æ€§ï¼ˆæ“ä½œçŠ¶æ€ï¼‰æ–°å‹æ“ä½œï¼Œæ¥å®Œæˆç‰¹å®šçš„ä¸šåŠ¡ã€‚ä½†æ˜¯åœ¨è®¾è®¡çš„æ—¶å€™ï¼Œä¸€èˆ¬æ¥è®²éƒ½æ˜¯å°†ä¸šåŠ¡é€»è¾‘å’Œæ“ä½œçŠ¶æ€åˆ†ç¦»çš„ï¼Œç¡®ä¿ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯é‡ç”¨æ€§ã€‚è¿™é‡Œå°±æ¶‰åŠåˆ°å……è¡€æ¨¡å¼å’Œè´«è¡€æ¨¡å¼çš„é—®é¢˜äº†ï¼Œä½†æ˜¯è·Ÿäººè®¤ä¸ºï¼Œå®é™…æƒ…å†µåº”è¯¥æ ¹æ®åœºæ™¯å’Œæ¶æ„æ¨¡å¼ä»¥åŠä¸šåŠ¡éœ€æ±‚è¿›è¡Œä¸åŒçš„å¤„ç†ã€‚</p><h2 id="è§†å›¾çš„è´£ä»»"><a href="#è§†å›¾çš„è´£ä»»" class="headerlink" title="è§†å›¾çš„è´£ä»»"></a>è§†å›¾çš„è´£ä»»</h2><p>å°±æ˜¯ç»™ç”¨æˆ·å±•ç¤ºçš„å†…å®¹ï¼Œç”¨æˆ·é€šè¿‡è§†å›¾æ¥å¯¹ä¸šåŠ¡è¿›è¡Œäº¤äº’ã€åŠ¨ä½œï¼Œè¾¾åˆ°å¯¹ä¸šåŠ¡å¤„ç†çš„ç›®çš„ã€‚</p><h2 id="æ§åˆ¶å™¨çš„è´£ä»»"><a href="#æ§åˆ¶å™¨çš„è´£ä»»" class="headerlink" title="æ§åˆ¶å™¨çš„è´£ä»»"></a>æ§åˆ¶å™¨çš„è´£ä»»</h2><p>ç”¨æˆ·é€šè¿‡è§†å›¾è¿›è¡Œäº†æ“ä½œï¼Œé‚£ä¹ˆæ“ä½œçš„ä¸šåŠ¡é€»è¾‘ä¸çŠ¶æ€å°±é€šè¿‡æ¨¡å‹ä¼ é€’ç»™æ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨å†é€šè¿‡ç”¨æˆ·çš„åŠ¨ä½œå¯¹ä¸šåŠ¡é€»è¾‘ä¸æ“ä½œçŠ¶æ€è¿›è¡Œå¤„ç†å¹¶åé¦ˆç»™ç”¨æˆ·ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ç»å¸¸æåˆ°çš„MVCï¼Œå¤§å®¶éƒ½çŸ¥é“çš„æ˜¯ï¼ŒMï¼ˆModelï¼‰Vï¼ˆViewï¼‰C(Controller)çš„ç¼©å†™ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯æ¨¡å‹-è§†å›¾-æ§åˆ¶å™¨ï¼Œæ˜¯ç”¨æ¥å¼€å‘webåº”ç”¨çš„æ¡†æ¶ï¼Œè¿™æ ·çš„è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†å®ç°å…³æ³¨ç‚¹åˆ†ç¦»ï¼Œé‚£ä¹ˆå…³æ³¨ç‚¹åˆ†ç¦»åˆæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/p&gt;
&lt;h1 id=&quot;å…³æ³¨ç‚¹åˆ†ç¦»&quot;&gt;&lt;a href=</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    
    <category term="æ¦‚å¿µ" scheme="https://oujun.work/tags/%E6%A6%82%E5%BF%B5/"/>
    
    <category term="MVC" scheme="https://oujun.work/tags/MVC/"/>
    
  </entry>
  
  <entry>
    <title>çŒ«å›½å»ºè®¾è€…ä½œå¼Š</title>
    <link href="https://oujun.work/2024/01/22/%E7%8C%AB%E5%9B%BD%E5%BB%BA%E8%AE%BE%E8%80%85%E4%BD%9C%E5%BC%8A.html"/>
    <id>https://oujun.work/2024/01/22/%E7%8C%AB%E5%9B%BD%E5%BB%BA%E8%AE%BE%E8%80%85%E4%BD%9C%E5%BC%8A.html</id>
    <published>2024-01-22T01:08:16.000Z</published>
    <updated>2025-12-04T05:46:13.308Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä¿®æ”¹èµ„æº"><a href="#ä¿®æ”¹èµ„æº" class="headerlink" title="ä¿®æ”¹èµ„æº"></a>ä¿®æ”¹èµ„æº</h1><p>ç”¨æµè§ˆå™¨ç©æ¸¸æˆçš„æ—¶å€™ï¼ŒæŒ‰F12ï¼Œè¿›å…¥æµè§ˆå™¨çš„æ§åˆ¶å°ï¼ŒçŒ«å›½å»ºè®¾è€…è¿è¡Œçš„æ—¶å€™æ˜¯JavaScriptè„šæœ¬çš„ï¼Œå…¶èµ·æºéƒ½åœ¨<code>this.gamePage.resPool</code>å¯¹è±¡ä¸­ï¼Œç›´æ¥è¾“å‡ºå°±èƒ½çœ‹åˆ°èµ„æºçš„ç›¸å…³å±æ€§å’Œå€¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹å®ƒç›´æ¥è¿›è¡Œä¿®æ”¹ï¼Œä¾‹å¦‚ä¿®æ”¹èµ„æºæ•°é‡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">resources</span>.<span class="hljs-property">length</span>;i++)<br>&#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">resources</span>[i].<span class="hljs-property">unlocked</span>==<span class="hljs-literal">true</span>)<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-title function_">get</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">resources</span>[i].<span class="hljs-property">name</span>).<span class="hljs-property">value</span>+=<span class="hljs-number">9999999999999999999999999999999999999999999999999999999999999999999</span><br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œä¸ºäº†æ¸¸æˆä½“éªŒï¼Œåšäº†èµ„æºæ˜¯å¦å·²ç»è§£é”çš„é™åˆ¶<code>.unlocked==true</code>,é˜²æ­¢ç›´æ¥åˆ·å‡ºæ‰€æœ‰èµ„æºï¼Œ<code>.value+=9999999999999999999999999999999999999999999999999999999999999999999</code>è¿™é‡Œå¯ä»¥è¿›è¡Œä¿®æ”¹å¢åŠ å¤šå°‘æˆ–è€…æ˜¯èµ„æº&#x3D;å¤šå°‘<code>.value=9999999999999999999999999999999999999999999999999999999999999999999</code></p><p>æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå°±æ˜¯å°†èµ„æºä¿®æ”¹åˆ°å½“å‰é™åˆ¶çš„æœ€å¤§å€¼çš„æ–¹æ³•ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå¼Šç«¯ï¼Œå°±æ˜¯å·¥åŠé‡Œçš„ä¸€äº›èµ„æºä¼šå˜æˆ0ï¼›</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">resources</span>.<span class="hljs-property">length</span>;i++)<br>&#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">resources</span>[i].<span class="hljs-property">unlocked</span>==<span class="hljs-literal">true</span>)<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-title function_">get</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">resources</span>[i].<span class="hljs-property">name</span>).<span class="hljs-property">value</span>=<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">resources</span>[i].<span class="hljs-property">maxValue</span><br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ä¿®æ”¹å»ºç­‘æ•°é‡"><a href="#ä¿®æ”¹å»ºç­‘æ•°é‡" class="headerlink" title="ä¿®æ”¹å»ºç­‘æ•°é‡"></a>ä¿®æ”¹å»ºç­‘æ•°é‡</h1><p><strong>ä¸å»ºè®®ä½¿ç”¨</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">game</span>.<span class="hljs-property">bld</span>.<span class="hljs-property">meta</span>[<span class="hljs-number">0</span>].<span class="hljs-property">meta</span>.<span class="hljs-property">length</span>;i++)<br>&#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">game</span>.<span class="hljs-property">bld</span>.<span class="hljs-property">meta</span>[<span class="hljs-number">0</span>].<span class="hljs-property">meta</span>[i].<span class="hljs-property">unlocked</span>==<span class="hljs-literal">true</span>)<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">game</span>.<span class="hljs-property">bld</span>.<span class="hljs-property">meta</span>[<span class="hljs-number">0</span>].<span class="hljs-property">meta</span>[i].<span class="hljs-property">on</span>+=<span class="hljs-number">100</span><br>        <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">game</span>.<span class="hljs-property">bld</span>.<span class="hljs-property">meta</span>[<span class="hljs-number">0</span>].<span class="hljs-property">meta</span>[i].<span class="hljs-property">togglable</span>==<span class="hljs-literal">true</span>)<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">gamePage</span>.<span class="hljs-property">resPool</span>.<span class="hljs-property">game</span>.<span class="hljs-property">bld</span>.<span class="hljs-property">meta</span>[<span class="hljs-number">0</span>].<span class="hljs-property">meta</span>[i].<span class="hljs-property">val</span>+=<span class="hljs-number">100</span><br>&#125;<br></code></pre></td></tr></table></figure><p>åŒæ ·å¢åŠ äº†å»ºç­‘æ˜¯å¦è§£é”çš„åˆ¤æ–­<code>.unlocked==true</code>,å¦‚æœè§£é”äº†ï¼Œå°±å¢åŠ 100ä¸ªï¼Œä¹Ÿå°±æ˜¯<code>.on+=100</code>;åŒæ—¶åˆ¤æ–­æ˜¯å¦æ˜¯åˆå¼€å…³çš„<code>.togglable==true</code>æœ‰çš„è¯å°±ç›´æ¥å¢åŠ <code>.val+=100</code>,å°±æ˜¯å»ºç­‘ä¸Šçš„é‚£ç§â€™100&#x2F;100â€™ã€‚</p><p>ä½†æ˜¯æœ‰ä¸€ç‚¹å°é—®é¢˜å°±æ˜¯å³ä½¿ä½ çš„èµ„æºä¸å¤Ÿï¼Œå»ºç­‘ä¾ç„¶èƒ½å‡çº§ï¼Œæ‰€ä»¥ä¸å¦‚ç›´æ¥ä¿®æ”¹æ¸¸æˆ<code>é€‰é¡¹</code>ä¸­çš„<code>æ›´å¤šè®¾ç½®</code>-<code>æ‰¹å¤„ç†æ¬¡æ•°ï¼ˆCtrl+å•å‡»ï¼‰</code>ï¼Œç„¶åæŒ‰ä½ctrlç‚¹å»ºç­‘çš„å‡çº§æ–¹å¼ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ä¿®æ”¹èµ„æº&quot;&gt;&lt;a href=&quot;#ä¿®æ”¹èµ„æº&quot; class=&quot;headerlink&quot; title=&quot;ä¿®æ”¹èµ„æº&quot;&gt;&lt;/a&gt;ä¿®æ”¹èµ„æº&lt;/h1&gt;&lt;p&gt;ç”¨æµè§ˆå™¨ç©æ¸¸æˆçš„æ—¶å€™ï¼ŒæŒ‰F12ï¼Œè¿›å…¥æµè§ˆå™¨çš„æ§åˆ¶å°ï¼ŒçŒ«å›½å»ºè®¾è€…è¿è¡Œçš„æ—¶å€™æ˜¯JavaScriptè„šæœ¬çš„ï¼Œå…¶èµ·æºéƒ½åœ¨&lt;code&gt;</summary>
      
    
    
    
    <category term="çŸ¥è¯†å‚¨å¤‡" scheme="https://oujun.work/categories/%E7%9F%A5%E8%AF%86%E5%82%A8%E5%A4%87/"/>
    
    
    <category term="æ¸¸æˆ" scheme="https://oujun.work/tags/%E6%B8%B8%E6%88%8F/"/>
    
    <category term="ä½œå¼Š" scheme="https://oujun.work/tags/%E4%BD%9C%E5%BC%8A/"/>
    
    <category term="çŒ«å›½å»ºè®¾è€…" scheme="https://oujun.work/tags/%E7%8C%AB%E5%9B%BD%E5%BB%BA%E8%AE%BE%E8%80%85/"/>
    
  </entry>
  
  <entry>
    <title>å°†å¾®ä¿¡æ–‡ä»¶å¤¹ä¸‹çš„datè½¬å›å›¾ç‰‡</title>
    <link href="https://oujun.work/2023/07/02/%E5%B0%86%E5%BE%AE%E4%BF%A1%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8B%E7%9A%84dat%E8%BD%AC%E5%9B%9E%E5%9B%BE%E7%89%87.html"/>
    <id>https://oujun.work/2023/07/02/%E5%B0%86%E5%BE%AE%E4%BF%A1%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8B%E7%9A%84dat%E8%BD%AC%E5%9B%9E%E5%9B%BE%E7%89%87.html</id>
    <published>2023-07-02T01:24:00.000Z</published>
    <updated>2023-07-02T01:24:00.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br>into_path = <span class="hljs-string">r&#x27;E:\Documents\WeChat Files\luacloud\FileStorage\Image\\&#x27;</span>[:-<span class="hljs-number">1</span>]  <span class="hljs-comment">#è¯·å°†æƒ³å¯¼å…¥çš„datæ–‡ä»¶çš„è·¯å¾„å¤åˆ¶åˆ°å¼•å·é‡Œé¢ï¼Œä¿®æ”¹æ­¤å¤„ä»£ç </span><br>out_path = <span class="hljs-string">r&quot;D:\WeixinImages\\&quot;</span>[:-<span class="hljs-number">1</span>]  <span class="hljs-comment">#è¿è¡Œä»£ç å‰è®°å¾—ä¿®æ”¹å¯¼å‡ºè·¯å¾„</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">imageDecode</span>(<span class="hljs-params">f, fn</span>):<br>    dat_read = <span class="hljs-built_in">open</span>(f, <span class="hljs-string">&quot;rb&quot;</span>)  <br>    xo = Format(f)  <br>    out = out_path + fn + <span class="hljs-string">&quot;.jpg&quot;</span>  <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å¯¼å‡ºæ–‡ä»¶çš„è·¯å¾„&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(out), end=<span class="hljs-string">&#x27;\n\n&#x27;</span>)<br>    png_write = <span class="hljs-built_in">open</span>(out, <span class="hljs-string">&quot;wb&quot;</span>)  <br>    dat_read.seek(<span class="hljs-number">0</span>)  <br><br>    <span class="hljs-keyword">for</span> now <span class="hljs-keyword">in</span> dat_read:  <br>        <span class="hljs-keyword">for</span> nowByte <span class="hljs-keyword">in</span> now:<br>            newByte = nowByte ^ xo  <br>            png_write.write(<span class="hljs-built_in">bytes</span>([newByte])) <br><br>    dat_read.close()<br>    png_write.close()<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">findFile</span>(<span class="hljs-params">f</span>):<br>    fsdir = os.listdir(f)  <br>    <span class="hljs-comment"># print(fsdir)</span><br>    <span class="hljs-keyword">for</span> finfo <span class="hljs-keyword">in</span> fsdir:  <br>        <span class="hljs-built_in">print</span>(into_path + finfo)<br>        fsinfo = os.listdir(into_path + finfo) <br>        <span class="hljs-keyword">for</span> fn <span class="hljs-keyword">in</span> fsinfo:  <br>            temp_path = os.path.join(into_path + finfo, fn)  <br>            <span class="hljs-keyword">if</span> os.path.isfile(temp_path):  <br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;å¯¼å…¥çš„æ–‡ä»¶è·¯å¾„æ˜¯&#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(temp_path))<br>                fn = fn[:-<span class="hljs-number">4</span>]  <br>                imageDecode(temp_path, fn)  <br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">pass</span> <br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">pass</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">Format</span>(<span class="hljs-params">f</span>):<br>    dat_r = <span class="hljs-built_in">open</span>(f, <span class="hljs-string">&quot;rb&quot;</span>)<br>    <span class="hljs-keyword">try</span>:<br>        a = [(<span class="hljs-number">0x89</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x4e</span>), (<span class="hljs-number">0x47</span>, <span class="hljs-number">0x49</span>, <span class="hljs-number">0x46</span>), (<span class="hljs-number">0xff</span>, <span class="hljs-number">0xd8</span>, <span class="hljs-number">0xff</span>)]<br>        <span class="hljs-keyword">for</span> now <span class="hljs-keyword">in</span> dat_r:<br>            <span class="hljs-keyword">for</span> xor <span class="hljs-keyword">in</span> a:<br>                i = <span class="hljs-number">0</span><br>                res = []<br>                nowg = now[:<span class="hljs-number">3</span>]<br>                <span class="hljs-keyword">for</span> nowByte <span class="hljs-keyword">in</span> nowg:<br>                    res.append(nowByte ^ xor[i])<br>                    i += <span class="hljs-number">1</span><br>                <span class="hljs-keyword">if</span> res[<span class="hljs-number">0</span>] == res[<span class="hljs-number">1</span>] == res[<span class="hljs-number">2</span>]:<br>                    <span class="hljs-keyword">return</span> res[<span class="hljs-number">0</span>]<br>    <span class="hljs-keyword">except</span>:<br>        <span class="hljs-keyword">pass</span><br>    <span class="hljs-keyword">finally</span>:<br>        dat_r.close()<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    findFile(into_path)<br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span clas</summary>
      
    
    
    
    <category term="çŸ¥è¯†å‚¨å¤‡" scheme="https://oujun.work/categories/%E7%9F%A5%E8%AF%86%E5%82%A8%E5%A4%87/"/>
    
    
    <category term="python" scheme="https://oujun.work/tags/python/"/>
    
    <category term="å¾®ä¿¡" scheme="https://oujun.work/tags/%E5%BE%AE%E4%BF%A1/"/>
    
    <category term="å›¾ç‰‡" scheme="https://oujun.work/tags/%E5%9B%BE%E7%89%87/"/>
    
    <category term="è§£å¯†" scheme="https://oujun.work/tags/%E8%A7%A3%E5%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>Linuxä¸­å¼€å¯samba</title>
    <link href="https://oujun.work/2023/06/30/Linux%E4%B8%AD%E5%BC%80%E5%90%AFsamba.html"/>
    <id>https://oujun.work/2023/06/30/Linux%E4%B8%AD%E5%BC%80%E5%90%AFsamba.html</id>
    <published>2023-06-30T06:46:09.000Z</published>
    <updated>2023-06-30T06:46:09.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ›´æ–°ä¸å®‰è£…"><a href="#æ›´æ–°ä¸å®‰è£…" class="headerlink" title="æ›´æ–°ä¸å®‰è£…"></a>æ›´æ–°ä¸å®‰è£…</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">apt update<br>apt upgrade -y<br>apt install nano samba -y<br></code></pre></td></tr></table></figure><h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><p>åˆ‡æ¢ç›®å½•åˆ°<code>/etc/samba</code>,ç¼–è¾‘é…ç½®æ–‡ä»¶<code>nano smb.conf</code>,åœ¨æ–‡ä»¶çš„æœ€åæ·»åŠ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs conf">[datacenter]<br>    comment = æè¿°<br>    path  = /è·¯å¾„<br>    guest ok = no  ;æˆ–yes<br>    browsable = no ;æˆ–yes<br>    ;write list = root<br></code></pre></td></tr></table></figure><p>ä¿å­˜åæ·»åŠ è´¦æˆ·<code>smbpasswd -a root</code>è¾“å…¥æ–°çš„å¯†ç ï¼Œç„¶åé‡å¯æœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">systemctl restart smdb<br>systemctl restart samba<br>systemctl <span class="hljs-built_in">enable</span> --now smbd<br></code></pre></td></tr></table></figure><h1 id="æ·»åŠ æ–°è´¦å·"><a href="#æ·»åŠ æ–°è´¦å·" class="headerlink" title="æ·»åŠ æ–°è´¦å·"></a>æ·»åŠ æ–°è´¦å·</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">useradd user1<br><br>smbpasswd -a user1<br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;æ›´æ–°ä¸å®‰è£…&quot;&gt;&lt;a href=&quot;#æ›´æ–°ä¸å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;æ›´æ–°ä¸å®‰è£…&quot;&gt;&lt;/a&gt;æ›´æ–°ä¸å®‰è£…&lt;/h1&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;</summary>
      
    
    
    
    <category term="å®¶åº­æœåŠ¡" scheme="https://oujun.work/categories/%E5%AE%B6%E5%BA%AD%E6%9C%8D%E5%8A%A1/"/>
    
    
    <category term="NAS" scheme="https://oujun.work/tags/NAS/"/>
    
    <category term="Jellyfin" scheme="https://oujun.work/tags/Jellyfin/"/>
    
    <category term="Proxmox VE" scheme="https://oujun.work/tags/Proxmox-VE/"/>
    
    <category term="PVE" scheme="https://oujun.work/tags/PVE/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨chatgptåšæ¶æ„è®¾è®¡</title>
    <link href="https://oujun.work/2023/03/01/%E7%94%A8chatgpt%E5%81%9A%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.html"/>
    <id>https://oujun.work/2023/03/01/%E7%94%A8chatgpt%E5%81%9A%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1.html</id>
    <published>2023-03-01T15:00:00.000Z</published>
    <updated>2023-03-01T15:01:00.000Z</updated>
    
    <content type="html"><![CDATA[<p> ç”¨chatgptåšæ¶æ„è®¾è®¡</p><h1 id="ç”¨æˆ·æ•…äº‹"><a href="#ç”¨æˆ·æ•…äº‹" class="headerlink" title="ç”¨æˆ·æ•…äº‹"></a>ç”¨æˆ·æ•…äº‹</h1><blockquote><p>æˆ‘ä»¬è¦å¼€å‘ä¸€ä¸ªç³»ç»Ÿï¼Œæˆ‘ä»¬ä»ç”¨æˆ·æ•…äº‹å¼€å§‹ï¼Œéœ€è¦è®¾è®¡ä¸€ä¸ªç®¡ç†ç³»ç»Ÿçš„æ¨¡å‹ï¼Œå…¶ä¸­åŒ…æ‹¬ç”¨æˆ·è´¦å·çš„åŸºæœ¬ä¿¡æ¯å®ä½“ï¼Œæ‰‹æœºå·éªŒè¯å®ä½“ï¼Œç™»å½•è®°å½•å®ä½“ï¼Œè®¾å¤‡ç»‘å®šä¿¡æ¯å®ä½“ï¼Œç”¨æˆ·çš„è§’è‰²å®ä½“ï¼Œç”¨æˆ·çš„ç»„ç»‡æœºæ„å®ä½“ä»¥åŠå˜æ›´è®°å½•å®ä½“ã€‚</p></blockquote><hr><p>å¥½çš„ï¼Œè®©æˆ‘å¸®æ‚¨åˆ†æå’Œè®¾è®¡è¿™ä¸ªç³»ç»Ÿã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ç”¨æˆ·çš„éœ€æ±‚å’Œç”¨æˆ·æ•…äº‹ï¼Œç„¶åæ ¹æ®è¿™äº›éœ€æ±‚å’Œæ•…äº‹è®¾è®¡å®ä½“å’Œå…¶å±æ€§ã€‚åŸºäºæ‚¨æä¾›çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥è®¾è®¡å‡ºä»¥ä¸‹å®ä½“å’Œå…¶å±æ€§ï¼š</p><ol><li>ç”¨æˆ·è´¦å·å®ä½“</li></ol><ul><li>ID</li><li>ç”¨æˆ·å</li><li>å¯†ç </li><li>å§“å</li><li>ç”µå­é‚®ä»¶</li><li>åˆ›å»ºæ—¶é—´</li><li>ä¸Šæ¬¡ä¿®æ”¹æ—¶é—´</li></ul><ol start="2"><li>æ‰‹æœºå·éªŒè¯å®ä½“</li></ol><ul><li>ID</li><li>æ‰‹æœºå·</li><li>éªŒè¯ç </li><li>åˆ›å»ºæ—¶é—´</li></ul><ol start="3"><li>ç™»å½•è®°å½•å®ä½“</li></ol><ul><li>ID</li><li>ç”¨æˆ·ID</li><li>IPåœ°å€</li><li>ç™»å½•æ—¶é—´</li></ul><ol start="4"><li>è®¾å¤‡ç»‘å®šä¿¡æ¯å®ä½“</li></ol><ul><li>ID</li><li>ç”¨æˆ·ID</li><li>è®¾å¤‡åç§°</li><li>è®¾å¤‡ID</li><li>ç»‘å®šæ—¶é—´</li></ul><ol start="5"><li>ç”¨æˆ·è§’è‰²å®ä½“</li></ol><ul><li>ID</li><li>è§’è‰²åç§°<br>Â· æè¿°</li></ul><ol start="6"><li>ç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“</li></ol><ul><li>ID</li><li>ç»„ç»‡æœºæ„åç§°</li><li>æè¿°</li><li>çˆ¶èŠ‚ç‚¹ID</li></ul><ol start="7"><li>å˜æ›´è®°å½•å®ä½“</li></ol><ul><li>ID</li><li>å®ä½“åç§°</li><li>å®ä½“ID</li><li>å˜æ›´å‰å±æ€§å€¼</li><li>å˜æ›´åå±æ€§å€¼</li><li>å˜æ›´äºº</li><li>å˜æ›´æ—¶é—´</li></ul><p>ä»¥ä¸Šå®ä½“å’Œå±æ€§æ˜¯æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯è¿›è¡Œè®¾è®¡çš„ã€‚æ‚¨å¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µè¿›è¡Œè°ƒæ•´å’Œå®Œå–„ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å®ä½“ä¹‹é—´çš„å…³ç³»è®¾è®¡å‡ºæ¨¡å‹ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„æ¨¡å‹ç¤ºæ„å›¾ï¼š</p><p>åœ¨è¿™ä¸ªæ¨¡å‹ä¸­ï¼Œç”¨æˆ·è´¦å·å®ä½“æ˜¯æ ¸å¿ƒå®ä½“ï¼Œå…¶ä»–å®ä½“éƒ½æ˜¯å›´ç»•ç”¨æˆ·è´¦å·å®ä½“è€Œå»ºç«‹çš„ã€‚æ‰‹æœºå·éªŒè¯å®ä½“ã€ç™»å½•è®°å½•å®ä½“å’Œè®¾å¤‡ç»‘å®šä¿¡æ¯å®ä½“éƒ½æ˜¯ç”¨æˆ·è´¦å·çš„é™„å±ä¿¡æ¯ï¼Œç”¨æˆ·è§’è‰²å®ä½“å’Œç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“åˆ™æ˜¯ç”¨äºç®¡ç†ç”¨æˆ·è´¦å·çš„è§’è‰²å’Œç»„ç»‡æœºæ„ä¿¡æ¯ï¼Œå˜æ›´è®°å½•å®ä½“ç”¨äºè®°å½•å®ä½“å±æ€§çš„å˜æ›´å†å²ã€‚</p><p>å¸Œæœ›è¿™ä¸ªè®¾è®¡å¯ä»¥å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ã€‚</p><hr><blockquote><p>ç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“ä¸­è¿˜è¦å¢åŠ å±‚çº§ã€ç¼–å·ã€æ˜¯å¦éšè—</p></blockquote><hr><p>å¥½çš„ï¼Œæ ¹æ®æ‚¨çš„éœ€æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“çš„å±æ€§æ‰©å±•ä¸ºï¼š</p><ol><li>ç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“</li></ol><ul><li>ID</li><li>ç»„ç»‡æœºæ„åç§°</li><li>æè¿°</li><li>çˆ¶èŠ‚ç‚¹ID</li><li>å±‚çº§</li><li>ç¼–å·</li><li>æ˜¯å¦éšè—</li></ul><p>è¿™æ ·è®¾è®¡å¯ä»¥æ›´å¥½åœ°æ”¯æŒç»„ç»‡æœºæ„ä¹‹é—´çš„å±‚çº§å…³ç³»ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ç¼–å·å¿«é€Ÿå®šä½å’ŒæŸ¥æ‰¾ç»„ç»‡æœºæ„ã€‚åŒæ—¶ï¼Œæ˜¯å¦éšè—å±æ€§å¯ä»¥æ”¯æŒå¯¹æŸäº›æ•æ„Ÿçš„ç»„ç»‡æœºæ„è¿›è¡Œéšè—å’Œä¿æŠ¤ã€‚</p><hr><h1 id="æ•°æ®æ¨¡å‹"><a href="#æ•°æ®æ¨¡å‹" class="headerlink" title="æ•°æ®æ¨¡å‹"></a>æ•°æ®æ¨¡å‹</h1><blockquote><p>å¥½ï¼Œå°†ä¸Šé¢çš„è®¾è®¡è½¬åŒ–ä¸ºæ•°æ®æ¨¡å‹ï¼Œå­—æ®µä½¿ç”¨è‹±æ–‡å­—æ®µä¸ä¸­æ–‡æ³¨é‡Šï¼Œæ•°æ®åº“é‡‡ç”¨postgresqlï¼Œä½¿ç”¨markdownè¡¨æ ¼çš„å½¢å¼æ¥æè¿°è¾“å‡ºï¼Œå¹¶ç›´æ¥ç»™å‡ºmarkdownä»£ç </p></blockquote><hr><p>å¥½çš„ï¼Œä»¥ä¸‹æ˜¯æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯è®¾è®¡çš„PostgreSQLæ•°æ®åº“çš„æ•°æ®æ¨¡å‹ã€‚æ‚¨å¯ä»¥å°†ä»¥ä¸‹Markdownä»£ç å¤åˆ¶åˆ°Markdownç¼–è¾‘å™¨ä¸­è¿›è¡ŒæŸ¥çœ‹å’Œç¼–è¾‘ã€‚</p><h2 id="ç”¨æˆ·è´¦å·å®ä½“"><a href="#ç”¨æˆ·è´¦å·å®ä½“" class="headerlink" title="ç”¨æˆ·è´¦å·å®ä½“"></a>ç”¨æˆ·è´¦å·å®ä½“</h2><table><thead><tr><th>å­—æ®µå</th><th>æ•°æ®ç±»å‹</th><th>å­—æ®µæè¿°</th></tr></thead><tbody><tr><td>id</td><td>serial</td><td>ç”¨æˆ·è´¦å·ID</td></tr><tr><td>username</td><td>varchar(50)</td><td>ç”¨æˆ·å</td></tr><tr><td>password</td><td>varchar(50)</td><td>å¯†ç </td></tr><tr><td>name</td><td>varchar(50)</td><td>å§“å</td></tr><tr><td>email</td><td>varchar(50)</td><td>ç”µå­é‚®ä»¶</td></tr><tr><td>created_at</td><td>timestamp</td><td>åˆ›å»ºæ—¶é—´</td></tr><tr><td>last_modified_at</td><td>timestamp</td><td>ä¸Šæ¬¡ä¿®æ”¹æ—¶é—´</td></tr></tbody></table><h2 id="æ‰‹æœºå·éªŒè¯å®ä½“"><a href="#æ‰‹æœºå·éªŒè¯å®ä½“" class="headerlink" title="æ‰‹æœºå·éªŒè¯å®ä½“"></a>æ‰‹æœºå·éªŒè¯å®ä½“</h2><table><thead><tr><th>å­—æ®µå</th><th>æ•°æ®ç±»å‹</th><th>å­—æ®µæè¿°</th></tr></thead><tbody><tr><td>id</td><td>serial</td><td>æ‰‹æœºå·éªŒè¯ID</td></tr><tr><td>user_id</td><td>integer</td><td>ç”¨æˆ·è´¦å·ID</td></tr><tr><td>phone_number</td><td>varchar(20)</td><td>æ‰‹æœºå·</td></tr><tr><td>verification_code</td><td>varchar(10)</td><td>éªŒè¯ç </td></tr><tr><td>created_at</td><td>timestamp</td><td>åˆ›å»ºæ—¶é—´</td></tr></tbody></table><h2 id="ç™»å½•è®°å½•å®ä½“"><a href="#ç™»å½•è®°å½•å®ä½“" class="headerlink" title="ç™»å½•è®°å½•å®ä½“"></a>ç™»å½•è®°å½•å®ä½“</h2><table><thead><tr><th>å­—æ®µå</th><th>æ•°æ®ç±»å‹</th><th>å­—æ®µæè¿°</th></tr></thead><tbody><tr><td>id</td><td>serial</td><td>ç™»å½•è®°å½•ID</td></tr><tr><td>user_id</td><td>integer</td><td>ç”¨æˆ·è´¦å·ID</td></tr><tr><td>ip_address</td><td>varchar(20)</td><td>IPåœ°å€</td></tr><tr><td>login_time</td><td>timestamp</td><td>ç™»å½•æ—¶é—´</td></tr></tbody></table><h2 id="è®¾å¤‡ç»‘å®šä¿¡æ¯å®ä½“"><a href="#è®¾å¤‡ç»‘å®šä¿¡æ¯å®ä½“" class="headerlink" title="è®¾å¤‡ç»‘å®šä¿¡æ¯å®ä½“"></a>è®¾å¤‡ç»‘å®šä¿¡æ¯å®ä½“</h2><table><thead><tr><th>å­—æ®µå</th><th>æ•°æ®ç±»å‹</th><th>å­—æ®µæè¿°</th></tr></thead><tbody><tr><td>id</td><td>serial</td><td>è®¾å¤‡ç»‘å®šä¿¡æ¯ID</td></tr><tr><td>user_id</td><td>integer</td><td>ç”¨æˆ·è´¦å·ID</td></tr><tr><td>device_name</td><td>varchar(50)</td><td>è®¾å¤‡åç§°</td></tr><tr><td>device_id</td><td>varchar(50)</td><td>è®¾å¤‡ID</td></tr><tr><td>binding_time</td><td>timestamp</td><td>ç»‘å®šæ—¶é—´</td></tr></tbody></table><h2 id="ç”¨æˆ·è§’è‰²å®ä½“"><a href="#ç”¨æˆ·è§’è‰²å®ä½“" class="headerlink" title="ç”¨æˆ·è§’è‰²å®ä½“"></a>ç”¨æˆ·è§’è‰²å®ä½“</h2><table><thead><tr><th>å­—æ®µå</th><th>æ•°æ®ç±»å‹</th><th>å­—æ®µæè¿°</th></tr></thead><tbody><tr><td>id</td><td>serial</td><td>ç”¨æˆ·è§’è‰²ID</td></tr><tr><td>role_name</td><td>varchar(50)</td><td>è§’è‰²åç§°</td></tr><tr><td>description</td><td>varchar(255)</td><td>æè¿°</td></tr></tbody></table><h2 id="ç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“"><a href="#ç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“" class="headerlink" title="ç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“"></a>ç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“</h2><table><thead><tr><th>å­—æ®µå</th><th>æ•°æ®ç±»å‹</th><th>å­—æ®µæè¿°</th></tr></thead><tbody><tr><td>id</td><td>serial</td><td>ç”¨æˆ·ç»„ç»‡æœºæ„ID</td></tr><tr><td>organization_name</td><td>varchar(50)</td><td>ç»„ç»‡æœºæ„åç§°</td></tr><tr><td>description</td><td>varchar(255)</td><td>æè¿°</td></tr><tr><td>parent_id</td><td>integer</td><td>çˆ¶èŠ‚ç‚¹ID</td></tr><tr><td>level</td><td>integer</td><td>å±‚çº§</td></tr><tr><td>number</td><td>varchar(50)</td><td>ç¼–å·</td></tr><tr><td>is_hidden</td><td>boolean</td><td>æ˜¯å¦éšè—</td></tr></tbody></table><h2 id="å˜æ›´è®°å½•å®ä½“"><a href="#å˜æ›´è®°å½•å®ä½“" class="headerlink" title="å˜æ›´è®°å½•å®ä½“"></a>å˜æ›´è®°å½•å®ä½“</h2><table><thead><tr><th>å­—æ®µå</th><th>æ•°æ®ç±»å‹</th><th>å­—æ®µæè¿°</th></tr></thead><tbody><tr><td>id</td><td>serial</td><td>å˜æ›´è®°å½•ID</td></tr><tr><td>entity_name</td><td>varchar(50)</td><td>å®ä½“åç§°</td></tr><tr><td>entity_id</td><td>integer</td><td>å®ä½“ID</td></tr><tr><td>before_change_value</td><td>varchar(255)</td><td>å˜æ›´å‰å±æ€§å€¼</td></tr><tr><td>after_change_value</td><td>varchar(255)</td><td>å˜æ›´åå±æ€§å€¼</td></tr><tr><td>change_by</td><td>varchar(50)</td><td>å˜æ›´äºº</td></tr><tr><td>change_time</td><td>timestamp</td><td>å˜æ›´æ—¶é—´</td></tr></tbody></table><p>ä»¥ä¸Šæ˜¯ä¸€ä¸ªç®€å•çš„æ•°æ®æ¨¡å‹ç¤ºä¾‹ï¼Œæ‚¨å¯ä»¥æ ¹æ®å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚è¿›è¡Œè°ƒæ•´å’Œå®Œå–„ã€‚æ³¨æ„ï¼Œè¿™é‡Œé‡‡ç”¨äº†PostgreSQLçš„æ•°æ®ç±»å‹å’Œå­—æ®µå‘½åæ–¹å¼ï¼Œæ‚¨å¯ä»¥æ ¹æ®å…·ä½“çš„æ•°æ®åº“ç±»å‹å’Œè§„èŒƒè¿›è¡Œè°ƒæ•´ã€‚</p><hr><h1 id="å…³ç³»å›¾"><a href="#å…³ç³»å›¾" class="headerlink" title="å…³ç³»å›¾"></a>å…³ç³»å›¾</h1><blockquote><p>è¾“å‡ºç±»ä¹‹é—´çš„å…³ç³»å›¾ï¼Œç”¨markdownçš„æ ¼å¼ï¼Œè¾“å‡ºç¬¦åˆMermaidçš„è„šæœ¬ä»£ç </p></blockquote><hr><p>å¥½çš„ï¼Œä»¥ä¸‹æ˜¯ä½¿ç”¨Mermaidçš„è„šæœ¬ä»£ç ï¼Œç”¨Markdownè¾“å‡ºç”¨æˆ·è´¦å·å®ä½“ã€ç”¨æˆ·è§’è‰²å®ä½“ã€ç”¨æˆ·ç»„ç»‡æœºæ„å®ä½“ä¹‹é—´çš„å…³ç³»å›¾ï¼š</p><pre><code class=" mermaid">classDiagram    Account --|&gt; PhoneNumberVerification    Account --|&gt; LoginRecord    Account --|&gt; DeviceBindingInformation    Account --* Role    Account --* Organization    Account --|&gt; ChangeRecord    class Account&#123;        +id: int        +username: string        +password: string        +name: string        +email: string        +created_at: timestamp        +last_modified_at: timestamp    &#125;    class PhoneNumberVerification&#123;        +id: int        +user_id: int        +phone_number: string        +verification_code: string        +created_at: timestamp    &#125;    class LoginRecord&#123;        +id: int        +user_id: int        +ip_address: string        +login_time: timestamp    &#125;    class DeviceBindingInformation&#123;        +id: int        +user_id: int        +device_name: string        +device_id: string        +binding_time: timestamp    &#125;    class Role&#123;        +id: int        +role_name: string        +description: string    &#125;    class Organization&#123;        +id: int        +organization_name: string        +description: string        +parent_id: int        +level: int        +number: string        +is_hidden: boolean    &#125;    class ChangeRecord&#123;        +id: int        +entity_name: string        +entity_id: int        +before_change_value: string        +after_change_value: string        +change_by: string        +change_time: timestamp    &#125;</code></pre><p>ä»¥ä¸Šæ˜¯ä¸€ä¸ªç®€å•çš„ç±»ä¹‹é—´å…³ç³»å›¾çš„ç¤ºä¾‹ï¼Œæ‚¨å¯ä»¥æ ¹æ®å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚è¿›è¡Œè°ƒæ•´å’Œå®Œå–„ã€‚æ³¨æ„ï¼Œè¿™é‡Œé‡‡ç”¨äº†Mermaidçš„è¯­æ³•ï¼Œæ‚¨éœ€è¦å°†å…¶å¤åˆ¶åˆ°Mermaidç¼–è¾‘å™¨ä¸­è¿›è¡ŒæŸ¥çœ‹å’Œç¼–è¾‘ã€‚</p><hr><h1 id="åºåˆ—å›¾"><a href="#åºåˆ—å›¾" class="headerlink" title="åºåˆ—å›¾"></a>åºåˆ—å›¾</h1><blockquote><p>å¸®æˆ‘è¾“å‡ºåºåˆ—å›¾å›¾ï¼Œç”¨markdownçš„æ ¼å¼ï¼Œè¾“å‡ºç¬¦åˆMermaidçš„è„šæœ¬ä»£ç </p></blockquote><hr><p>ä»¥ä¸‹æ˜¯ç¬¦åˆMermaidçš„è„šæœ¬ä»£ç ï¼Œç”¨äºè¾“å‡ºåºåˆ—å›¾ï¼Œæ‚¨å¯ä»¥å°†å…¶å¤åˆ¶åˆ°Mermaidç¼–è¾‘å™¨ä¸­è¿›è¡ŒæŸ¥çœ‹å’Œç¼–è¾‘ã€‚</p><pre><code class=" mermaid">sequenceDiagram    participant User    participant System    participant Database    User-&gt;&gt;+System: Login Request    System-&gt;&gt;+Database: Query User Information    Database--&gt;&gt;-System: Return User Information    alt Invalid Username or Password        System-&gt;&gt;+User: Show Error Message    else Valid Username and Password        System-&gt;&gt;+User: Show Home Page        User-&gt;&gt;+System: Browse Organization Information        System-&gt;&gt;+Database: Query Organization Information        Database--&gt;&gt;-System: Return Organization Information        System--&gt;&gt;-User: Show Organization Information    end    User-&gt;&gt;+System: Logout Request    System-&gt;&gt;+Database: Update User Status    Database--&gt;&gt;-System: Update Success    System--&gt;&gt;-User: Redirect to Login Page</code></pre><p>ä»¥ä¸Šæ˜¯ä¸€ä¸ªç®€å•çš„åºåˆ—å›¾çš„ç¤ºä¾‹ï¼Œæ¨¡æ‹Ÿäº†ç”¨æˆ·ç™»å½•ç³»ç»Ÿã€æµè§ˆç»„ç»‡æœºæ„ä¿¡æ¯å’Œé€€å‡ºç³»ç»Ÿçš„è¿‡ç¨‹ã€‚æ‚¨å¯ä»¥æ ¹æ®å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚è¿›è¡Œè°ƒæ•´å’Œå®Œå–„ã€‚æ³¨æ„ï¼Œè¿™é‡Œé‡‡ç”¨äº†Mermaidçš„è¯­æ³•ï¼Œæ‚¨éœ€è¦å°†å…¶å¤åˆ¶åˆ°Mermaidç¼–è¾‘å™¨ä¸­è¿›è¡ŒæŸ¥çœ‹å’Œç¼–è¾‘ã€‚</p><hr><h1 id="çŠ¶æ€å›¾"><a href="#çŠ¶æ€å›¾" class="headerlink" title="çŠ¶æ€å›¾"></a>çŠ¶æ€å›¾</h1><h1 id="äº§å“ç§¯å‹é¡¹"><a href="#äº§å“ç§¯å‹é¡¹" class="headerlink" title="äº§å“ç§¯å‹é¡¹"></a>äº§å“ç§¯å‹é¡¹</h1><blockquote></blockquote><p>ä½¿ç”¨æ•æ·å¼€å‘çš„å½¢å¼å¯¹è¿™ä¸ªç³»ç»Ÿè¿›è¡Œäº§å“ç§¯å‹é¡¹æ‹†è§£</p><hr><p>å¥½çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ•æ·å¼€å‘çš„å½¢å¼æ¥å¯¹è¿™ä¸ªç³»ç»Ÿè¿›è¡Œäº§å“ç§¯å‹é¡¹æ‹†è§£ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¯èƒ½çš„äº§å“ç§¯å‹é¡¹ï¼Œæ‚¨å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé€‚å½“è°ƒæ•´å’Œå®Œå–„ã€‚</p><ol><li>ç”¨æˆ·è´¦å·ç®¡ç†åŠŸèƒ½</li></ol><ul><li>ç”¨æˆ·è´¦å·çš„åˆ›å»ºã€ä¿®æ”¹ã€åˆ é™¤ç­‰åŸºæœ¬æ“ä½œ</li><li>ç”¨æˆ·å¯†ç çš„åŠ å¯†ã€è§£å¯†å’Œé‡ç½®ç­‰æ“ä½œ</li><li>ç”¨æˆ·ä¸ªäººä¿¡æ¯çš„ç¼–è¾‘å’Œå±•ç¤ºåŠŸèƒ½</li><li>ç”¨æˆ·æƒé™ç®¡ç†å’Œè§’è‰²åˆ†é…åŠŸèƒ½</li><li>ç”¨æˆ·ç™»å½•æ—¥å¿—å’Œè®¾å¤‡ç»‘å®šä¿¡æ¯çš„è®°å½•å’ŒæŸ¥è¯¢åŠŸèƒ½</li><li>ç”¨æˆ·è´¦å·å˜æ›´è®°å½•çš„è®°å½•å’ŒæŸ¥è¯¢åŠŸèƒ½</li></ul><ol start="2"><li>æ‰‹æœºå·éªŒè¯åŠŸèƒ½</li></ol><ul><li>æ‰‹æœºå·çš„éªŒè¯å’Œä¿å­˜åŠŸèƒ½</li><li>æ‰‹æœºå·çš„éªŒè¯ç å‘é€å’ŒéªŒè¯åŠŸèƒ½</li><li>æ‰‹æœºå·çš„ä¿®æ”¹å’Œåˆ é™¤åŠŸèƒ½</li></ul><ol start="3"><li>ç»„ç»‡æœºæ„ç®¡ç†åŠŸèƒ½</li></ol><ul><li>ç»„ç»‡æœºæ„çš„åˆ›å»ºã€ä¿®æ”¹ã€åˆ é™¤ç­‰åŸºæœ¬æ“ä½œ</li><li>ç»„ç»‡æœºæ„çš„å±‚çº§ç»“æ„å’Œç¼–å·çš„å±•ç¤ºå’Œç»´æŠ¤åŠŸèƒ½</li><li>ç»„ç»‡æœºæ„çš„éšè—å’Œæ˜¾ç¤ºåŠŸèƒ½</li><li>ç»„ç»‡æœºæ„æˆå‘˜çš„æ·»åŠ ã€åˆ é™¤å’ŒæŸ¥è¯¢åŠŸèƒ½</li><li>ç»„ç»‡æœºæ„å˜æ›´è®°å½•çš„è®°å½•å’ŒæŸ¥è¯¢åŠŸèƒ½</li></ul><ol start="4"><li>è§’è‰²ç®¡ç†åŠŸèƒ½</li></ol><ul><li>è§’è‰²çš„åˆ›å»ºã€ä¿®æ”¹ã€åˆ é™¤ç­‰åŸºæœ¬æ“ä½œ</li><li>è§’è‰²çš„æƒé™åˆ†é…å’Œç®¡ç†åŠŸèƒ½</li><li>è§’è‰²æˆå‘˜çš„æ·»åŠ ã€åˆ é™¤å’ŒæŸ¥è¯¢åŠŸèƒ½</li></ul><ol start="5"><li>å˜æ›´è®°å½•ç®¡ç†åŠŸèƒ½</li></ol><ul><li>ç³»ç»Ÿå„é¡¹å®ä½“çš„å˜æ›´è®°å½•çš„è®°å½•å’ŒæŸ¥è¯¢åŠŸèƒ½</li><li>å˜æ›´è®°å½•çš„å¯¼å‡ºå’Œæ‰“å°åŠŸèƒ½</li></ul><p>ä»¥ä¸Šæ˜¯ä¸€äº›å¯èƒ½çš„äº§å“ç§¯å‹é¡¹ï¼Œæ‚¨å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé€‚å½“è°ƒæ•´å’Œå®Œå–„ã€‚åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥å°†è¿™äº›ç§¯å‹é¡¹åˆ†è§£æˆæ›´å°çš„ä»»åŠ¡ï¼Œä¾¿äºå›¢é˜Ÿæˆå‘˜åä½œå’Œå®ç°æ•æ·å¼€å‘ã€‚</p><hr><h1 id="ä»»åŠ¡æ‹†è§£"><a href="#ä»»åŠ¡æ‹†è§£" class="headerlink" title="ä»»åŠ¡æ‹†è§£"></a>ä»»åŠ¡æ‹†è§£</h1><blockquote><p>å¯¹æƒ…æ™¯ç”¨æˆ·è´¦å·ç®¡ç†åŠŸèƒ½è¿›è¡Œå¼€å‘ä»»åŠ¡æ‹†è§£</p></blockquote><hr><p>å¥½çš„ï¼Œä¸‹é¢æ˜¯å¯¹æƒ…æ™¯ç”¨æˆ·è´¦å·ç®¡ç†åŠŸèƒ½è¿›è¡Œå¼€å‘ä»»åŠ¡æ‹†è§£çš„ä¸€äº›å¯èƒ½çš„ä»»åŠ¡ï¼š</p><ol><li>åˆ›å»ºç”¨æˆ·è´¦å·</li></ol><ul><li>è®¾è®¡ç”¨æˆ·è´¦å·åˆ›å»ºç•Œé¢å’Œäº¤äº’æµç¨‹</li><li>å®ç°ç”¨æˆ·è´¦å·åˆ›å»ºé€»è¾‘å’Œæ•°æ®éªŒè¯</li><li>å®ç°ç”¨æˆ·å¯†ç åŠ å¯†å’Œå­˜å‚¨é€»è¾‘</li><li>å®ç°ç”¨æˆ·æƒé™å’Œè§’è‰²åˆ†é…é€»è¾‘</li></ul><ol start="2"><li>ä¿®æ”¹ç”¨æˆ·è´¦å·</li></ol><ul><li>è®¾è®¡ç”¨æˆ·è´¦å·ç¼–è¾‘ç•Œé¢å’Œäº¤äº’æµç¨‹</li><li>å®ç°ç”¨æˆ·è´¦å·ç¼–è¾‘é€»è¾‘å’Œæ•°æ®éªŒè¯</li><li>å®ç°ç”¨æˆ·å¯†ç ä¿®æ”¹é€»è¾‘å’Œæ•°æ®éªŒè¯</li><li>å®ç°ç”¨æˆ·æƒé™å’Œè§’è‰²åˆ†é…é€»è¾‘</li></ul><ol start="3"><li>åˆ é™¤ç”¨æˆ·è´¦å·</li></ol><ul><li>è®¾è®¡ç”¨æˆ·è´¦å·åˆ é™¤ç•Œé¢å’Œäº¤äº’æµç¨‹</li><li>å®ç°ç”¨æˆ·è´¦å·åˆ é™¤é€»è¾‘å’Œæ•°æ®éªŒè¯</li><li>å®ç°ç”¨æˆ·ç›¸å…³ä¿¡æ¯ï¼ˆå¦‚ç™»å½•è®°å½•ã€è®¾å¤‡ç»‘å®šä¿¡æ¯ã€å˜æ›´è®°å½•ç­‰ï¼‰çš„åˆ é™¤é€»è¾‘</li></ul><ol start="4"><li>ç”¨æˆ·ä¸ªäººä¿¡æ¯ç®¡ç†</li></ol><ul><li>è®¾è®¡ç”¨æˆ·ä¸ªäººä¿¡æ¯ç•Œé¢å’Œäº¤äº’æµç¨‹</li><li>å®ç°ç”¨æˆ·ä¸ªäººä¿¡æ¯çš„å±•ç¤ºé€»è¾‘</li><li>å®ç°ç”¨æˆ·ä¸ªäººä¿¡æ¯çš„ç¼–è¾‘é€»è¾‘å’Œæ•°æ®éªŒè¯</li></ul><ol start="5"><li>ç”¨æˆ·æƒé™ç®¡ç†</li></ol><ul><li>è®¾è®¡ç”¨æˆ·æƒé™ç®¡ç†ç•Œé¢å’Œäº¤äº’æµç¨‹</li><li>å®ç°ç”¨æˆ·æƒé™å’Œè§’è‰²åˆ†é…é€»è¾‘</li><li>å®ç°æƒé™å’Œè§’è‰²çš„æŸ¥è¯¢å’Œåˆ é™¤é€»è¾‘</li></ul><ol start="6"><li>ç”¨æˆ·ç™»å½•æ—¥å¿—å’Œè®¾å¤‡ç»‘å®šä¿¡æ¯ç®¡ç†</li></ol><ul><li>è®¾è®¡ç”¨æˆ·ç™»å½•æ—¥å¿—å’Œè®¾å¤‡ç»‘å®šä¿¡æ¯ç•Œé¢å’Œäº¤äº’æµç¨‹</li><li>å®ç°ç”¨æˆ·ç™»å½•æ—¥å¿—å’Œè®¾å¤‡ç»‘å®šä¿¡æ¯çš„æŸ¥è¯¢å’Œåˆ é™¤é€»è¾‘</li><li>å®ç°ç™»å½•æ—¥å¿—å’Œè®¾å¤‡ç»‘å®šä¿¡æ¯çš„å¯¼å‡ºå’Œæ‰“å°é€»è¾‘</li></ul><ol start="7"><li>ç”¨æˆ·è´¦å·å˜æ›´è®°å½•ç®¡ç†</li></ol><ul><li>è®¾è®¡ç”¨æˆ·è´¦å·å˜æ›´è®°å½•ç•Œé¢å’Œäº¤äº’æµç¨‹</li><li>å®ç°ç”¨æˆ·è´¦å·å˜æ›´è®°å½•çš„æŸ¥è¯¢å’Œåˆ é™¤é€»è¾‘</li><li>å®ç°ç”¨æˆ·è´¦å·å˜æ›´è®°å½•çš„å¯¼å‡ºå’Œæ‰“å°é€»è¾‘</li></ul><p>ä»¥ä¸Šæ˜¯ä¸€äº›å¯èƒ½çš„å¼€å‘ä»»åŠ¡ï¼Œæ‚¨å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œé€‚å½“è°ƒæ•´å’Œå®Œå–„ã€‚åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥å°†è¿™äº›ä»»åŠ¡è¿›ä¸€æ­¥æ‹†åˆ†ä¸ºæ›´å°çš„å­ä»»åŠ¡ï¼Œä¾¿äºå›¢é˜Ÿæˆå‘˜åä½œå’Œå®ç°æ•æ·å¼€å‘ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt; ç”¨chatgptåšæ¶æ„è®¾è®¡&lt;/p&gt;
&lt;h1 id=&quot;ç”¨æˆ·æ•…äº‹&quot;&gt;&lt;a href=&quot;#ç”¨æˆ·æ•…äº‹&quot; class=&quot;headerlink&quot; title=&quot;ç”¨æˆ·æ•…äº‹&quot;&gt;&lt;/a&gt;ç”¨æˆ·æ•…äº‹&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;æˆ‘ä»¬è¦å¼€å‘ä¸€ä¸ªç³»ç»Ÿï¼Œæˆ‘ä»¬ä»ç”¨æˆ·æ•…äº‹å¼€å§‹ï¼Œéœ€è¦è®¾è®¡ä¸€ä¸ªç®¡</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="æ¶æ„" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%9E%B6%E6%9E%84/"/>
    
    
    <category term="æ¶æ„è®¾è®¡" scheme="https://oujun.work/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"/>
    
    <category term="chatgpt" scheme="https://oujun.work/tags/chatgpt/"/>
    
  </entry>
  
  <entry>
    <title>PostgreSQLå¯¼å‡ºæ•°æ®åº“æ–‡æ¡£</title>
    <link href="https://oujun.work/2023/02/24/PostgreSQL%E5%AF%BC%E5%87%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E6%96%87%E6%A1%A3.html"/>
    <id>https://oujun.work/2023/02/24/PostgreSQL%E5%AF%BC%E5%87%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E6%96%87%E6%A1%A3.html</id>
    <published>2023-02-24T12:16:00.000Z</published>
    <updated>2023-02-24T12:16:00.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs sql">DO $$ <span class="hljs-keyword">DECLARE</span><br>tab RECORD;<br>rec RECORD;<br><span class="hljs-keyword">BEGIN</span><br><br><span class="hljs-keyword">FOR</span>  tab <span class="hljs-keyword">IN</span> <span class="hljs-keyword">SELECT</span> schemaname<span class="hljs-operator">||</span><span class="hljs-string">&#x27;.&#x27;</span><span class="hljs-operator">||</span><span class="hljs-string">&#x27;&quot;&#x27;</span><span class="hljs-operator">||</span>tablename<span class="hljs-operator">||</span><span class="hljs-string">&#x27;&quot;&#x27;</span> <span class="hljs-keyword">AS</span> &quot;TBName&quot;,t.tablename,obj_description(c.oid) <span class="hljs-keyword">AS</span> &quot;Description&quot; <span class="hljs-keyword">FROM</span> pg_tables t <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> pg_class c <span class="hljs-keyword">ON</span> t.tablename <span class="hljs-operator">=</span> c.relname <span class="hljs-keyword">WHERE</span> t.schemaname<span class="hljs-operator">=</span><span class="hljs-string">&#x27;public&#x27;</span> <span class="hljs-keyword">AND</span> t.tablename<span class="hljs-operator">!=</span><span class="hljs-string">&#x27;__EFMigrationsHistory&#x27;</span> LOOP<br>  RAISE NOTICE <span class="hljs-string">&#x27;è¡¨åï¼š%&#x27;</span>,tab.&quot;TBName&quot;;<br>RAISE NOTICE <span class="hljs-string">&#x27;&#x27;</span>;<br>RAISE NOTICE <span class="hljs-string">&#x27;&gt; %&#x27;</span>,tab.&quot;Description&quot;;<br>RAISE NOTICE <span class="hljs-string">&#x27;&#x27;</span>;<br>RAISE notice <span class="hljs-string">&#x27;| åºå· | å­—æ®µåç§° | ç±»å‹åŠé•¿åº¦ | æ˜¯å¦å¯ç©º | æ³¨é‡Š |&#x27;</span>;<br>    RAISE notice <span class="hljs-string">&#x27;|----|----|----|----|----|&#x27;</span>;<br><span class="hljs-keyword">FOR</span> rec <span class="hljs-keyword">IN</span> <span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">ROW_NUMBER</span> ( ) <span class="hljs-keyword">OVER</span> ( ) <span class="hljs-keyword">AS</span> åºå·, A.attname <span class="hljs-keyword">AS</span> å­—æ®µåç§°, format_type ( A.atttypid, A.atttypmod ) <span class="hljs-keyword">AS</span> ç±»å‹åŠé•¿åº¦, A.attnotnull <span class="hljs-keyword">AS</span> æ˜¯å¦å¯ç©º, col_description ( A.attrelid, A.attnum ) <span class="hljs-keyword">AS</span> æ³¨é‡Š <span class="hljs-keyword">FROM</span> pg_class <span class="hljs-keyword">AS</span> C, pg_attribute <span class="hljs-keyword">AS</span> A <span class="hljs-keyword">WHERE</span> C.relname <span class="hljs-operator">=</span> tab.&quot;tablename&quot; <span class="hljs-keyword">AND</span> A.attrelid <span class="hljs-operator">=</span> C.oid <span class="hljs-keyword">AND</span> A.attnum <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span><br>LOOP<br>RAISE notice <span class="hljs-string">&#x27;| % | % | % | % | % |&#x27;</span>, rec.&quot;åºå·&quot;, rec.&quot;å­—æ®µåç§°&quot;, rec.&quot;ç±»å‹åŠé•¿åº¦&quot;, rec.&quot;æ˜¯å¦å¯ç©º&quot;, rec.&quot;æ³¨é‡Š&quot;;<br><span class="hljs-keyword">END</span> LOOP;<br>RAISE NOTICE <span class="hljs-string">&#x27;&#x27;</span>;<br><span class="hljs-keyword">END</span> LOOP;<br><span class="hljs-keyword">END</span>;<br>$$ <span class="hljs-keyword">LANGUAGE</span> plpgsql;<br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="è¿ç»´" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="PostgreSQL" scheme="https://oujun.work/tags/PostgreSQL/"/>
    
    <category term="æ•°æ®åº“æ–‡æ¡£" scheme="https://oujun.work/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%96%87%E6%A1%A3/"/>
    
  </entry>
  
  <entry>
    <title>ElasticSearchæŸ¥è¯¢group by maxdateçš„ä¸€ä¸ªå†™æ³•</title>
    <link href="https://oujun.work/2023/02/14/ElasticSearch.01.html"/>
    <id>https://oujun.work/2023/02/14/ElasticSearch.01.html</id>
    <published>2023-02-14T02:19:02.000Z</published>
    <updated>2023-02-14T02:19:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>ElasticSearchå¦‚æœåªæ˜¯ç”¨æ¥åšæŸ¥è¯¢å½“ç„¶æ˜¯å¾ˆå¥½çš„ï¼Œä½†æ˜¯å¾€å¾€è¿˜æœ‰å¾ˆå¤šéœ€è¦ç”¨æ¥åšç»Ÿè®¡çš„åœ°æ–¹ï¼Œç„¶è€Œå¯¹äºäº†è§£ä¸æ·±çš„äººæ¥è¯´ï¼Œæœ‰äº›æŸ¥è¯¢å¾ˆéš¾å»å†™ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„ä¸€ä¸ªéœ€æ±‚æ˜¯è¿™æ ·çš„</p><table><thead><tr><th>date</th><th>exportData.äº¤æ˜“ç±»å‹</th><th>exportData.ä¸šç»©ç±»å‹.keyword</th><th>jYCode</th><th>brokerId</th><th>exportData.è®¢å•æ€»åº”æ”¶</th><th>exportData.æˆäº¤ä»·æ ¼</th><th>exportData.åˆ†è¾¹ä¸šç»©</th></tr></thead><tbody><tr><td>2022-01-02</td><td>äºŒæ‰‹</td><td>æ­£ä¸šç»©</td><td>0000001</td><td>äººå‘˜1</td><td>10086</td><td>1000000</td><td>100</td></tr><tr><td>2022-01-01</td><td>äºŒæ‰‹</td><td>æ­£ä¸šç»©</td><td>0000001</td><td>äººå‘˜1</td><td>10088</td><td>1000000</td><td>150</td></tr><tr><td>2022-01-02</td><td>äºŒæ‰‹</td><td>æ­£ä¸šç»©</td><td>0000001</td><td>äººå‘˜2</td><td>10086</td><td>1000000</td><td>8</td></tr><tr><td>2022-01-01</td><td>äºŒæ‰‹</td><td>æ­£ä¸šç»©</td><td>0000001</td><td>äººå‘˜2</td><td>10088</td><td>1000000</td><td>0.5</td></tr></tbody></table><p>ç»Ÿè®¡è¦æ±‚æ˜¯è¿™æ ·çš„ï¼Œå…ˆæŒ‰ç…§äººå‘˜ä¸ºåˆ†ç»„å•ä½ï¼Œç„¶åå°†ä¸šç»©ç´¯åŠ ï¼Œç„¶åæŒ‰ç…§æ—¶é—´å€’åºå–æœ€æ–°ä¸€æ¡çš„æ€»è®¡ï¼Œè¿™å°±æ¶‰åŠåˆ°ä¸€ä¸ªgroup by å’Œgroup by å†…éƒ¨çš„æŸ¥è¯¢ï¼Œèµ·åˆæˆ‘ç”¨äº†scripted_metricï¼Œä½†æ˜¯å½“æˆ‘å–10å¹´çš„æ•°æ®æ—¶å¦‚æœæ˜¯å•å­—æ®µè¿˜å¥½ï¼Œä½†æ˜¯éœ€æ±‚ä¸­æ¶‰åŠåˆ°20å¤šä¸ªå­—æ®µï¼Œé‚£ä¹ˆå°±æœ‰äº†æ€§èƒ½é—®é¢˜ã€‚</p><p>è€Œä¸”ç”±äºæ˜¯ ElasticSearch6.xçš„é™åˆ¶ï¼Œå¾ˆå¤š7ä»¥ä¸Šçš„æ–°APIä¹Ÿæ— æ³•ä½¿ç”¨ï¼ŒæŸ¥é˜…å¤šæ–¹èµ„æ–™åŠ ä¸ŠChatGPTè¿›è¡Œä¿®æ­£åå¾—åˆ°äº†ä¸€ä¸ªæ€§èƒ½ç›¸å¯¹å¥½ä¸€äº›çš„å†™æ³•ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><code class="hljs json">GET trans_performance_day_snapshot/_search<br><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;query&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;bool&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;must&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-punctuation">&#123;</span><br>          <span class="hljs-attr">&quot;term&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;companyId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>              <span class="hljs-attr">&quot;value&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;&quot;</span><br>            <span class="hljs-punctuation">&#125;</span><br>          <span class="hljs-punctuation">&#125;</span><br>        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-punctuation">&#123;</span><br>          <span class="hljs-attr">&quot;range&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>              <span class="hljs-attr">&quot;gte&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2000-10-01&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-attr">&quot;lte&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2077-01-01&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-attr">&quot;time_zone&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;+08:00&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-attr">&quot;format&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;yyyy-MM-dd&quot;</span><br>            <span class="hljs-punctuation">&#125;</span><br>          <span class="hljs-punctuation">&#125;</span><br>        <span class="hljs-punctuation">&#125;</span><br>      <span class="hljs-punctuation">]</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;aggs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;brokerId&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;terms&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;brokerId&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;size&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">99999</span><br>      <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;aggs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;brokerInfo&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>          <span class="hljs-attr">&quot;top_hits&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;size&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sort&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>              <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                  <span class="hljs-attr">&quot;order&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;desc&quot;</span><br>                <span class="hljs-punctuation">&#125;</span><br>              <span class="hljs-punctuation">&#125;</span><br>            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;_source&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>              <span class="hljs-string">&quot;userOrganization.brokerName&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-string">&quot;userOrganization.storeName&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-string">&quot;userOrganization.storeLeaderName&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-string">&quot;userOrganization.regionId&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-string">&quot;userOrganization.regionName&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-string">&quot;userOrganization.regionLeaderName&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-string">&quot;userOrganization.bigRegionId&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-string">&quot;userOrganization.bigRegionName&quot;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-string">&quot;userOrganization.bigRegionLeaderName&quot;</span><br>            <span class="hljs-punctuation">]</span><br>          <span class="hljs-punctuation">&#125;</span><br>        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;trade&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>          <span class="hljs-attr">&quot;terms&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;exportData.äº¤æ˜“ç±»å‹.keyword&quot;</span><br>          <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>          <span class="hljs-attr">&quot;aggs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;performanceType&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>              <span class="hljs-attr">&quot;terms&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;exportData.ä¸šç»©ç±»å‹.keyword&quot;</span><br>              <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>              <span class="hljs-attr">&quot;aggs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;performance&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                  <span class="hljs-attr">&quot;sum&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                    <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;exportData.åˆ†è¾¹ä¸šç»©&quot;</span><br>                  <span class="hljs-punctuation">&#125;</span><br>                <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;totalCount&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                  <span class="hljs-attr">&quot;cardinality&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                    <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jYCode&quot;</span><br>                  <span class="hljs-punctuation">&#125;</span><br>                <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;listingCommission&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">1</span> è¿™é‡Œï¼ŒæŒ‰ç…§è®¢å•ç¼–å·åˆ†ç»„<br>                  <span class="hljs-attr">&quot;terms&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                    <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;jYCode&quot;</span><br>                  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                  <span class="hljs-attr">&quot;aggs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                    <span class="hljs-attr">&quot;group_by_date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">2</span> åœ¨æŒ‰ç…§æ—¶é—´åˆ†ç»„<br>                      <span class="hljs-attr">&quot;terms&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                        <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;date&quot;</span><span class="hljs-punctuation">,</span><br>                        <span class="hljs-attr">&quot;order&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                          <span class="hljs-attr">&quot;max_date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;desc&quot;</span><br>                        <span class="hljs-punctuation">&#125;</span><br>                      <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                      <span class="hljs-attr">&quot;aggs&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                        <span class="hljs-attr">&quot;max_date&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">3</span> èšåˆå‡ºæœ€å¤§çš„æ—¥æœŸçš„é‚£æ¡æ•°æ®<br>                          <span class="hljs-attr">&quot;max&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                            <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;date&quot;</span><br>                          <span class="hljs-punctuation">&#125;</span><br>                        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                        <span class="hljs-attr">&quot;sum_order_receivable&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">4</span> ç´¯åŠ ï¼Œä½†æ˜¯å› ä¸ºåªæœ‰ä¸€æ¡æ•°æ®ï¼Œå…¶å®å°±æ˜¯å–å€¼<br>                          <span class="hljs-attr">&quot;sum&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                            <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;exportData.è®¢å•æ€»åº”æ”¶&quot;</span><br>                          <span class="hljs-punctuation">&#125;</span><br>                        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                        <span class="hljs-attr">&quot;sum_transaction_price&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">4</span> ç´¯åŠ ï¼Œä½†æ˜¯å› ä¸ºåªæœ‰ä¸€æ¡æ•°æ®ï¼Œå…¶å®å°±æ˜¯å–å€¼<br>                          <span class="hljs-attr">&quot;sum&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                            <span class="hljs-attr">&quot;field&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;exportData.æˆäº¤ä»·æ ¼&quot;</span><br>                          <span class="hljs-punctuation">&#125;</span><br>                        <span class="hljs-punctuation">&#125;</span><br>                      <span class="hljs-punctuation">&#125;</span><br>                    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                    <span class="hljs-attr">&quot;sum_order_receivable&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">5</span> å°†è¿™é‡Œæ˜¯ä¸ºäº†å¤–å±‚çš„ç»Ÿè®¡ï¼Œè™½ç„¶ä¹Ÿæ˜¯ç´¯åŠ ï¼Œä½†æ˜¯å–å€¼ä¾ç„¶æ˜¯è®¢å•ç¼–å·ä¸­æœ€æ–°çš„é‚£æ¡æ•°æ®çš„å€¼<br>                      <span class="hljs-attr">&quot;sum_bucket&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                        <span class="hljs-attr">&quot;buckets_path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;group_by_date&gt;sum_order_receivable&quot;</span><br>                      <span class="hljs-punctuation">&#125;</span><br>                    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                    <span class="hljs-attr">&quot;sum_transaction_price&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">5</span> å°†è¿™é‡Œæ˜¯ä¸ºäº†å¤–å±‚çš„ç»Ÿè®¡ï¼Œè™½ç„¶ä¹Ÿæ˜¯ç´¯åŠ ï¼Œä½†æ˜¯å–å€¼ä¾ç„¶æ˜¯è®¢å•ç¼–å·ä¸­æœ€æ–°çš„é‚£æ¡æ•°æ®çš„å€¼<br>                      <span class="hljs-attr">&quot;sum_bucket&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                        <span class="hljs-attr">&quot;buckets_path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;group_by_date&gt;sum_transaction_price&quot;</span><br>                      <span class="hljs-punctuation">&#125;</span><br>                    <span class="hljs-punctuation">&#125;</span><br>                  <span class="hljs-punctuation">&#125;</span><br>                <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;sum_order_receivable&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">6</span> åœ¨è¿™é‡Œï¼Œæ‰æ˜¯æ˜¯æŒ‰ç…§exportData.ä¸šç»©ç±»å‹.keyword åˆ†ç»„å  å°†æ”¹äººå‘˜æ¶‰åŠåˆ°çš„æ¯ä¸ªè®¢å•ä¸­çš„æœ€æ–°ä¸€æ¡æ•°æ®ä¸­çš„å€¼ç´¯åŠ èµ·æ¥çš„å’Œ<br>                  <span class="hljs-attr">&quot;sum_bucket&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                    <span class="hljs-attr">&quot;buckets_path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;listingCommission&gt;sum_order_receivable&quot;</span><br>                  <span class="hljs-punctuation">&#125;</span><br>                <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;sum_transaction_price&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">6</span> åœ¨è¿™é‡Œï¼Œæ‰æ˜¯æ˜¯æŒ‰ç…§exportData.ä¸šç»©ç±»å‹.keyword åˆ†ç»„å å°†æ”¹äººå‘˜æ¶‰åŠåˆ°çš„æ¯ä¸ªè®¢å•ä¸­çš„æœ€æ–°ä¸€æ¡æ•°æ®ä¸­çš„å€¼ç´¯åŠ èµ·æ¥çš„å’Œ<br>                  <span class="hljs-attr">&quot;sum_bucket&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                    <span class="hljs-attr">&quot;buckets_path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;listingCommission&gt;sum_transaction_price&quot;</span><br>                  <span class="hljs-punctuation">&#125;</span><br>                <span class="hljs-punctuation">&#125;</span><br>              <span class="hljs-punctuation">&#125;</span><br>            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sum_order_receivable&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span>  ## <span class="hljs-number">7</span> åœ¨è¿™é‡Œï¼Œæ˜¯æŒ‰ç…§exportData.äº¤æ˜“ç±»å‹.keyword åˆ†ç»„åçš„ ##<span class="hljs-number">6</span> è¿™ä¸ªæ­¥éª¤çš„å€¼çš„å’Œ<br>              <span class="hljs-attr">&quot;sum_bucket&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;buckets_path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;performanceType&gt;sum_order_receivable&quot;</span><br>              <span class="hljs-punctuation">&#125;</span><br>            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>            <span class="hljs-attr">&quot;sum_transaction_price&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> ## <span class="hljs-number">7</span> åœ¨è¿™é‡Œï¼Œæ˜¯æŒ‰ç…§exportData.äº¤æ˜“ç±»å‹.keyword åˆ†ç»„åçš„ ##<span class="hljs-number">6</span> è¿™ä¸ªæ­¥éª¤çš„å€¼çš„å’Œ<br>              <span class="hljs-attr">&quot;sum_bucket&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;buckets_path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;performanceType&gt;sum_transaction_price&quot;</span><br>              <span class="hljs-punctuation">&#125;</span><br>            <span class="hljs-punctuation">&#125;</span><br>          <span class="hljs-punctuation">&#125;</span><br>        <span class="hljs-punctuation">&#125;</span><br>      <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;size&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><br><span class="hljs-punctuation">&#125;</span><br><br></code></pre></td></tr></table></figure><p>ä¸Šé¢å†…å®¹çš„aggsä¸ä¹‹å¯¹åº”çš„C#éƒ¨åˆ†çš„ä»£ç å¦‚ä¸‹</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> Task&lt;AggregationDictionary&gt; <span class="hljs-title">GenerateAggregationDictionary</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> groupByName, Field field, <span class="hljs-built_in">int</span> skip, <span class="hljs-built_in">int</span> take</span>)</span><br>&#123;<br>    <span class="hljs-keyword">var</span> aggs = <span class="hljs-keyword">new</span> AggregationDictionary();<br>    <span class="hljs-keyword">await</span> _elastic.IndexPutAsync&lt;StringResponse&gt;(IndexTypeName.PerformanceDaySnapshot, <span class="hljs-string">&quot;_settings&quot;</span>, PostData.String(<span class="hljs-string">&quot;&#123;\&quot;index.max_result_window\&quot;:99999,\&quot;index.max_inner_result_window\&quot;:99999&#125;&quot;</span>));<br>    <span class="hljs-keyword">await</span> _elastic.IndexPutAsync&lt;StringResponse&gt;(<span class="hljs-string">&quot;/_cluster&quot;</span>, <span class="hljs-string">&quot;_settings&quot;</span>, PostData.String(<span class="hljs-string">&quot;&#123; \&quot;persistent\&quot;: &#123; \&quot;search.max_buckets\&quot;: 99999 &#125;&#125;&quot;</span>));<br>    <span class="hljs-keyword">var</span> c_group = <span class="hljs-keyword">new</span> AggregationDictionary<br>    &#123;<br>        &#123;<br>            <span class="hljs-string">&quot;brokerInfo&quot;</span>,<br>                <span class="hljs-keyword">new</span> TopHitsAggregation(<span class="hljs-string">&quot;brokerInfo&quot;</span>)<br>                &#123;<br>                    Size = <span class="hljs-number">1</span>,<br>                    Sort = <span class="hljs-keyword">new</span> List&lt;ISort&gt;<br>                    &#123;<br>                        <span class="hljs-keyword">new</span> SortField &#123; Field = Infer.Field&lt;PerformanceDaySnapshot&gt;(p =&gt; p.Date), Order = SortOrder.Descending &#125;<br>                    &#125;,<br>                    Source = <span class="hljs-keyword">new</span> SourceFilter<br>                    &#123;<br>                        Includes = <span class="hljs-keyword">new</span>[] &#123;<br>                            <span class="hljs-string">&quot;userOrganization.brokerName&quot;</span>,<br>                            <span class="hljs-string">&quot;userOrganization.storeId&quot;</span>,<br>                            <span class="hljs-string">&quot;userOrganization.storeName&quot;</span>,<br>                            <span class="hljs-string">&quot;userOrganization.storeLeaderName&quot;</span>,<br>                            <span class="hljs-string">&quot;userOrganization.regionId&quot;</span>,<br>                            <span class="hljs-string">&quot;userOrganization.regionName&quot;</span>,<br>                            <span class="hljs-string">&quot;userOrganization.regionLeaderName&quot;</span>,<br>                            <span class="hljs-string">&quot;userOrganization.bigRegionId&quot;</span>,<br>                            <span class="hljs-string">&quot;userOrganization.bigRegionName&quot;</span>,<br>                            <span class="hljs-string">&quot;userOrganization.bigRegionLeaderName&quot;</span><br>                        &#125;<br>                    &#125;<br>                &#125;<br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;trade&quot;</span>,<br>                <span class="hljs-keyword">new</span> TermsAggregation(<span class="hljs-string">&quot;trade&quot;</span>)<br>                &#123;<br>                    Field = <span class="hljs-keyword">new</span> Field(<span class="hljs-string">&quot;exportData.äº¤æ˜“ç±»å‹.keyword&quot;</span>),<br>                    Aggregations = <span class="hljs-keyword">new</span> TermsAggregation(<span class="hljs-string">&quot;performanceType&quot;</span>)<br>                    &#123;<br>                        Field = <span class="hljs-keyword">new</span> Field(<span class="hljs-string">&quot;exportData.ä¸šç»©ç±»å‹.keyword&quot;</span>),<br>                        Aggregations =<br>                            <span class="hljs-keyword">new</span> SumAggregation(<span class="hljs-string">&quot;performance&quot;</span>, <span class="hljs-keyword">new</span> Field(<span class="hljs-string">&quot;exportData.åˆ†è¾¹ä¸šç»©&quot;</span>)) &#123; Missing = <span class="hljs-number">0</span> &#125;<br>                            &amp;&amp; <span class="hljs-keyword">new</span> CardinalityAggregation(<span class="hljs-string">&quot;totalCount&quot;</span>, Infer.Field&lt;PerformanceDaySnapshot&gt;(f=&gt;f.JYCode))<br>                            &amp;&amp; <span class="hljs-keyword">new</span> TermsAggregation(<span class="hljs-string">&quot;listingCommission&quot;</span>)<br>                            &#123;<br>                                Field = Infer.Field&lt;PerformanceDaySnapshot&gt;(f=&gt;f.JYCode),<br>                                Aggregations = <span class="hljs-keyword">new</span> TermsAggregation(<span class="hljs-string">&quot;group_by_date&quot;</span>)<br>                                &#123;<br>                                    Field = Infer.Field&lt;PerformanceDaySnapshot&gt;(f=&gt;f.Date),<br>                                    Order = <span class="hljs-keyword">new</span> TermsOrder[]<br>                                    &#123;<br>                                        <span class="hljs-keyword">new</span> TermsOrder &#123; Key = <span class="hljs-string">&quot;max_date&quot;</span>, Order = SortOrder.Descending &#125;<br>                                    &#125;,<br>                                    Aggregations = <span class="hljs-keyword">new</span> MaxAggregation(<span class="hljs-string">&quot;max_date&quot;</span>, Infer.Field&lt;PerformanceDaySnapshot&gt;(f=&gt;f.Date))<br>                                                   &amp;&amp; <span class="hljs-keyword">new</span> SumAggregation(<span class="hljs-string">&quot;sum_order_receivable&quot;</span>, <span class="hljs-keyword">new</span> Field(<span class="hljs-string">&quot;exportData.è®¢å•æ€»åº”æ”¶&quot;</span>))<br>                                                   &amp;&amp; <span class="hljs-keyword">new</span> SumAggregation(<span class="hljs-string">&quot;sum_transaction_price&quot;</span>, <span class="hljs-keyword">new</span> Field(<span class="hljs-string">&quot;exportData.æˆäº¤ä»·æ ¼&quot;</span>))<br>                                &#125;<br>                                &amp;&amp; <span class="hljs-keyword">new</span> SumBucketAggregation(<span class="hljs-string">&quot;sum_order_receivable&quot;</span>, <span class="hljs-keyword">new</span> SingleBucketsPath(<span class="hljs-string">&quot;group_by_date&gt;sum_order_receivable&quot;</span>))<br>                                &amp;&amp; <span class="hljs-keyword">new</span> SumBucketAggregation(<span class="hljs-string">&quot;sum_transaction_price&quot;</span>, <span class="hljs-keyword">new</span> SingleBucketsPath(<span class="hljs-string">&quot;group_by_date&gt;sum_transaction_price&quot;</span>))<br>                            &#125;<br>                            &amp;&amp; <span class="hljs-keyword">new</span> SumBucketAggregation(<span class="hljs-string">&quot;commission&quot;</span>, <span class="hljs-keyword">new</span> SingleBucketsPath(<span class="hljs-string">&quot;listingCommission&gt;sum_order_receivable&quot;</span>))<br>                            &amp;&amp; <span class="hljs-keyword">new</span> SumBucketAggregation(<span class="hljs-string">&quot;transactionPrice&quot;</span>, <span class="hljs-keyword">new</span> SingleBucketsPath(<span class="hljs-string">&quot;listingCommission&gt;sum_transaction_price&quot;</span>))<br>                    &#125;<br>                &#125;<br>        &#125;,<br>        &#123;<br>            <span class="hljs-string">&quot;c_bucket_sort&quot;</span>,<br>            <span class="hljs-keyword">new</span> BucketSortAggregation(<span class="hljs-string">&quot;c_bucket_sort&quot;</span>)<br>            &#123;<br>                From = skip, <span class="hljs-comment">//åˆ†é¡µskip</span><br>                Size = take  <span class="hljs-comment">//åˆ†é¡µtake</span><br>            &#125;<br>        &#125;<br>    &#125;;<br><br>    aggs.Add(<span class="hljs-string">&quot;item_count&quot;</span>, <span class="hljs-keyword">new</span> CardinalityAggregation(<span class="hljs-string">&quot;item_count&quot;</span>, <span class="hljs-keyword">new</span> Field(groupByName))); <span class="hljs-comment">//group by ä¸­çš„totalCount</span><br>    aggs.Add(groupByName, <span class="hljs-keyword">new</span> TermsAggregation(groupByName)<br>    &#123;<br>        Field = field,<span class="hljs-comment">//group by çš„åˆ—</span><br>        Size = <span class="hljs-number">10000</span>,<br>        Aggregations = c_group<br>    &#125;);<br>    <span class="hljs-keyword">return</span> aggs;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ElasticSearchå¦‚æœåªæ˜¯ç”¨æ¥åšæŸ¥è¯¢å½“ç„¶æ˜¯å¾ˆå¥½çš„ï¼Œä½†æ˜¯å¾€å¾€è¿˜æœ‰å¾ˆå¤šéœ€è¦ç”¨æ¥åšç»Ÿè®¡çš„åœ°æ–¹ï¼Œç„¶è€Œå¯¹äºäº†è§£ä¸æ·±çš„äººæ¥è¯´ï¼Œæœ‰äº›æŸ¥è¯¢å¾ˆéš¾å»å†™ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„ä¸€ä¸ªéœ€æ±‚æ˜¯è¿™æ ·çš„&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;date&lt;/th&gt;
&lt;th&gt;exportData</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term=".Net" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/Net/"/>
    
    <category term="å°æŠ€å·§" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/Net/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
    <category term="ElasticSearch" scheme="https://oujun.work/tags/ElasticSearch/"/>
    
    <category term="èšåˆæ¡¶" scheme="https://oujun.work/tags/%E8%81%9A%E5%90%88%E6%A1%B6/"/>
    
  </entry>
  
  <entry>
    <title>Freenowç”³è¯·çš„åŸŸåç”³è¯·letsencryptè¯ä¹¦çš„æ–¹æ³•</title>
    <link href="https://oujun.work/2022/12/23/freenom-and-letsencrypt.html"/>
    <id>https://oujun.work/2022/12/23/freenom-and-letsencrypt.html</id>
    <published>2022-12-23T06:24:02.000Z</published>
    <updated>2022-12-29T03:07:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>freenowç”³è¯·çš„åŸŸåï¼Œç›´æ¥ä½¿ç”¨è¿›è¡Œ<code>cloudflare</code>è§£ææ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ç”³è¯·è¯ä¹¦çš„æ—¶å€™å´æ— æ³•ç›´æ¥ä½¿ç”¨<code>certbot/dns-cloudflare</code>é€‰æ‹©dnsçš„æ–¹å¼ç›´æ¥é€šè¿‡apiç”³è¯·å’Œç»­æœŸã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs log">Saving debug log to /var/log/letsencrypt/letsencrypt.log<br><br>How would you like to authenticate with the ACME CA?<br>- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -<br>1: Obtain certificates using a DNS TXT record (if you are using Cloudflare for<br>DNS). (dns-cloudflare)<br>2: Spin up a temporary webserver (standalone)<br>3: Place files in webroot directory (webroot)<br>- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -<br>Select the appropriate number [1-3] then [enter] (press &#x27;c&#x27; to cancel): 1<br>Requesting a certificate for *.****.**<br>Encountered CloudFlareAPIError adding TXT record: 1038 You cannot use this API for domains with a .cf, .ga, .gq, .ml, or .tk TLD (top-level domain). To configure the DNS settings for this domain, use the Cloudflare Dashboard.<br>Error communicating with the Cloudflare API: You cannot use this API for domains with a .cf, .ga, .gq, .ml, or .tk TLD (top-level domain). To configure the DNS settings for this domain, use the Cloudflare Dashboard.<br>Ask for help or search for solutions at https://community.letsencrypt.org. See the logfile /var/log/letsencrypt/letsencrypt.log or re-run Certbot with -v for more details.<br></code></pre></td></tr></table></figure><p>åªèƒ½é€šè¿‡æ‰‹åŠ¨æ·»åŠ txtè§£æè®°å½•çš„æ–¹å¼è¿›è¡Œè¯ä¹¦ç”³è¯·ã€‚</p><p>æˆ‘é€‰æ‹©äº†ä½¿ç”¨acmeçš„ç”³è¯·æ–¹å¼è¿›è¡Œç”³è¯·ï¼Œä½†æ˜¯ä¾ç„¶æ— æ³•åšåˆ°å…¨è‡ªåŠ¨ï¼Œå› ä¸ºä¸Šé¢æåˆ°äº†ï¼Œcloudflareçš„apiä¸èƒ½å¯¹<code>.cf, .ga, .gq, .ml, or .tk TLD (top-level domain).</code>é¡¶çº§åŸŸåè¿›è¡Œapiç”³è¯·ã€‚</p><p>ç”±äºä¸å–œæ¬¢åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…ä¸œè¥¿ï¼Œæ‰€ä»¥è¿˜æ˜¯é‡‡ç”¨dockerçš„æ–¹å¼ã€‚</p><h1 id="ç¬¬ä¸€æ­¥ï¼šç¼–å†™docker-compose-yml"><a href="#ç¬¬ä¸€æ­¥ï¼šç¼–å†™docker-compose-yml" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šç¼–å†™docker-compose.yml"></a>ç¬¬ä¸€æ­¥ï¼šç¼–å†™docker-compose.yml</h1><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">version:</span> <span class="hljs-string">&quot;3&quot;</span><br><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">nginx:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">nginx:alpine</span><br>    <span class="hljs-attr">container_name:</span> <span class="hljs-string">nginx</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">TZ=Asia/Shanghai</span><br>    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;443:443&quot;</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">./config/nginx/nginx/nginx.conf:/etc/nginx/nginx.conf:ro</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">./config/nginx/nginx/conf.d:/etc/nginx/conf.d</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">./config/nginx/www/html:/usr/share/nginx/html</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">./letsencrypt/etc/:/etc/letsencrypt/</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">/dev/shm/:/dev/shm/</span><br>  <span class="hljs-attr">acme.sh:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">neilpang/acme.sh:latest</span><br>    <span class="hljs-attr">container_name:</span> <span class="hljs-string">acme.sh</span><br>    <span class="hljs-attr">command:</span> <span class="hljs-string">daemon</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">./acmeout:/acme.sh</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">./config/nginx/www/html:/www</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">./letsencrypt/etc/live:/letsencrypt</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">/var/run/docker.sock:/var/run/docker.sock</span><br></code></pre></td></tr></table></figure><p><code>nginx</code>å®¹å™¨æŒ‚è½½çš„è§£é‡Šï¼š</p><ul><li><code>./config/nginx/nginx/nginx.conf:/etc/nginx/nginx.conf:ro</code> æ˜¯é»˜è®¤çš„<code>nginx.conf</code>æ–‡ä»¶çš„æ˜ å°„</li><li><code>./config/nginx/nginx/conf.d:/etc/nginx/conf.d</code> æ˜¯ç½‘ç«™é…ç½®æ–‡ä»¶çš„è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯nginx.conf ä¸­includeéƒ¨åˆ†çš„è·¯å¾„</li><li><code>./config/nginx/www/html:/usr/share/nginx/html</code> é»˜è®¤çš„ç½‘é¡µæ–‡ä»¶å­˜æ”¾è·¯å¾„</li><li><code>./letsencrypt/etc/:/etc/letsencrypt/</code> è¯ä¹¦å­˜æ”¾è·¯å¾„</li></ul><p><code> acme.sh</code>å®¹å™¨æŒ‚è½½çš„è§£é‡Šï¼š</p><ul><li><code>./acmeout:/acme.sh</code> acme.sh æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„</li><li><code>./config/nginx/www/html:/www</code> nginxä¸­ç½‘é¡µæ–‡ä»¶çš„è·¯å¾„ï¼Œç”³è¯·è¯ä¹¦æ—¶ä½¿ç”¨<code>--webroot</code>æ–¹ä¾¿</li><li><code>- ./letsencrypt/etc/live:/letsencrypt</code> è¯ä¹¦è·¯å¾„ï¼Œæ–¹ä¾¿å­˜æ”¾</li></ul><h1 id="ç¬¬äºŒæ­¥ï¼šå¯åŠ¨å®¹å™¨"><a href="#ç¬¬äºŒæ­¥ï¼šå¯åŠ¨å®¹å™¨" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šå¯åŠ¨å®¹å™¨"></a>ç¬¬äºŒæ­¥ï¼šå¯åŠ¨å®¹å™¨</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker-compose up -d<br>docker exec acme.sh --set-default-ca --server letsencrypt<br></code></pre></td></tr></table></figure><h1 id="ç¬¬ä¸‰æ­¥ï¼šç”³è¯·è¯ä¹¦"><a href="#ç¬¬ä¸‰æ­¥ï¼šç”³è¯·è¯ä¹¦" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šç”³è¯·è¯ä¹¦"></a>ç¬¬ä¸‰æ­¥ï¼šç”³è¯·è¯ä¹¦</h1><p>ç”±äºacme.shä¸ä¼šè‡ªåŠ¨åˆ›å»ºè·¯å¾„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ç”³è¯·è¯ä¹¦å‰éœ€è¦æ‰‹åŠ¨åˆ›å»ºè·¯å¾„</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">mkdir -p ./letsencrypt/etc/live/google.åŸŸå<br></code></pre></td></tr></table></figure><p>ç„¶åå†ç”³è¯·è¯ä¹¦</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker exec acme.sh --issue -d google.åŸŸå --standalone /www --key-file /letsencrypt/google.åŸŸå/privkey.pem --fullchain-file /letsencrypt/google.åŸŸå/fullchain.pem --keylength 4096<br></code></pre></td></tr></table></figure><p>ä¸ºäº†æ–¹ä¾¿ç”³è¯·ï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªè„šæœ¬æ¥æ‰§è¡Œä¸Šé¢çš„ä¸¤ä¸ªæ­¥éª¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">mkdir -p ./letsencrypt/etc/live/$1<br>docker exec acme.sh --issue -d $1 --standalone /www --key-file /letsencrypt/$1/privkey.pem --fullchain-file /letsencrypt/$1/fullchain.pem --keylength 4096<br></code></pre></td></tr></table></figure><p>ä¿å­˜ä¸º<code>regssl.sh</code>,æˆ‘ä»¬å†ä½¿ç”¨çš„æ—¶å€™å°±å¯ä»¥<code>bash regssl.sh google.åŸŸå</code>çš„æ–¹å¼ä½¿ç”¨äº†ã€‚<br>[update] è¿™é‡Œç”³è¯·æ–¹å¼ç”¨webrootä¿®æ”¹ä¸ºstandaloneï¼Œæˆ‘æŠŠnginxçš„80ç«¯å£æ˜ å°„å»æ‰äº†ï¼Œæˆ‘çš„nginxåªå¼€æ”¾443ç«¯å£ï¼Œä»è€ŒæŠŠ80ç«¯å£ç•™ç»™acmeæ¥ä¸“é—¨ç”³è¯·è¯ä¹¦ä½¿ç”¨ã€‚</p><h1 id="ç¬¬å››æ­¥ï¼šç¼–å†™ç½‘ç«™çš„confæ–‡ä»¶"><a href="#ç¬¬å››æ­¥ï¼šç¼–å†™ç½‘ç«™çš„confæ–‡ä»¶" class="headerlink" title="ç¬¬å››æ­¥ï¼šç¼–å†™ç½‘ç«™çš„confæ–‡ä»¶"></a>ç¬¬å››æ­¥ï¼šç¼–å†™ç½‘ç«™çš„confæ–‡ä»¶</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs conf">server &#123;<br>    server_name google.åŸŸå;<br>    listen 443 ssl http2;<br>    ssl_certificate /etc/letsencrypt/live/google.åŸŸå/fullchain.pem; <br>    ssl_certificate_key /etc/letsencrypt/live/google.åŸŸå/privkey.pem; <br>    location / &#123;<br>        proxy_pass https://www.google.com;<br>        proxy_redirect https://www.google.com https://google.åŸŸå;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç„¶åé‡å¯nginx</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">docker restart nginx<br></code></pre></td></tr></table></figure><h1 id="ç¬¬äº”æ­¥ï¼šè®¾ç½®è‡ªåŠ¨æ›´æ–°è¯ä¹¦"><a href="#ç¬¬äº”æ­¥ï¼šè®¾ç½®è‡ªåŠ¨æ›´æ–°è¯ä¹¦" class="headerlink" title="ç¬¬äº”æ­¥ï¼šè®¾ç½®è‡ªåŠ¨æ›´æ–°è¯ä¹¦"></a>ç¬¬äº”æ­¥ï¼šè®¾ç½®è‡ªåŠ¨æ›´æ–°è¯ä¹¦</h1><p><code>crontab -e</code><br>æ·»åŠ å¦‚ä¸‹å†…å®¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cron">44 0 * * * docker exec acme.sh --cron<br></code></pre></td></tr></table></figure><h1 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h1><p>ä¸èƒ½ç”³è¯·æ³›åŸŸåè¯ä¹¦</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;freenowç”³è¯·çš„åŸŸåï¼Œç›´æ¥ä½¿ç”¨è¿›è¡Œ&lt;code&gt;cloudflare&lt;/code&gt;è§£ææ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ç”³è¯·è¯ä¹¦çš„æ—¶å€™å´æ— æ³•ç›´æ¥ä½¿ç”¨&lt;code&gt;certbot/dns-cloudflare&lt;/code&gt;é€‰æ‹©dnsçš„æ–¹å¼ç›´æ¥é€šè¿‡apiç”³è¯·å’Œç»­æœŸã€‚&lt;/p&gt;
&lt;figure cla</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="è¿ç»´" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="Freenom" scheme="https://oujun.work/tags/Freenom/"/>
    
    <category term="SSLè¯ä¹¦" scheme="https://oujun.work/tags/SSL%E8%AF%81%E4%B9%A6/"/>
    
    <category term="letsencrypt" scheme="https://oujun.work/tags/letsencrypt/"/>
    
    <category term="å…è´¹é¡¶çº§åŸŸå" scheme="https://oujun.work/tags/%E5%85%8D%E8%B4%B9%E9%A1%B6%E7%BA%A7%E5%9F%9F%E5%90%8D/"/>
    
  </entry>
  
  <entry>
    <title>C# é—ä¼ ç®—æ³•ï¼šæ–‡å­—åŒ¹é…</title>
    <link href="https://oujun.work/2022/12/06/WordMatchGeneticAlgorithm.html"/>
    <id>https://oujun.work/2022/12/06/WordMatchGeneticAlgorithm.html</id>
    <published>2022-12-06T06:06:02.000Z</published>
    <updated>2022-12-06T06:52:45.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="é—ä¼ ç®—æ³•"><a href="#é—ä¼ ç®—æ³•" class="headerlink" title="é—ä¼ ç®—æ³•"></a>é—ä¼ ç®—æ³•</h1><blockquote><p>é—ä¼ ç®—æ³•ï¼ˆGenetic Algorithmï¼ŒGAï¼‰æœ€æ—©æ˜¯ç”±ç¾å›½çš„ John hollandäº20ä¸–çºª70å¹´ä»£æå‡º,è¯¥ç®—æ³•æ˜¯æ ¹æ®å¤§è‡ªç„¶ä¸­ç”Ÿç‰©ä½“è¿›åŒ–è§„å¾‹è€Œè®¾è®¡æå‡ºçš„ã€‚æ˜¯æ¨¡æ‹Ÿè¾¾å°”æ–‡ç”Ÿç‰©è¿›åŒ–è®ºçš„è‡ªç„¶é€‰æ‹©å’Œé—ä¼ å­¦æœºç†çš„ç”Ÿç‰©è¿›åŒ–è¿‡ç¨‹çš„è®¡ç®—æ¨¡å‹ï¼Œæ˜¯ä¸€ç§é€šè¿‡æ¨¡æ‹Ÿè‡ªç„¶è¿›åŒ–è¿‡ç¨‹æœç´¢æœ€ä¼˜è§£çš„æ–¹æ³•ã€‚è¯¥ç®—æ³•é€šè¿‡æ•°å­¦çš„æ–¹å¼,åˆ©ç”¨è®¡ç®—æœºä»¿çœŸè¿ç®—,å°†é—®é¢˜çš„æ±‚è§£è¿‡ç¨‹è½¬æ¢æˆç±»ä¼¼ç”Ÿç‰©è¿›åŒ–ä¸­çš„æŸ“è‰²ä½“åŸºå› çš„äº¤å‰ã€å˜å¼‚ç­‰è¿‡ç¨‹ã€‚åœ¨æ±‚è§£è¾ƒä¸ºå¤æ‚çš„ç»„åˆä¼˜åŒ–é—®é¢˜æ—¶,ç›¸å¯¹ä¸€äº›å¸¸è§„çš„ä¼˜åŒ–ç®—æ³•,é€šå¸¸èƒ½å¤Ÿè¾ƒå¿«åœ°è·å¾—è¾ƒå¥½çš„ä¼˜åŒ–ç»“æœã€‚é—ä¼ ç®—æ³•å·²è¢«äººä»¬å¹¿æ³›åœ°åº”ç”¨äºç»„åˆä¼˜åŒ–ã€æœºå™¨å­¦ä¹ ã€ä¿¡å·å¤„ç†ã€è‡ªé€‚åº”æ§åˆ¶å’Œäººå·¥ç”Ÿå‘½ç­‰é¢†åŸŸã€‚</p><p>â€”â€”â€”â€”æ‘˜è‡ªã€Š<a href="https://baike.baidu.com/item/%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/838140">ç™¾åº¦ç™¾ç§‘</a>ã€‹</p></blockquote><p>æœ‰ä¸€ä¸ªæœ‰è¶£çš„å°è¶£é—»ï¼Œä¸€åªçŒ´å­åœ¨æ‰“å­—æœºä¸Šä¹±æ•²ï¼Œå¦‚æœå¯ä»¥æ—¶é—´æ— é™ï¼Œé‚£ä¹ˆä»–å¯èƒ½åœ¨æŸä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œæ•²å‡ºæ¥ä¸€å¥—å®Œæ•´çš„ã€Šèå£«æ¯”äºšã€‹å…¨é›†ï¼ŒçŒ´å­æ•²é”®ç›˜æœ‰éšæœºæ€§çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¢åŠ çŒ´å­çš„æ•°é‡ï¼Œå°±æœ‰å¯èƒ½ç¼©çŸ­æ—¶é—´ã€‚</p><p>æˆ‘ä»¬ä¸éœ€è¦ä¸€å¥—å®Œæ•´çš„ã€Šèå£«æ¯”äºšã€‹ï¼Œä½¿ç”¨ç¼–ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªç®€å•çš„å¥å­æ¥æ¨¡æ‹Ÿè¿™ä¸ªå®éªŒã€‚</p><h1 id="é—ä¼ ç®—æ³•çš„æ­¥éª¤"><a href="#é—ä¼ ç®—æ³•çš„æ­¥éª¤" class="headerlink" title="é—ä¼ ç®—æ³•çš„æ­¥éª¤"></a>é—ä¼ ç®—æ³•çš„æ­¥éª¤</h1><pre><code class=" mermaid">flowchart TD  A[ç¼–ç ] --&gt; B[åˆå§‹åŒ–ç§ç¾¤]  B --&gt; C[è¯„ä¼°ç§ç¾¤ä¸­çš„ä¸ªä½“é€‚åº”åº¦]  C --&gt; D[é€‰æ‹©ä¼˜ç§€ä¸ªä½“]  D --&gt; E[æ‚äº¤]  E --&gt; F[å˜å¼‚]  F --&gt; G&#123;ç§ç¾¤ä¸­çš„æœ€ä¼˜ä¸ªä½“&#125;  G -- ä¸åŒ¹é… --&gt;C  G -- å®Œå…¨åŒ¹é… --&gt;Q[ç»“æŸ]</code></pre><h1 id="åˆ›é€ çŒ´å­"><a href="#åˆ›é€ çŒ´å­" class="headerlink" title="åˆ›é€ çŒ´å­"></a>åˆ›é€ çŒ´å­</h1><p>ç§ç¾¤ä¸­çš„æ¯ä¸€ä¸ªä¸ªä½“éƒ½æ˜¯ä¸€ä¸ªçŒ´å­ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯ä¸€ä¸ªæŸ“è‰²ä½“ï¼ŒæŸ“è‰²ä½“ä¸­çš„åŸºå› ç‰‡æ®µå°±æ˜¯çŒ´å­æ•²å‡ºæ¥çš„éšæœºå­—ç¬¦ï¼Œæˆ‘ä»¬ç»™å®šäº†åŸºå› ç‰‡æ®µçš„é•¿åº¦ï¼Œè®©çŒ´å­æ¯æ¬¡åªèƒ½æ•²å‡ºè¿™äº›å­—ç¬¦ï¼Œç®—å‡ºé€‚åº”åº¦ï¼Œä¹Ÿå°±æ˜¯åŒ¹é…åº¦ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">namespace</span> <span class="hljs-title">GAConsoleApp</span>;<br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> æŸ“è‰²ä½“ï¼ˆçŒ´å­ï¼‰</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Chromosome</span><br>&#123;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> åŸºå› ç‰‡æ®µ</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">char</span>[] Genes &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> é€‚åº”åº¦</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> Fitness &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> </span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;length&quot;&gt;</span>åŸºå› é•¿åº¦<span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Chromosome</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> length</span>)</span><br>    &#123;<br>        Genes = <span class="hljs-keyword">new</span> <span class="hljs-built_in">char</span>[length];<br>    &#125;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> </span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;target&quot;&gt;</span><span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CalcFitness</span>(<span class="hljs-params">Func&lt;Chromosome, <span class="hljs-built_in">double</span>&gt; action</span>)</span><br>    &#123;<br>        Fitness = action.Invoke(<span class="hljs-keyword">this</span>);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h1 id="åˆå§‹åŒ–ç§ç¾¤"><a href="#åˆå§‹åŒ–ç§ç¾¤" class="headerlink" title="åˆå§‹åŒ–ç§ç¾¤"></a>åˆå§‹åŒ–ç§ç¾¤</h1><p>ç§ç¾¤æ•°é‡ï¼Œä¹Ÿå°±æ˜¯è¦æœ‰å¤šå°‘åªçŒ´å­ï¼Œç§ç¾¤ï¼Œå°±æ˜¯æŠŠè¿™äº›çŒ´å­éƒ½é›†ä¸­åˆ°ä¸€èµ·ï¼Œç„¶åæŠŠç§ç¾¤è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆ›å»ºå‡ºä¸€å®šæ•°é‡çš„çŒ´å­ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> ç§ç¾¤æ•°é‡</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">int</span> _populationSize;<br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> ç§ç¾¤</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">public</span> List&lt;Chromosome&gt; Population &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> DNAé•¿åº¦</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">int</span> _dnaSize;<br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> ä»åŒ¹é…åº¦ä¸­é€‰ä¸­åŒ¹é…åº¦æœ€é«˜çš„å¤šå°‘ä¸ªä½œä¸ºä¸‹ä¸€ä»£çš„çˆ¶æ¯</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">int</span> _selectionCount;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> Random random;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">char</span>[] _target;<br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> æ–‡å­—åŒ¹é…é—ä¼ ç®—æ³•</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;populationSize&quot;&gt;</span>ç§ç¾¤æ•°é‡ï¼Œè¶Šå¤šåŒ¹é…å‡ºçš„è¶Šå¿«ï¼ˆäººå¤šåŠ›é‡å¤§ï¼‰ï¼Œä½†æ˜¯é€Ÿåº¦è¶Šæ…¢ï¼ˆäººå¤šä¸å¥½ç»Ÿè®¡ï¼‰<span class="hljs-doctag">&lt;/param&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;target&quot;&gt;</span>è¦åŒ¹é…å‡ºçš„ç›®æ ‡å­—ç¬¦ä¸²<span class="hljs-doctag">&lt;/param&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;selectionCount&quot;&gt;</span>æ¯æ¬¡è¿›åŒ–é€‰å‡ºå¤šå°‘ä¸ªä½œä¸ºçˆ¶æ¯ç§ç¾¤<span class="hljs-doctag">&lt;/param&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">WordMatchGeneticAlgorithm</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> populationSize, <span class="hljs-built_in">string</span> target, <span class="hljs-built_in">int</span> selectionCount = <span class="hljs-number">50</span></span>)</span><br>&#123;<br>    _populationSize = populationSize;<br>    Population = <span class="hljs-keyword">new</span> List&lt;Chromosome&gt;();<br>    _dnaSize = target.Length;<br>    _target = target.ToArray();<br>    random = <span class="hljs-keyword">new</span> Random();<br>    _selectionCount = selectionCount;<br>    InitialPopulation();<br>&#125;<br><br><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> ç§ç¾¤åˆå§‹åŒ–</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">InitialPopulation</span>()</span><br>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; _populationSize; i++)<br>        Population.Add(<span class="hljs-keyword">new</span> Chromosome(_dnaSize)<br>        &#123;<br>            Genes = Enumerable.Range(<span class="hljs-number">0</span>, _dnaSize).Select((t, i) =&gt; Gene).ToArray()<br>        &#125;);<br>&#125;<br><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> åŸºå› </span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">private</span> <span class="hljs-built_in">char</span> Gene =&gt; (<span class="hljs-built_in">char</span>)random.Next(<span class="hljs-number">32</span>, <span class="hljs-number">127</span>);<br></code></pre></td></tr></table></figure><h1 id="è¯„ä¼°é€‚åº”åº¦"><a href="#è¯„ä¼°é€‚åº”åº¦" class="headerlink" title="è¯„ä¼°é€‚åº”åº¦"></a>è¯„ä¼°é€‚åº”åº¦</h1><p>æ–‡å­—åŒ¹é…æ˜¯é—ä¼ ç®—æ³•ä¸­æˆ‘ä¸ªäººè®¤ä¸ºæœ€ç®€å•çš„ä¸€ç§äº†ï¼Œé€‚åº”åº¦åŒ¹é…ä¹Ÿå°±æ˜¯è®©åŸºå› ç‰‡æ®µä¸æˆ‘ä»¬çš„ç›®æ ‡ç‰‡æ®µæ¯ä¸€ä¸ªä½ç½®éƒ½èƒ½å¯¹åº”ä¸Šï¼Œå¯¹åº”ä¸Šçš„æ•°é‡è¶Šå¤šï¼ŒåŒ¹é…åº¦å°±è¶Šé«˜ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> è®¡ç®—åŒ¹é…åº¦</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Chromosome&gt; <span class="hljs-title">Fitness</span>()</span><br>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; _populationSize; i++)<br>        Population[i].CalcFitness(t =&gt; t.Genes.Select((d, idx) =&gt; d == _target[idx]).Where(t =&gt; t).Count());<br>    <span class="hljs-keyword">return</span> Population;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="é€‰æ‹©"><a href="#é€‰æ‹©" class="headerlink" title="é€‰æ‹©"></a>é€‰æ‹©</h1><p> é€‰å‡ºåŒ¹é…åº¦æœ€é«˜çš„Nä¸ªä¸ªä½“ä½œä¸ºæ¥ä¸‹æ¥äº¤å‰ä½¿ç”¨çš„ç¾¤ä½“ã€‚ä¹Ÿå°±æ˜¯é€‰å‡ºçŒ´å­æ•²å‡ºæ¥çš„å­—ç¬¦é‡Œé¢ä¸ç›®æ ‡æœ€æ¥è¿‘çš„ä¸ªä½“ã€‚</p> <figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> é€‰æ‹©æœ€ä¼˜ç§ç¾¤</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Chromosome&gt; <span class="hljs-title">Selection</span>()</span><br>&#123;<br>    <span class="hljs-keyword">return</span> Fitness().OrderByDescending(t =&gt; t.Fitness).Skip(<span class="hljs-number">0</span>).Take(_selectionCount).ToList();<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="äº¤å‰"><a href="#äº¤å‰" class="headerlink" title="äº¤å‰"></a>äº¤å‰</h1><p>è¿™é‡Œé‡‡ç”¨çš„æ˜¯éšæœºå–åŸºå› ä¸­çš„æŸä¸ªç‰‡æ®µè¿›è¡Œäº¤å‰ç”Ÿæˆä¸€ä¸ªæ–°çš„ä¸ªä½“ï¼Œæ³¨é‡Šçš„éƒ¨åˆ†æ˜¯æœ‰äº›ç®—æ³•ä¸­å¸¦æœ‰è¿™ä¸ªäº¤å‰æ¦‚ç‡ï¼Œæ¨¡æ‹Ÿæ›´çœŸå®çš„è¿›åŒ–ã€‚æ‰€ä½œçš„å°±æ˜¯æŠŠçŒ´å­æ•²å‡ºæ¥çš„æœ€å¥½çš„ä¸ªä½“ä¸­éšæœºå–å‡ºä¸¤ä¸ªï¼ŒæŠŠä»–ä»¬ä¸­é—´çš„ä¸€äº›å­—ç¬¦å¯¹è°ƒæˆä¸€ä¸ªæ–°çš„å†…å®¹ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> éšæœºäº¤å‰ï¼ˆæ‚äº¤ï¼‰</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;parents&quot;&gt;</span>ç­›é€‰å‡ºçš„æœ€ä¼˜ç§ç¾¤<span class="hljs-doctag">&lt;/param&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Chromosome&gt; <span class="hljs-title">CrossOver</span>(<span class="hljs-params">List&lt;Chromosome&gt; parents</span>)</span><br>&#123;<br>    List&lt;Chromosome&gt; children = <span class="hljs-keyword">new</span>();<br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> k = <span class="hljs-number">0</span>; k &lt; _populationSize; k++)<br>    &#123;<br>        <span class="hljs-comment">//if (random.NextDouble() &lt; 0.04) //äº¤å‰æ¦‚ç‡</span><br>        <span class="hljs-comment">//&#123;</span><br>        Chromosome f = parents[random.Next(_selectionCount)];<br>        Chromosome m = parents[random.Next(_selectionCount)];<br><br>        Chromosome newChild = <span class="hljs-keyword">new</span>(_dnaSize);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; _dnaSize; i++)<br>            newChild.Genes[i] = random.Next(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>) == <span class="hljs-number">1</span> ? f.Genes[i] : m.Genes[i];<br>        children.Add(newChild);<br>        <span class="hljs-comment">//&#125;</span><br>        <span class="hljs-comment">//else</span><br>        <span class="hljs-comment">//&#123;</span><br>        <span class="hljs-comment">//    children.Add(Population[k]);</span><br>        <span class="hljs-comment">//&#125;</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> children;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="å˜å¼‚"><a href="#å˜å¼‚" class="headerlink" title="å˜å¼‚"></a>å˜å¼‚</h1><p>æˆ‘ä»¬äººä¸ºçš„æŠŠçŒ´å­æ•²å‡ºçš„å­—ç¬¦ä¸­çš„æŸä¸€ä¸ªæ¢æˆä¸€ä¸ªæ–°çš„éšæœºå­—ç¬¦ï¼Œè®©å®ƒæœ‰å‡ ç‡æ›´æ¥è¿‘æˆ‘ä»¬çš„ç›®æ ‡ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> å˜å¼‚</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;children&quot;&gt;</span>æ‚äº¤åçš„æ–°ç§ç¾¤<span class="hljs-doctag">&lt;/param&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Chromosome&gt; <span class="hljs-title">Mutation</span>(<span class="hljs-params">List&lt;Chromosome&gt; children</span>)</span><br>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; children.Count; i++)<br>        <span class="hljs-keyword">if</span> (random.NextDouble() &lt;= <span class="hljs-number">0.1</span>)<br>            children[i].Genes[random.Next(_dnaSize)] = Gene;<br>    <span class="hljs-keyword">return</span> children;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="è¿›åŒ–è¿‡ç¨‹"><a href="#è¿›åŒ–è¿‡ç¨‹" class="headerlink" title="è¿›åŒ–è¿‡ç¨‹"></a>è¿›åŒ–è¿‡ç¨‹</h1><p>è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯ï¼Œé€‰æ‹©-&gt;äº¤å‰-&gt;å˜å¼‚ã€‚ä¸æ–­çš„é‡å¤ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> è¿›åŒ–</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Evolve</span>()</span><br>&#123;<br>    <span class="hljs-keyword">var</span> parents = Selection();<br>    <span class="hljs-keyword">var</span> children = CrossOver(parents);<br>    Population = Mutation(children);<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="å®Œæ•´çš„ä»£ç "><a href="#å®Œæ•´çš„ä»£ç " class="headerlink" title="å®Œæ•´çš„ä»£ç "></a>å®Œæ•´çš„ä»£ç </h1><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> æ–‡å­—åŒ¹é…é—ä¼ ç®—æ³•</span><br><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">WordMatchGeneticAlgorithm</span><br>&#123;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> ç§ç¾¤æ•°é‡</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">int</span> _populationSize;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> ç§ç¾¤</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">public</span> List&lt;Chromosome&gt; Population &#123; <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; &#125;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> DNAé•¿åº¦</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">int</span> _dnaSize;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> ä»åŒ¹é…åº¦ä¸­é€‰ä¸­åŒ¹é…åº¦æœ€é«˜çš„å¤šå°‘ä¸ªä½œä¸ºä¸‹ä¸€ä»£çš„çˆ¶æ¯</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">int</span> _selectionCount;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> Random random;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">char</span>[] _target;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> æ–‡å­—åŒ¹é…é—ä¼ ç®—æ³•</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;populationSize&quot;&gt;</span>ç§ç¾¤æ•°é‡ï¼Œè¶Šå¤šåŒ¹é…å‡ºçš„è¶Šå¿«ï¼ˆäººå¤šåŠ›é‡å¤§ï¼‰ï¼Œä½†æ˜¯é€Ÿåº¦è¶Šæ…¢ï¼ˆäººå¤šä¸å¥½ç»Ÿè®¡ï¼‰<span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;target&quot;&gt;</span>è¦åŒ¹é…å‡ºçš„ç›®æ ‡å­—ç¬¦ä¸²<span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;selectionCount&quot;&gt;</span>æ¯æ¬¡è¿›åŒ–é€‰å‡ºå¤šå°‘ä¸ªä½œä¸ºçˆ¶æ¯ç§ç¾¤<span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">WordMatchGeneticAlgorithm</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> populationSize, <span class="hljs-built_in">string</span> target, <span class="hljs-built_in">int</span> selectionCount = <span class="hljs-number">50</span></span>)</span><br>    &#123;<br>        _populationSize = populationSize;<br>        Population = <span class="hljs-keyword">new</span> List&lt;Chromosome&gt;();<br>        _dnaSize = target.Length;<br>        _target = target.ToArray();<br>        random = <span class="hljs-keyword">new</span> Random();<br>        _selectionCount = selectionCount;<br>        InitialPopulation();<br>    &#125;<br><br><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> ç§ç¾¤åˆå§‹åŒ–</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">InitialPopulation</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; _populationSize; i++)<br>            Population.Add(<span class="hljs-keyword">new</span> Chromosome(_dnaSize)<br>            &#123;<br>                Genes = Enumerable.Range(<span class="hljs-number">0</span>, _dnaSize).Select((t, i) =&gt; Gene).ToArray()<br>            &#125;);<br>    &#125;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">char</span> Gene =&gt; (<span class="hljs-built_in">char</span>)random.Next(<span class="hljs-number">32</span>, <span class="hljs-number">127</span>);<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> è®¡ç®—åŒ¹é…åº¦</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Chromosome&gt; <span class="hljs-title">Fitness</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; _populationSize; i++)<br>            Population[i].CalcFitness(t =&gt; t.Genes.Select((d, idx) =&gt; d == _target[idx]).Where(t =&gt; t).Count());<br>        <span class="hljs-keyword">return</span> Population;<br>    &#125;<br><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> é€‰æ‹©æœ€ä¼˜ç§ç¾¤</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Chromosome&gt; <span class="hljs-title">Selection</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> Fitness().OrderByDescending(t =&gt; t.Fitness).Skip(<span class="hljs-number">0</span>).Take(_selectionCount).ToList();<br>    &#125;<br><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> éšæœºäº¤å‰ï¼ˆæ‚äº¤ï¼‰</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;parents&quot;&gt;</span>ç­›é€‰å‡ºçš„æœ€ä¼˜ç§ç¾¤<span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Chromosome&gt; <span class="hljs-title">CrossOver</span>(<span class="hljs-params">List&lt;Chromosome&gt; parents</span>)</span><br>    &#123;<br>        List&lt;Chromosome&gt; children = <span class="hljs-keyword">new</span>();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> k = <span class="hljs-number">0</span>; k &lt; _populationSize; k++)<br>        &#123;<br>            <span class="hljs-comment">//if (random.NextDouble() &lt; 0.04) //äº¤å‰æ¦‚ç‡</span><br>            <span class="hljs-comment">//&#123;</span><br>            Chromosome f = parents[random.Next(_selectionCount)];<br>            Chromosome m = parents[random.Next(_selectionCount)];<br><br>            Chromosome newChild = <span class="hljs-keyword">new</span>(_dnaSize);<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; _dnaSize; i++)<br>                newChild.Genes[i] = random.Next(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>) == <span class="hljs-number">1</span> ? f.Genes[i] : m.Genes[i];<br>            children.Add(newChild);<br>            <span class="hljs-comment">//&#125;</span><br>            <span class="hljs-comment">//else</span><br>            <span class="hljs-comment">//&#123;</span><br>            <span class="hljs-comment">//    children.Add(Population[k]);</span><br>            <span class="hljs-comment">//&#125;</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> children;<br>    &#125;<br><br><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> å˜å¼‚</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name=&quot;children&quot;&gt;</span>æ‚äº¤åçš„æ–°ç§ç¾¤<span class="hljs-doctag">&lt;/param&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Chromosome&gt; <span class="hljs-title">Mutation</span>(<span class="hljs-params">List&lt;Chromosome&gt; children</span>)</span><br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; children.Count; i++)<br>            <span class="hljs-keyword">if</span> (random.NextDouble() &lt;= <span class="hljs-number">0.1</span>)<br>                children[i].Genes[random.Next(_dnaSize)] = Gene;<br>        <span class="hljs-keyword">return</span> children;<br>    &#125;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> æœ€ä¼˜è§£</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span><span class="hljs-doctag">&lt;/returns&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> <span class="hljs-title">Best</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">var</span> fitness = Population.OrderByDescending(x =&gt; x.Fitness).First();<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">string</span>.Concat(fitness.Genes);<br>    &#125;<br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> è¿›åŒ–</span><br>    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Evolve</span>()</span><br>    &#123;<br>        <span class="hljs-keyword">var</span> parents = Selection();<br>        <span class="hljs-keyword">var</span> children = CrossOver(parents);<br>        Population = Mutation(children);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="æ¨¡æ‹Ÿå¼€å§‹"><a href="#æ¨¡æ‹Ÿå¼€å§‹" class="headerlink" title="æ¨¡æ‹Ÿå¼€å§‹"></a>æ¨¡æ‹Ÿå¼€å§‹</h1><p>åˆ›å»ºä¸€ä¸ª10000åªçŒ´å­çš„ç§ç¾¤ï¼Œæ¯æ¬¡é€‰æ‹©å–1&#x2F;3çš„æœ€ä¼˜ä¸ªä½“ï¼Œè¿›è¡Œ10000æ¬¡çš„è¿›åŒ–ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">using</span> System.Diagnostics;<br>Stopwatch stopwatch = Stopwatch.StartNew();<br><br><span class="hljs-keyword">var</span> target = <span class="hljs-string">&quot;It was the best of times, it was blurst of times (It was the best of times, it was worst of times) .&quot;</span>;<br><br>WordMatchGeneticAlgorithm ga = <span class="hljs-keyword">new</span>(<span class="hljs-number">10000</span>, target, <span class="hljs-number">10000</span> / <span class="hljs-number">3</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++)<br>&#123;<br>    <span class="hljs-keyword">var</span> gen = i + <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">var</span> best = ga.Best();<br>    <span class="hljs-keyword">if</span> (best == target)<br>    &#123;<br>        Console.WriteLine(<span class="hljs-string">$&quot;<span class="hljs-subst">&#123;gen&#125;</span>\t<span class="hljs-subst">&#123;best&#125;</span>\tæˆåŠŸ&quot;</span>);<br>        <span class="hljs-keyword">break</span>;<br>    &#125;<br>    Console.WriteLine(<span class="hljs-string">$&quot;<span class="hljs-subst">&#123;gen&#125;</span>\t<span class="hljs-subst">&#123;best&#125;</span>&quot;</span>);<br>    ga.Evolve();<br>&#125;<br>stopwatch.Stop();<br>Console.WriteLine(<span class="hljs-string">$&quot;è€—æ—¶:<span class="hljs-subst">&#123;stopwatch.ElapsedMilliseconds / <span class="hljs-number">1000.0</span>&#125;</span>ç§’&quot;</span>);<br></code></pre></td></tr></table></figure><h1 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h1><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs livescript"><span class="hljs-number">1</span>       ;`&lt;jGnQ$Jy%zTc$:aZ+f]P-*FNah1_=,PeV`N)&lt;zf*~xP!jl&#125;<span class="hljs-number">4v</span>$nYIbHN7IL&gt;W`A+E)o&gt;FXNbe15G&lt;~@Ga?eb9%<span class="hljs-number">5E</span>,dngGW6ed~<br><span class="hljs-number">2</span>       [`Ei,&lt;T6SK6N6AeY:y, !SVta&#123;[aIFRR kE;k<span class="hljs-comment">#7liT|]~+G:Pp&#125;^@h@zw%o`JmCjiJ]KUXO6OEeLJ|0V_ZjVX5vh&lt;@1FgDQ&lt;|oZP</span><br><span class="hljs-number">3</span>       .rxh)<span class="hljs-number">2</span>&#125;<span class="hljs-number">5</span>%n!$ba_EM99r)m1M7OS_=w&#123;gv[?ursgL^c4HFHIf<span class="hljs-string">&quot;I.F,2p7Z`m:p/\1\78dg 5l&amp;s6cML9zr8 1v:/L-on|ag&#125;s LYg</span><br><span class="hljs-string">4       t&amp;0PF3XF9IXb9a%&#x27;Yfs~PP+qJ &gt;&lt;mTZ&#125;ccl-zDnKxdK&lt;\Ii3q%6&gt;R`&#125;ny&#125;o!tSfhj7S-0.jU8qy(Y(]3-5I-8&gt;`txSU2Cim~&gt;\@q</span><br><span class="hljs-string">5       Ib X$d[.7JY4&amp;Ut Rm=O*Yd.m=UM&#x27;?AsM:lhl*bKlJ&lt;RIT&quot;</span>&lt;r&gt;H5M :sJ9&#123;`=gL,t<span class="hljs-string">\[D7w[4a</span> p<span class="hljs-string">&#x27;&#125;B n&lt;s73!bI0e1&#125;xJoZK&gt;\L&#125;</span><br><span class="hljs-string">6       6!l&quot;?2Mg(4BlEIC[o;*Ns]&#x27;</span> $_veeUt&lt;IzyEalQt+f&gt;!smkW (,s<span class="hljs-string">\+x6Z,KiG66swPt^(&#x27;&#125;~irLpisHdHx,8Tr-A</span> ,&#125;cn0O@Mx<span class="hljs-comment">#2</span><br><span class="hljs-number">7</span>       -u9:T <span class="hljs-number">5</span>XLOV%&gt;Lef3f(mitAc hJO@<span class="hljs-string">&#x27;N&#125; o?u\w&amp;:JC&amp;,6jfTB8dt=w;os!h#:!2&gt;+ e,0)ibk(-dtV )gfQ[e@&#x27;</span>KT7-q&gt;iX&gt;VtWY<br><span class="hljs-number">8</span>       oL-Ym%V7g/^V`ZtSjO.r<span class="hljs-comment">#C:A,p:HYhT/4RBKrR]%Q^%AAT$N &gt;r~\&quot;&quot;mFdA%nC.&gt;7r*fpeF-jN,3gIbwa,\^,Bm%UQ -oP&#123;e`) Y</span><br><span class="hljs-number">9</span>       s:o<span class="hljs-string">&quot;a5n9z1~wS&gt;UdoP&gt;v&amp;H&lt;oqp?S;|a64tyuEJz&lt;=[hiN&#123;w&#123;C&#123;\~hBKmQnhJKTc h xf5tYEOa1 q5;Qnnx%o6#,P.WE]_m&lt;k) \</span><br><span class="hljs-string">10      ItF&#x27;@/-tGe y|WttOogqX*e,jvi5 /f)gG&quot;</span>.<span class="hljs-number">7sy</span>[-D6[du3~:(yt Iws&#123;tRh|GWsz=q<span class="hljs-string">\</span> qUc]s$q:yfQs9b6ErP&#125;+<span class="hljs-keyword">of</span>/PONemcMR<br><span class="hljs-number">11</span>      N?BwEE-&lt;hf7b$(t<span class="hljs-string">\of</span> kAveUc %HG&#125;aJ co.rnsKoP?<span class="hljs-number">8xde</span>Z /WrtwOsFm`emr&amp; <span class="hljs-number">3</span>!M4Ti6;eM,rZg <span class="hljs-string">&quot;o9# EWs.&#123;%,ht]Igr)go</span><br><span class="hljs-string">12      Y``ww_[9%eVx;vtCoc Z4OVy3e:v /=O M[Mr[B of(t?4)sp(It &amp;ms Tho&gt;&lt;eQbHXv =ames/Dut*FfiVNoysU )%:t]meKX &amp;</span><br><span class="hljs-string">13      &amp;t!has[a&#125;T~bY0t df tiUzgbb[G wa3jw[qt7t[q2 &#x27;$A*s 9I&lt; wnbYtC+$9e&quot;</span>;?<span class="hljs-number">4</span>S dAme&#123;x4P  iasK:B2Jt7o4T9,~es)C~<br><span class="hljs-number">14</span>      &amp;k dalB^<span class="hljs-number">4e</span>Nbe2Sgop6+?mfgR.&amp;u uf@g~ST&lt;sgko;ptH]<span class="hljs-number">9</span>$B(<span class="hljs-number">2t</span>LP!sb<span class="hljs-string">&quot;|,jx4s% o&#125;1tfOOfT 30 nLs :o4Zt&lt;ExR0%F]sz .</span><br><span class="hljs-string">15      $1-was&#125;Jh|Nbes! ofE&gt;im0s7&#x27;<span class="hljs-subst">#tf</span>!-;/bl_rsM`iY t6me*\ottM*1? ~hj7bev[ ot tGmeDf Stewa&amp;!FoBs;\p@S;i^~sr3.</span><br><span class="hljs-string">16      y] Mayz`h3 b1at ov timeK, TeXHa^BKlX6st 6f4-d$esvdIt ,&#x27;oqthe &lt;qstck# FJmeF,oiTjTa,kw=rst 7f tPdeaTO&#123;</span><br><span class="hljs-string">17      wtlnxs*th( b^dt 11H&quot;</span>iVeA7 <span class="hljs-number">5t</span>6cBRM59u&#125;sSvTfBtlmesaB=Gsww-Vt+e.Hesg Lfp-tqbZ<span class="hljs-comment">#`it :asN&#x27;Mrst ~f&amp;yRm_6( .</span><br><span class="hljs-number">18</span>      ntWt!s HLe bdrJ opctiCe],U0t wa8jklwuIt O_ wEme8 AUt wbsK=X&#125; <span class="hljs-number">9e</span>Tr zA ji+es,^gA &#125;a/awFXstjFI B=meZ) z<br><span class="hljs-number">19</span>      IQkwas thg ueUtb<span class="hljs-string">&#x27;f tikes, 3S UaJfS5urC&quot;qef&#125;\4m]e ?It was the]b\&quot;~ oJ ti&#123;eJFMi$iwLsKmAAOt7\B timHs)/.</span><br><span class="hljs-string">20      I4Bwas the bO\tTzf 5ime&gt;, it~wT* &#123;lur*tRofntimes (&#x27;</span>t wWs <span class="hljs-number">9ne</span> be5a oD ylGes<span class="hljs-string">\</span> /H Ta$&gt;Gou*tp,fUtiBm8wy.<br><span class="hljs-number">21</span>      It wavSthe beNtjof ti.e(, <span class="hljs-literal">it</span> waApblrrs?^<span class="hljs-keyword">of</span> tgf-[ <span class="hljs-number">0</span>,t ya&#123;)Uhe se8u rf timesm;;tqna0.wo@sE YN <span class="hljs-comment">#ames)|:</span><br><span class="hljs-number">22</span>      Ir w6s th; bOs&amp; o_9time0, |J was91lur<span class="hljs-comment">#. of&gt;tqmesE(et was q?e be&#125;/ oE times,4iGLPashwdrst/]f (imes) .</span><br><span class="hljs-number">23</span>      It<span class="hljs-string">\fFs</span> t^( yOs&#125; o9%timesK]iQ8wassbluUst <span class="hljs-keyword">of</span> t`mer (st<span class="hljs-string">&#x27;was t&lt;e b&gt;sc o6 ti$\s, it ]asGworbt of tikbs) .</span><br><span class="hljs-string">24      St w+s the b-sX=of tiUds, it das &#123;lurst of 9imeH (_t was qhe best Et3timus,Tie w&amp;s&gt;worst ,&#125; tim=rP .</span><br><span class="hljs-string">25      It was tS7qbe~V=of tKmes, 8t wasp~luvst Lf tim9sD(St w$s the bes: ,@Tti/es, it wasSworstGof tiHesw .</span><br><span class="hljs-string">26      It -asIthe Mpwt ol uimeV, it was blurst of#1imesu(|t was the bhst o2 times,  t was qorst )f time1) J</span><br><span class="hljs-string">27      I] was the best of times, it was blurst of times (Itiw[sbthe best o6jtimes] it was wpIst  f tEmes) .</span><br><span class="hljs-string">28      It wa&quot; the best o&#x27;</span> tiUes, itLwOs blur6t <span class="hljs-keyword">of</span> times (IFxwas the besc <span class="hljs-keyword">of</span> yimVs, iD was worst <span class="hljs-keyword">of</span> times)A.<br><span class="hljs-number">29</span>      It was the b`*t <span class="hljs-keyword">of</span> times, itlVas blur(t <span class="hljs-keyword">of</span> tymes (ItUwas the best <span class="hljs-keyword">of</span> Eimes, <span class="hljs-literal">it</span> was wTSst <span class="hljs-keyword">of</span> :imes)Q.<br><span class="hljs-number">30</span>      It _as the best <span class="hljs-keyword">of</span> tiQes, itEwas blurst <span class="hljs-keyword">of</span> times (It was the %est <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was yorQt [f aieeg) .<br><span class="hljs-number">31</span>      It was tLe best <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was blurst <span class="hljs-keyword">of</span> times (It was the nkst <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was wonst o3 times) .<br><span class="hljs-number">32</span>      It was the best <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was blurst <span class="hljs-keyword">of</span> times (It <span class="hljs-number">6as</span> the best <span class="hljs-keyword">of</span> tiMes, <span class="hljs-literal">it</span> was worst <span class="hljs-keyword">of</span> times) .<br><span class="hljs-number">33</span>      It wab the best <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was blurst <span class="hljs-keyword">of</span> times (It was  he best <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span>[was worst <span class="hljs-keyword">of</span> times) .<br><span class="hljs-number">34</span>      It was the bestoof times, <span class="hljs-literal">it</span> was blurst <span class="hljs-keyword">of</span> times (It was the best <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was worst <span class="hljs-keyword">of</span> times) .<br><span class="hljs-number">35</span>      It was`the best <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was blurst <span class="hljs-keyword">of</span> times (It was the best <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was worst <span class="hljs-keyword">of</span> times) .<br><span class="hljs-number">36</span>      It was the best <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was blurst <span class="hljs-keyword">of</span> times (It was the best <span class="hljs-keyword">of</span> times, <span class="hljs-literal">it</span> was worst <span class="hljs-keyword">of</span> times) .    æˆåŠŸ<br>è€—æ—¶:<span class="hljs-number">1.961</span>ç§’<br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;é—ä¼ ç®—æ³•&quot;&gt;&lt;a href=&quot;#é—ä¼ ç®—æ³•&quot; class=&quot;headerlink&quot; title=&quot;é—ä¼ ç®—æ³•&quot;&gt;&lt;/a&gt;é—ä¼ ç®—æ³•&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;é—ä¼ ç®—æ³•ï¼ˆGenetic Algorithmï¼ŒGAï¼‰æœ€æ—©æ˜¯ç”±ç¾å›½çš„ John hollandäº20</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term=".Net" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/Net/"/>
    
    <category term="ç®—æ³•" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/Net/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="C#" scheme="https://oujun.work/tags/C/"/>
    
    <category term=".net" scheme="https://oujun.work/tags/net/"/>
    
    <category term="é—ä¼ ç®—æ³•" scheme="https://oujun.work/tags/%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/"/>
    
    <category term="æ–‡å­—åŒ¹é…" scheme="https://oujun.work/tags/%E6%96%87%E5%AD%97%E5%8C%B9%E9%85%8D/"/>
    
    <category term="å¯†ç åŒ¹é…" scheme="https://oujun.work/tags/%E5%AF%86%E7%A0%81%E5%8C%B9%E9%85%8D/"/>
    
  </entry>
  
  <entry>
    <title>ä»€ä¹ˆæ˜¯å®ä½“</title>
    <link href="https://oujun.work/2022/10/26/what-is-an-entity.html"/>
    <id>https://oujun.work/2022/10/26/what-is-an-entity.html</id>
    <published>2022-10-26T03:00:00.000Z</published>
    <updated>2022-10-26T03:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å®ä½“æ˜¯ä»€ä¹ˆ"><a href="#å®ä½“æ˜¯ä»€ä¹ˆ" class="headerlink" title="å®ä½“æ˜¯ä»€ä¹ˆ"></a>å®ä½“æ˜¯ä»€ä¹ˆ</h1><p>å®ä½“æœ¬èº«å°±æ˜¯ä¸€ä¸ª<code>class</code>ï¼Œä¸€ä¸ªç±»ï¼Œåªæ˜¯å®ƒæ˜¯ä½œä¸ºä¸€ä¸ªå¯¹åº”åˆ°ç°å®ä¸­çš„å®é™…ä¸ªä½“çš„ç±»ï¼Œæ¯”å¦‚äººç±»ï¼Œæ¯”å¦‚çŒ«ï¼Œåœ¨è½¯ä»¶å¼€å‘ä¸­åˆ™å¤§å¤šå¯¹åº”çš„æ˜¯æ•°æ®åº“è¡¨ï¼Œåœ¨é¢å‘å¯¹è±¡çš„è®¾è®¡ä¸­ï¼Œæˆ‘ä»¬å¤§å¤šé…åˆäº”é¡¹åŸºæœ¬åŸåˆ™ï¼ˆSOLIDï¼‰</p><h2 id="å•ä¸€èŒè´£"><a href="#å•ä¸€èŒè´£" class="headerlink" title="å•ä¸€èŒè´£"></a>å•ä¸€èŒè´£</h2><p>å•ä¸€çš„èŒè´£ï¼Œè¿™ä¸ªäººå°±æ˜¯ä¿å®‰ã€è¿™ä¸ªäººå°±æ˜¯ä¼šè®¡ã€è¿™ä¸ªäººå°±æ˜¯ä¿æ´ï¼Œè€Œä¸æ˜¯é€šè¿‡if elseæ¥åˆ¤æ–­è¿™ä¸ªäººæ˜¯åšä»€ä¹ˆçš„ã€‚</p><h2 id="å¼€æ”¾å°é—­"><a href="#å¼€æ”¾å°é—­" class="headerlink" title="å¼€æ”¾å°é—­"></a>å¼€æ”¾å°é—­</h2><p>ç®€å•ç†è§£ï¼Œå°±æ˜¯æˆ‘ä»¬è°ƒç”¨æ–¹æ³•çš„å¯¹è±¡éƒ½æ˜¯ç”±æ¥å£åˆ›å»ºçš„ï¼Œæˆ‘ä»¬æä¾›å‡ºå»çš„æ¥å£å¯ä»¥è¢«é‡æ–°å®ç°å·²æ›¿æ¢æ¥å£çš„å®é™…å†…å®¹ï¼›æˆ–è€…æä¾›æŠ½è±¡é‡å†™çš„æ–¹å¼ã€‚</p><h1 id="é‡Œæ°æ›¿æ¢"><a href="#é‡Œæ°æ›¿æ¢" class="headerlink" title="é‡Œæ°æ›¿æ¢"></a>é‡Œæ°æ›¿æ¢</h1><h1 id="ä¾èµ–å€’ç½®"><a href="#ä¾èµ–å€’ç½®" class="headerlink" title="ä¾èµ–å€’ç½®"></a>ä¾èµ–å€’ç½®</h1><p>é¡¶éƒ¨è®¾è®¡ä¸åº”è¯¥ä¾èµ–åº•å±‚å®ç°ï¼Œè¿™ä¸ªçš„æ„æ€å°±æ˜¯é¡¶å±‚è®¾è®¡æ˜¯é”®ç›˜ï¼Œåº•å±‚å®ç°åˆ™æ˜¯æœºæ¢°é”®ç›˜ã€è†œé”®ç›˜ï¼Œ108é”®é”®ç›˜ï¼Œ87é”®é”®ç›˜ï¼›ç°æœ‰é”®ç›˜æ‰æœ‰çš„ä¸åŒç±»å‹çš„é”®ç›˜ã€‚</p><h1 id="æ¥å£éš”ç¦»"><a href="#æ¥å£éš”ç¦»" class="headerlink" title="æ¥å£éš”ç¦»"></a>æ¥å£éš”ç¦»</h1><p>è¿˜æ˜¯ç”¨ä¸Šé¢çš„é”®ç›˜ä¸¾ä¾‹å­ï¼Œé”®ç›˜çš„ä½œç”¨å°±æ˜¯æ‰“å­—ï¼Œæ‰€ä»¥æä¾›çš„æ¥å£ä¹Ÿå°±æ˜¯æ‰“å­—çš„åŠŸèƒ½ï¼Œè‡³äºæœºæ¢°é”®ç›˜çš„å¯æ›´æ¢é”®å¸½ã€å¯æ›´æ¢è½´è¿™äº›ï¼Œå¦‚æœç”¨æˆ·ä¸éœ€è¦åˆ™ä¸åº”è¯¥æš´éœ²ç»™ç”¨æˆ·ã€‚</p><p>ç„¶è€Œå¤§å¤šæ•°çš„åœ¨åŠ¨æ‰‹å¼€å‘å‰è™½ç„¶è®¾è®¡çš„å¾ˆå¥½ï¼Œä½†æ˜¯å¾€å¾€å¼€å‘è¿‡ç¨‹ä¸­ä¸ºäº†åŠ é€Ÿå¼€å‘è¿›ç¨‹å°±ä¼šé€ æˆæ”¾é£è‡ªæˆ‘çš„è¡Œä¸ºå¯¼è‡´å®ä½“ä¸­å‡ºç°å¤šä½™å†…å®¹ï¼Œè™½ç„¶ä¹Ÿä¸æ˜¯ä¸è¡Œï¼Œä½†æ˜¯è¿™å°±ä¼šé€ æˆè™½ç„¶åšäº†æ¶æ„ï¼Œä½†æ˜¯æ²¡æœ‰å®Œå…¨åšæ¶æ„çš„è¡Œä¸ºå¯¹åç»­çš„ç»´æŠ¤äº¤æ¥éƒ½ä¼šå¼•èµ·ä¸€äº›ä¸å¯é¿å…çš„é—®é¢˜ã€‚</p><h1 id="æ€ä¹ˆåšå®ä½“"><a href="#æ€ä¹ˆåšå®ä½“" class="headerlink" title="æ€ä¹ˆåšå®ä½“"></a>æ€ä¹ˆåšå®ä½“</h1><p>é¦–å…ˆæ˜ç™½äº†å®ä½“æ˜¯å¯¹åº”ç°å®ä¸­çš„æŸä¸­å®é™…ä¸ªä½“ï¼Œé‚£ä¹ˆå°±æ˜¯æ˜ç¡®å®ƒæœ‰å“ªäº›å±æ€§ï¼Œå®ƒèƒ½åšä»€ä¹ˆï¼›ä»¥å‰æµè¡Œä¸€ç§è´«è¡€è®¾è®¡æ¨¡å¼ï¼Œå°±æ˜¯å®ä½“ç±»ï¼Œåªæ˜¯ç±»ï¼Œé‡Œé¢åªæœ‰æ„é€ æ–¹æ³•ï¼Œæ²¡æœ‰å…¶ä»–å†…å®¹ï¼Œäº§ç”Ÿçš„å˜æ›´éƒ½æ˜¯é€šè¿‡å…¶ä»–çš„Serviceæˆ–è€…Managerè¿›è¡Œçš„ã€‚</p><p>æˆ‘ä»¬åæ¥çš„å¼€å‘ä¸­éƒ½é‡‡ç”¨çš„æ»¡è¡€çš„è®¾è®¡æˆ–è€…è¯´æ˜¯æ®‹è¡€çš„è®¾è®¡ï¼Œå®ä½“ä¸­çš„å±æ€§éƒ½æ˜¯<code>private set</code>çš„ï¼Œè¿™æ ·ä¿è¯äº†å¤–éƒ¨æ— æ³•è¿›è¡Œæ›´æ”¹ï¼Œæˆ‘ä»¬ä¼šæä¾›ä¸€ä¸ªä¿®æ”¹è¯¥å±æ€§çš„æ¥å£æ¥ä¿è¯å±æ€§çš„å˜æ›´éƒ½æ˜¯æ»¡è¶³é™åˆ¶çš„ï¼Œä¸”æœ‰çš„æ—¶å€™è¿›è¡Œä¸€ä¸ªå±æ€§çš„å˜æ›´å¯å¯ä»¥ç›´æ¥è”åŠ¨å…¶ä»–çš„å±æ€§å˜æ›´æˆ–è€…è¡Œä¸ºï¼›</p><p>ä¾‹å¦‚æˆ‘ä»¬å¸¸ç”¨çš„é¼ æ ‡ï¼Œå®ƒçš„å±æ€§åŒ…æ‹¬è§„æ ¼ï¼Œé‡é‡ï¼Œè¿æ¥æ–¹å¼ç­‰ï¼Œä½†æ˜¯å®ƒçš„è¡Œä¸ºä¹‹åæ»šè½®æ»šåŠ¨ï¼Œå·¦é”®æŒ‰ä¸‹ï¼Œå³é”®æŒ‰ä¸‹ï¼›æ‹–åŠ¨ã€åŒå‡»éƒ½æ˜¯ç”±å¤–ç•Œçš„äººä¸ºäº§ç”Ÿçš„è€Œä¸æ˜¯é¼ æ ‡æœ¬èº«çš„åŠŸèƒ½</p><pre><code class=" mermaid">classDiagram    class Mouse    Mouse : +LeftButtonDown()    Mouse : +LeftButtonDown()</code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;å®ä½“æ˜¯ä»€ä¹ˆ&quot;&gt;&lt;a href=&quot;#å®ä½“æ˜¯ä»€ä¹ˆ&quot; class=&quot;headerlink&quot; title=&quot;å®ä½“æ˜¯ä»€ä¹ˆ&quot;&gt;&lt;/a&gt;å®ä½“æ˜¯ä»€ä¹ˆ&lt;/h1&gt;&lt;p&gt;å®ä½“æœ¬èº«å°±æ˜¯ä¸€ä¸ª&lt;code&gt;class&lt;/code&gt;ï¼Œä¸€ä¸ªç±»ï¼Œåªæ˜¯å®ƒæ˜¯ä½œä¸ºä¸€ä¸ªå¯¹åº”åˆ°ç°å®ä¸­çš„å®é™…ä¸ªä½“çš„ç±»ï¼Œæ¯”å¦‚äººç±»ï¼Œ</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="æ¶æ„" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%9E%B6%E6%9E%84/"/>
    
    
    <category term="å¾®æœåŠ¡" scheme="https://oujun.work/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"/>
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/tags/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨Pythonçš„pyechartsåŒ…ç”»å…³ç³»å›¾</title>
    <link href="https://oujun.work/2022/07/13/python-pyecharts-graph.html"/>
    <id>https://oujun.work/2022/07/13/python-pyecharts-graph.html</id>
    <published>2022-07-13T13:16:00.000Z</published>
    <updated>2025-12-04T05:46:13.307Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘ä»¬ä½¿ç”¨csvæ ¼å¼çš„æ–‡ä»¶å­˜å‚¨å…³ç³»ï¼Œç¬¬ä¸€ä¸ªä¸ºä¸»èŠ‚ç‚¹ï¼Œç¬¬äºŒåˆ—ä¸ºå­èŠ‚ç‚¹ï¼Œå°±åƒå¦‚ä¸‹çš„å½¢å¼</p><table><thead><tr><th>ä¸»èŠ‚ç‚¹</th><th>å­èŠ‚ç‚¹</th></tr></thead><tbody><tr><td>èŠ‚ç‚¹1</td><td>èŠ‚ç‚¹A</td></tr><tr><td>èŠ‚ç‚¹1</td><td>èŠ‚ç‚¹B</td></tr><tr><td>èŠ‚ç‚¹1</td><td>èŠ‚ç‚¹C</td></tr><tr><td>èŠ‚ç‚¹B</td><td>èŠ‚ç‚¹N</td></tr><tr><td>èŠ‚ç‚¹C</td><td>èŠ‚ç‚¹N</td></tr></tbody></table><p>ä¸‹é¢æ˜¯pythonä»£ç ï¼Œå…ˆå®‰è£…pyecharts<code>pip(3) install pyecharts</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> csv<br><span class="hljs-keyword">from</span> turtle <span class="hljs-keyword">import</span> color<br><span class="hljs-keyword">from</span> pyecharts <span class="hljs-keyword">import</span> options <span class="hljs-keyword">as</span> opts<br><span class="hljs-keyword">from</span> pyecharts.charts <span class="hljs-keyword">import</span> Graph<br><br>csv_reader = csv.reader(<span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./relation.csv&quot;</span>))<br>systems = []<br>relation=[]<br><span class="hljs-keyword">for</span> left <span class="hljs-keyword">in</span> csv_reader:<br>    l = left[<span class="hljs-number">0</span>]; r = left[<span class="hljs-number">1</span>];<br>    relation.append(&#123;<span class="hljs-string">&quot;main&quot;</span>:l,<span class="hljs-string">&quot;sub&quot;</span>:r&#125;)<br>    systems.append(l)  <br>    systems.append(r) <br><br><span class="hljs-comment"># èŠ‚ç‚¹</span><br>nodes = []<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">list</span>(<span class="hljs-built_in">set</span>(systems)):<br>    nodes.append(&#123;<span class="hljs-string">&quot;name&quot;</span>: i, <span class="hljs-string">&quot;symbolSize&quot;</span>: <span class="hljs-number">15</span>&#125;)<span class="hljs-comment">#systems.count(i) 10å°±æ˜¯ç‚¹çš„å¤§å°</span><br><br><span class="hljs-comment"># å…³ç³»</span><br>links = []<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> nodes:<br>    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> relation:<br>        <span class="hljs-keyword">if</span>(i.get(<span class="hljs-string">&quot;name&quot;</span>) == j.get(<span class="hljs-string">&quot;main&quot;</span>)):<br>            links.append(&#123;<span class="hljs-string">&quot;source&quot;</span>: i.get(<span class="hljs-string">&quot;name&quot;</span>), <span class="hljs-string">&quot;target&quot;</span>: j.get(<span class="hljs-string">&quot;sub&quot;</span>)&#125;)<br><br><span class="hljs-comment">#è¾“å‡ºç½‘é¡µ</span><br>c = (<br>    Graph(init_opts=opts.InitOpts(         <br>        width=<span class="hljs-string">&quot;1800px&quot;</span>,  <span class="hljs-comment"># ç½‘é¡µåˆ†è¾¨ç‡</span><br>        height=<span class="hljs-string">&quot;1000px&quot;</span>,  <span class="hljs-comment"># ç½‘é¡µåˆ†è¾¨ç‡</span><br>        bg_color=<span class="hljs-string">&quot;#F2F2F2&quot;</span>, <span class="hljs-comment"># èƒŒæ™¯è‰² æ³¨é‡Šæ‰å°±æ²¡é¢œè‰²</span><br>        ))<br>    .add(<br>        <span class="hljs-comment"># https://pyecharts.org/#/zh-cn/basic_charts?id=graph%ef%bc%9a%e5%85%b3%e7%b3%bb%e5%9b%be</span><br>        <span class="hljs-string">&quot;&quot;</span>, <br>        nodes, <br>        links, <br>        repulsion = <span class="hljs-number">100</span>, <span class="hljs-comment">#å¼•åŠ›å€¼ æ•°è¶Šå¤§ï¼Œç‚¹ä¹‹é—´å¼¹çš„è¶Šå¤§</span><br>       <span class="hljs-comment"># edge_length = 30, # è°ƒæ•´ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œå—ä¸Šé¢çš„repulsionå½±å“</span><br>        symbol=<span class="hljs-string">&quot;roundRect&quot;</span>, <span class="hljs-comment"># ç‚¹çš„å½¢çŠ¶ triangle ä¸‰è§’å½¢ ï¼Œcircle åœ†å½¢ï¼Œ rect æ–¹å½¢ï¼ŒroundRect åœ†è§’æ–¹å½¢ï¼Œ diamond è±å½¢ï¼Œpin å›¾é’‰ ï¼Œarrow ç®­å¤´,none åªæœ‰çº¿</span><br>       <span class="hljs-comment"># layout=&quot;circular&quot;, # å¸ƒå±€ æ˜¯ç¯å½¢ï¼Œ force æ˜¯å¼•åŠ›å‹</span><br>       <span class="hljs-comment"># linestyle_opts=opts.LineStyleOpts(curve=0.2), #ç›´çº¿æˆ–è€…å¼§çº¿</span><br>       <span class="hljs-comment"># label_opts=opts.LabelOpts(is_show=False), # ç›´æ¥æ˜¾ç¤ºæ ‡ç­¾æˆ–è€…é¼ æ ‡æ”¾ä¸Šå»æ˜¾ç¤ºæ ‡ç­¾ï¼Œ</span><br>       <span class="hljs-comment"># linestyle_opts=opts.LineStyleOpts(color=&quot;#feb64d&quot;), # çº¿é¢œè‰²</span><br>       itemstyle_opts=opts.ItemStyleOpts(color=<span class="hljs-string">&quot;#151EBF&quot;</span>), <span class="hljs-comment"># å›¾æ ‡é¢œè‰² æ³¨é‡Šæ‰å°±æ˜¯çº¢è‰²</span><br>       <span class="hljs-comment"># æŒ‘é…è‰²çš„ç½‘ç«™  https://color.adobe.com/zh/explore/newest/</span><br><br>    )<br>    .set_global_opts(<br>        title_opts=opts.TitleOpts(title=<span class="hljs-string">&quot;è‡ªå·±æ”¹å&quot;</span>), <span class="hljs-comment"># æ ‡é¢˜</span><br>        ) <br>    .render(<span class="hljs-string">&quot;graph_base.html&quot;</span>)<br>)<br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æˆ‘ä»¬ä½¿ç”¨csvæ ¼å¼çš„æ–‡ä»¶å­˜å‚¨å…³ç³»ï¼Œç¬¬ä¸€ä¸ªä¸ºä¸»èŠ‚ç‚¹ï¼Œç¬¬äºŒåˆ—ä¸ºå­èŠ‚ç‚¹ï¼Œå°±åƒå¦‚ä¸‹çš„å½¢å¼&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ä¸»èŠ‚ç‚¹&lt;/th&gt;
&lt;th&gt;å­èŠ‚ç‚¹&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;èŠ‚ç‚¹1&lt;/td&gt;
&lt;td&gt;èŠ‚</summary>
      
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="python" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/python/"/>
    
    <category term="å°æŠ€å·§" scheme="https://oujun.work/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/python/%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    
    
    <category term="æ¶æ„" scheme="https://oujun.work/tags/%E6%9E%B6%E6%9E%84/"/>
    
    <category term="Python" scheme="https://oujun.work/tags/Python/"/>
    
    <category term="pyecharts" scheme="https://oujun.work/tags/pyecharts/"/>
    
    <category term="å…³ç³»å›¾" scheme="https://oujun.work/tags/%E5%85%B3%E7%B3%BB%E5%9B%BE/"/>
    
  </entry>
  
</feed>
