<!DOCTYPE HTML>
<html lang="zh-CN">

<head>
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="狐狸的后山">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <meta name="theme-version" content="1.2.3">
    <meta name="root" content="/">
    <link rel="dns-prefetch" href="https://ojdev.github.io">
    <!--SEO-->

<meta name="keywords" content="NAS,Jellyfin,Proxmox VE,PVE,docker,docker-compose,homeassistan,小米,格力,qBittorrent,松花江" />


<meta name="description" content="1 一个NAS都应该能做什么我是一个经历了家庭互联网从无到有的人，小的时候家里有个电视就算是富裕家庭了，一般的家庭还仅限于有个收音机；后来逐渐的，电视，彩色电视，电话，录像机，那个时候还有一种叫..." />


<meta name="robots" content="all" />
<meta name="google" content="all" />
<meta name="googlebot" content="all" />
<meta name="verify" content="all" />
    <!--Title-->

<title>
    
    家庭服务管理：NAS |
    
    狐狸的后山
</title>

<link rel="alternate" href="/atom.xml" title="狐狸的后山" type="application/atom+xml">


<link rel="icon" href="/favicon.ico">

    


<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7.css">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.7.0.css">
<link rel="stylesheet" href="/css/style.css?rev=@@hash.css">

    
<div class="hide">
    <script type="text/javascript">
    var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cspan class='cnzz_stat_icon_1263868967 hide' %3E%3Cscript%20src%3D%22https%3A%2F%2Fs95.cnzz.com%2Fz_stat.php%3Fweb_id%3D1272564536%22%3E%3C%2Fscript%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1263868967%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
    </script>
</div>




    

<script>
(function() {
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    } else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

    
    <script data-ad-client="ca-pub-1462206097231302" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<meta name="generator" content="Hexo 5.3.0"></head>
<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->
<body>
    <header class="main-header"  style="background-image:url(
    http://snippet.shenliyang.com/img/banner.jpg)"
     >
    <div class="main-header-box">
        <a class="header-avatar" href="/" title='欧俊'>
            <img src="/img/avatar.jpg" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
            <!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
            <img src="/img/branding.png" alt="Snippet 博客主题" class="img-responsive center-block">
            
        </div>
    </div>
</header>
    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                        <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="https://ojdev.github.io">
                        狐狸的后山</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                        <li role="presentation" class="text-center">
                            <a href="/"><i class="fa "></i>
                                首页</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/知识储备/"><i class="fa "></i>
                                知识储备</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/DevOps/"><i class="fa "></i>
                                DevOps</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/家庭服务/"><i class="fa "></i>
                                家庭服务</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/狐说八道/"><i class="fa "></i>
                                狐说八道</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/categories/收集/"><i class="fa "></i>
                                收集</a>
                        </li>
                        
                        <li role="presentation" class="text-center">
                            <a href="/archives/"><i class="fa "></i>
                                时间轴</a>
                        </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="家庭服务管理：NAS">
            
            家庭服务管理：NAS
            
        </h1>
        <div class="post-meta">
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-folder-open-o"></i>
        <a class="category-link" href="/categories/%E5%AE%B6%E5%BA%AD%E6%9C%8D%E5%8A%A1/">家庭服务</a>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
            <a class="tag-none-link" href="/tags/Jellyfin/" rel="tag">Jellyfin</a> <a class="tag-none-link" href="/tags/NAS/" rel="tag">NAS</a> <a class="tag-none-link" href="/tags/PVE/" rel="tag">PVE</a> <a class="tag-none-link" href="/tags/Proxmox-VE/" rel="tag">Proxmox VE</a> <a class="tag-none-link" href="/tags/docker/" rel="tag">docker</a>
            
        </span>
    </span>
    
    
    
    <span class="fa-wrap">
        <i class="fa fa-clock-o"></i>
        <span class="date-meta">
            2021/01/07</span>
    </span>
    
    
</div>
        
        
    </div>
    
    <div class="post-body post-content">
        <h1 id="1-一个NAS都应该能做什么"><a href="#1-一个NAS都应该能做什么" class="headerlink" title="1 一个NAS都应该能做什么"></a>1 一个NAS都应该能做什么</h1><p>我是一个经历了家庭互联网从无到有的人，小的时候家里有个电视就算是富裕家庭了，一般的家庭还仅限于有个收音机；后来逐渐的，电视，彩色电视，电话，录像机，那个时候还有一种叫录像厅的地方呢，又租录像带的地方，5毛钱一周；然后出现了VCD，DVD，大哥大，BB机，掌中宝娱乐的东西月亮来越丰富。</p>
<p>之后我到外面上高中，那是2002年，那个时候已经有网吧了，但是电脑还不是普通家庭可以承受的。</p>
<p>等到我上了大学的时候，就到了2005年，彼时，小灵通还有一席之地，网吧遍地开花，上网一个电话，车接车送，包夜5元还送面包和可乐。但是学校里有笔记本的同学依然是少数，很多时候大家还是用U盘和MP3，MP4来互相拷贝东西，移动硬盘由于造假比较高，并不普及，而且，120G的都算是大容量存储了。</p>
<p>等毕业后，移动硬盘算是比较普及的，但是依然不大，320G和500G的都算大容量了，因为那个年代，资源的体积也是很小的。</p>
<p>逐渐的，很多东西变成了消费品，手机的普及，家庭宽带的普及，3G的出现和4G的升级，互联网才开始完全平民化，我个人来讲，3G的出现时一个转折点，4G的出现让很多想法得以实现。资源的质量也越来越高，以前的120p的资源，到后来的480，然后进化到720p，1080p;后来之间开始普及的2k，4k，蓝光等。存储空间也开始越来越便宜，从1T的hdd到现在消费级别的1T的ssd。</p>
<p>手机，电视，电脑，这是家庭的网络基础互联装备，以前一个硬盘到处插不觉得麻烦，现在建个网路共享我都觉得不方便，所以逐渐的，开始了NAS的路线。</p>
<p>NAS所需的功能，和是否需要NAS都是看个人和家庭的需求是否有必要，否则就是吃灰的产品。那么一个NAS，对我来讲需要一下的功能。</p>
<h2 id="1-1-流媒体"><a href="#1-1-流媒体" class="headerlink" title="1.1 流媒体"></a>1.1 流媒体</h2><p>彼时靠文件夹来分辨时什么电影，什么电视剧等等，资源混在一起，或者分成不同目录，甚至不同的硬盘装不同的东西，但是看的时候依然麻烦，而且目前网页观看也成为了大家容易接收的方式，以前电脑必装的千千静听，realplayer,xmplaoer,potplayer等等播放器，如今也变的少有人问。所以，流媒体服务就成为了一个比骄傲基础的功能，应该能够做到，海报，简介，自动下载字幕，播放，分类这些基础的功能，下面是能够满足这几项条件的推荐。</p>
<ul>
<li>Jellyfin</li>
</ul>
<p>免费，开源，.Net Core，有TV端，Android端，网页端，PC端，而且，都免费，但是有点小缺点，就是硬解，遇到不支持的格式的就会强制硬解，而且使用服务端硬解，而不会使用本地硬解。</p>
<ul>
<li>Emby</li>
</ul>
<p>Jellyfin就是从这分家的，因为Emby有收费订阅，TV端就需要订阅，其他的几乎一样。据说硬解能力比Jellyfin强。</p>
<ul>
<li>Plex</li>
</ul>
<p>这是个很强的产品，大部分都推荐的，但是，订阅后体检更好。TV，手机端都需要订阅后才能用，这个好像是本地硬解，不占用服务器资源，只用了一次，所以不是很确定。</p>
<ul>
<li>elfilm</li>
</ul>
<p><a target="_blank" rel="noopener" href="http://getelfilm.com/">http://getelfilm.com/</a></p>
<h2 id="1-2-下载"><a href="#1-2-下载" class="headerlink" title="1.2 下载"></a>1.2 下载</h2><ul>
<li>qBittorrent</li>
</ul>
<p>同时满足了BT下载和挂PT的需求，以前一直都是使用aria2的，但是aria2下载BT和PT需要单独的配置，不能一个端直接满足，所以，最后还是使用了这个。</p>
<ul>
<li>aria2</li>
</ul>
<p>老牌下载工具</p>
<ul>
<li>百度云</li>
</ul>
<p>也可以有。</p>
<h2 id="1-3-Home-Assistant"><a href="#1-3-Home-Assistant" class="headerlink" title="1.3 Home Assistant"></a>1.3 Home Assistant</h2><p>基础的家庭物联网工具，我是比较早接触智能家居设备的，这也导致了我家的产品比较割裂，空气净化器是，空调是格力的，扫地机是小米的，电视是乐视的，可视猫眼是叮咚，门锁是美的，有了HomeAssistant后，可以将其中一部分整合到上面。</p>
<h2 id="1-4-旁路网关"><a href="#1-4-旁路网关" class="headerlink" title="1.4 旁路网关"></a>1.4 旁路网关</h2><p>流畅的网络体验。</p>
<h2 id="1-5-文件共享"><a href="#1-5-文件共享" class="headerlink" title="1.5 文件共享"></a>1.5 文件共享</h2><p>Linux下比较流行的就是SMB，但是下载看来，好像并不是常用的了。</p>
<h2 id="1-6-可扩展性"><a href="#1-6-可扩展性" class="headerlink" title="1.6 可扩展性"></a>1.6 可扩展性</h2><h3 id="1-6-1-Docker"><a href="#1-6-1-Docker" class="headerlink" title="1.6.1 Docker"></a>1.6.1 Docker</h3><h4 id="1-6-1-1-Home-Assistant"><a href="#1-6-1-1-Home-Assistant" class="headerlink" title="1.6.1.1 Home Assistant"></a>1.6.1.1 Home Assistant</h4><p>家庭物联网</p>
<h4 id="1-6-1-2-qBittorrent"><a href="#1-6-1-2-qBittorrent" class="headerlink" title="1.6.1.2 qBittorrent"></a>1.6.1.2 qBittorrent</h4><p>既满足bt又能满足pt</p>
<h4 id="1-6-1-3-Jellyfin"><a href="#1-6-1-3-Jellyfin" class="headerlink" title="1.6.1.3 Jellyfin"></a>1.6.1.3 Jellyfin</h4><p>多端免费的媒体管理，自动刮削，硬解。</p>
<h4 id="1-6-1-4-签到"><a href="#1-6-1-4-签到" class="headerlink" title="1.6.1.4 签到"></a>1.6.1.4 签到</h4><p>免去了每天手动签到的麻烦过程</p>
<h4 id="1-6-1-5-百度云"><a href="#1-6-1-5-百度云" class="headerlink" title="1.6.1.5 百度云"></a>1.6.1.5 百度云</h4><h3 id="1-6-2-虚拟机"><a href="#1-6-2-虚拟机" class="headerlink" title="1.6.2 虚拟机"></a>1.6.2 虚拟机</h3><h4 id="1-6-2-1-windows"><a href="#1-6-2-1-windows" class="headerlink" title="1.6.2.1 windows"></a>1.6.2.1 windows</h4><p>挂游戏</p>
<h4 id="1-6-2-2-linux"><a href="#1-6-2-2-linux" class="headerlink" title="1.6.2.2 linux"></a>1.6.2.2 linux</h4><p>我用来ssh，远程管理k8s。</p>
<h2 id="1-7-云"><a href="#1-7-云" class="headerlink" title="1.7 云"></a>1.7 云</h2><ul>
<li>Nextcloud</li>
</ul>
<h2 id="1-8-ZeroTier"><a href="#1-8-ZeroTier" class="headerlink" title="1.8 ZeroTier"></a>1.8 ZeroTier</h2><ul>
<li>异地访问</li>
<li>VPN直连</li>
</ul>
<h2 id="1-9-选用什么系统？"><a href="#1-9-选用什么系统？" class="headerlink" title="1.9 选用什么系统？"></a>1.9 选用什么系统？</h2><h3 id="1-9-1-群晖"><a href="#1-9-1-群晖" class="headerlink" title="1.9.1 群晖"></a>1.9.1 群晖</h3><h4 id="1-9-1-1-黑群晖"><a href="#1-9-1-1-黑群晖" class="headerlink" title="1.9.1.1 黑群晖"></a>1.9.1.1 黑群晖</h4><p>内网穿透、稳定的应用（也不一定）、同步、备份。<br>虽然免费，但是升级什么的比较麻烦。</p>
<h4 id="1-9-1-2-白群晖"><a href="#1-9-1-2-白群晖" class="headerlink" title="1.9.1.2 白群晖"></a>1.9.1.2 白群晖</h4><p>内网穿透、稳定的应用（也不一定）、同步、备份、稳定、可升级、贵。</p>
<p>我觉得性价比不高。</p>
<h3 id="1-9-2-ProxmoxVE（推荐★★★★★）"><a href="#1-9-2-ProxmoxVE（推荐★★★★★）" class="headerlink" title="1.9.2 ProxmoxVE（推荐★★★★★）"></a>1.9.2 ProxmoxVE（推荐★★★★★）</h3><p>其本质上是一个Debian系统，用起来熟悉。</p>
<h4 id="1-9-2-1-zfs存储"><a href="#1-9-2-1-zfs存储" class="headerlink" title="1.9.2.1 zfs存储"></a>1.9.2.1 zfs存储</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ls -l /dev/disk/by-id/</span><br><span class="line">total 0</span><br><span class="line">lrwxrwxrwx 1 root root  9 Dec 30 10:29 ata-SCWW_SSD_16G_0000000000000 -&gt; ../../sda</span><br><span class="line">lrwxrwxrwx 1 root root 10 Dec 30 10:29 ata-SCWW_SSD_16G_0000000000000-part1 -&gt; ../../sda1</span><br><span class="line">lrwxrwxrwx 1 root root 10 Dec 30 10:29 ata-SCWW_SSD_16G_0000000000000-part2 -&gt; ../../sda2</span><br><span class="line">lrwxrwxrwx 1 root root 10 Dec 30 10:29 ata-SCWW_SSD_16G_0000000000000-part3 -&gt; ../../sda3</span><br><span class="line">lrwxrwxrwx 1 root root  9 Dec 30 10:29 ata-ST99999999-******-****** -&gt; ../../sdc</span><br><span class="line">lrwxrwxrwx 1 root root  9 Dec 30 10:29 ata-TOSHIBA_******_****** -&gt; ../../sdb</span><br><span class="line"></span><br><span class="line"><span class="comment">#raid-0</span></span><br><span class="line">zpool create -f -o ashift=12 nas /dev/disk/by-id/ata-ST99999999-******-****** /dev/disk/by-id/ata-TOSHIBA_******_******</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加新硬盘</span></span><br><span class="line">zpool attach nas /dev/disk/by-id/ata-ST88888888-******-******</span><br></pre></td></tr></table></figure>
<p>上面完成后会在根目录下生成一个nas文件夹，就是存储池的空间了。</p>
<p>软raid<br>创建存储池<br>做为目录</p>
<h4 id="1-9-2-2-软路由"><a href="#1-9-2-2-软路由" class="headerlink" title="1.9.2.2 软路由"></a>1.9.2.2 软路由</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qm importdisk 100 /nas/20201229-Ipv4P-Mini-x86-64-generic-squashfs-combined-efi.img nas-local</span><br></pre></td></tr></table></figure>
<h4 id="1-9-2-3-lxc"><a href="#1-9-2-3-lxc" class="headerlink" title="1.9.2.3 lxc"></a>1.9.2.3 lxc</h4><p>做软路由<br>虚拟机</p>
<h3 id="1-9-3-FreeNAS（推荐★★★）"><a href="#1-9-3-FreeNAS（推荐★★★）" class="headerlink" title="1.9.3 FreeNAS（推荐★★★）"></a>1.9.3 FreeNAS（推荐★★★）</h3><p>免费</p>
<h3 id="1-9-4-OMV（OpenMediaVault）"><a href="#1-9-4-OMV（OpenMediaVault）" class="headerlink" title="1.9.4 OMV（OpenMediaVault）"></a>1.9.4 OMV（OpenMediaVault）</h3><p>免费、功能过于基础。</p>
<h3 id="1-9-5-Windows-Server（推荐★★★★）"><a href="#1-9-5-Windows-Server（推荐★★★★）" class="headerlink" title="1.9.5 Windows Server（推荐★★★★）"></a>1.9.5 Windows Server（推荐★★★★）</h3><p>免费，这点可能很多人不知道，Windows Server Core是有免费版本的。只是没有桌面环境，但是已经Windows Server了，桌面环境除了浪费空间和资源外，真的就没什么用了。</p>
<p>HyperV可以直接使用<a target="_blank" rel="noopener" href="https://www.microsoft.com/zh-cn/windows-server/windows-admin-center">Windows Admin Center</a>可以直接进行管理，也可以使用Windows10 的hyper-V远程管理。</p>
<p>硬件直通对硬件本身要求较高，但是一般也够用了。</p>
<p>用起来操作很熟悉。</p>
<h3 id="1-9-6-Ubuntu-Server"><a href="#1-9-6-Ubuntu-Server" class="headerlink" title="1.9.6 Ubuntu Server"></a>1.9.6 Ubuntu Server</h3><h3 id="1-9-7-UNRAID"><a href="#1-9-7-UNRAID" class="headerlink" title="1.9.7 UNRAID"></a>1.9.7 UNRAID</h3><p>据说硬件直通性能非常好，但是收费，虽然有破解版。</p>
<h3 id="1-9-8-ESXI"><a href="#1-9-8-ESXI" class="headerlink" title="1.9.8 ESXI"></a>1.9.8 ESXI</h3><p>老牌。</p>
<h2 id="1-10-硬件上最好有什么？"><a href="#1-10-硬件上最好有什么？" class="headerlink" title="1.10 硬件上最好有什么？"></a>1.10 硬件上最好有什么？</h2><h3 id="1-10-1-网卡"><a href="#1-10-1-网卡" class="headerlink" title="1.10.1 网卡"></a>1.10.1 网卡</h3><ul>
<li>千兆</li>
<li>万兆<h3 id="1-10-2-Raid卡"><a href="#1-10-2-Raid卡" class="headerlink" title="1.10.2 Raid卡"></a>1.10.2 Raid卡</h3></li>
<li>多硬盘，也可以用软raid<h3 id="1-10-3-热插拔"><a href="#1-10-3-热插拔" class="headerlink" title="1.10.3 热插拔"></a>1.10.3 热插拔</h3></li>
<li>多盘位<h3 id="1-10-4-USB3"><a href="#1-10-4-USB3" class="headerlink" title="1.10.4 USB3"></a>1.10.4 USB3</h3></li>
<li>打印机<h3 id="1-10-5-DC电源"><a href="#1-10-5-DC电源" class="headerlink" title="1.10.5 DC电源"></a>1.10.5 DC电源</h3></li>
<li>静音<h3 id="1-10-6-1-N块硬盘"><a href="#1-10-6-1-N块硬盘" class="headerlink" title="1.10.6 1+N块硬盘"></a>1.10.6 1+N块硬盘</h3></li>
<li>组RAID</li>
</ul>
<h1 id="2-NAS服务管理"><a href="#2-NAS服务管理" class="headerlink" title="2 NAS服务管理"></a>2 NAS服务管理</h1><h2 id="2-1-Jellyfin"><a href="#2-1-Jellyfin" class="headerlink" title="2.1 Jellyfin"></a>2.1 Jellyfin</h2><h3 id="2-1-1-电影多版本管理"><a href="#2-1-1-电影多版本管理" class="headerlink" title="2.1.1 电影多版本管理"></a>2.1.1 电影多版本管理</h3><p>以<code>Wonder Woman 1984</code>这部电影为例，我的电影都是放在<code>/nas/movies</code>里的,所以目录结构是这样的:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">movies/</span><br><span class="line">└── Wonder.Woman.1984.2020</span><br><span class="line">    ├── Wonder.Woman.1984.2020 - 1080P.mkv</span><br><span class="line">    ├── Wonder.Woman.1984.2020 - 1080P.china.srt</span><br><span class="line">    └── Wonder.Woman.1984.2020 - 2160p.mp4</span><br><span class="line">    └── Wonder.Woman.1984.2020 - 8k.mp4</span><br><span class="line">    └── Wonder.Woman.1984.2020 - 不是导演剪辑版.mp4</span><br><span class="line">    └── Wonder.Woman.1984.2020 - 山寨版.mp4</span><br></pre></td></tr></table></figure>
<p>根据<code>jellyfin</code>文档显示，当多个不同格式的版本合并起来的时候，需要让文件名与文件夹名保持一直然后再后面加<code>&#123;空格&#125;&#123;连字符&#125;&#123;空格&#125;&#123;版本标签&#125;</code>的形式，这样jellyfin就可以进行识别，在电影的界面中就可以进行版本的切换选择，在这一点上不如plex方便了。 其中标签是可以自定义的，连字符不支持<code>.</code>和空格。</p>
<p>** 官方的文档中推荐的文件夹名是<code>Wonder.Woman.1984 (2020)</code> ，但是实际使用中我发现<code>Wonder.Woman.1984.2020</code>也是可以的，在文件管理上，名字中带有空格对我来讲会不大习惯，所以可以根据自己习惯选择对名称的管理。</p>
<h4 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h4><ul>
<li><a target="_blank" rel="noopener" href="https://jellyfin.org/docs/general/server/media/movies.html">https://jellyfin.org/docs/general/server/media/movies.html</a></li>
</ul>
<h3 id="2-1-2-字幕中的方块"><a href="#2-1-2-字幕中的方块" class="headerlink" title="2.1.2 字幕中的方块"></a>2.1.2 字幕中的方块</h3><p>一般的解决方式都是在字幕中进行设置，这种方式是使用转码烧录的形式，对cpu和内存都会进行消耗，对于性能比较低的nas来说，压力很大，比如我的j1900矿渣。目前有一个简单的解决办法，升级到<code>&gt;Jellyfin 10.7.0</code>的版本，目前还是<code>rc</code>版，这个版本支持加载自定义的字体了<code>控制台&gt;播放&gt;备用字体文件路径</code>，就解决了。</p>
<h2 id="2-2-docker-compose"><a href="#2-2-docker-compose" class="headerlink" title="2.2 docker-compose"></a>2.2 docker-compose</h2><h3 id="2-2-1-安装docker"><a href="#2-2-1-安装docker" class="headerlink" title="2.2 1 安装docker"></a>2.2 1 安装docker</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">apt update</span><br><span class="line">apt install apt-transport-https</span><br><span class="line">apt upgrade -y</span><br><span class="line">curl -fsSL https://download.docker.com/linux/debian/gpg | apt-key add -</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;deb [arch=amd64] https://download.docker.com/linux/debian <span class="subst">$(lsb_release -cs)</span> stable&quot;</span> &gt; /etc/apt/sources.list.d/docker.list</span><br></pre></td></tr></table></figure>
<h4 id="参考链接-1"><a href="#参考链接-1" class="headerlink" title="参考链接"></a>参考链接</h4><ul>
<li><a target="_blank" rel="noopener" href="https://docs.docker.com/engine/install/debian/">https://docs.docker.com/engine/install/debian/</a><h3 id="2-2-2-安装docker-compose"><a href="#2-2-2-安装docker-compose" class="headerlink" title="2.2 2 安装docker-compose"></a>2.2 2 安装docker-compose</h3></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install docker-ce docker-compose</span><br></pre></td></tr></table></figure>
<h3 id="2-2-3-前期准备"><a href="#2-2-3-前期准备" class="headerlink" title="2.2 3 前期准备"></a>2.2 3 前期准备</h3><p>创建子网隔离，非必须。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker network create --subnet 10.10.10.0/24 pve-subnet</span><br></pre></td></tr></table></figure>
<p>该处的<code>pve-subnet</code>对应下面<code>docker-compose.yml</code>文件中<code>networks</code>节点下的<code>name</code>,可以忽略，<code>docker-compose</code>会自动建立。</p>
<h3 id="2-2-4-为什么使用docker-compose"><a href="#2-2-4-为什么使用docker-compose" class="headerlink" title="2.2 4 为什么使用docker-compose"></a>2.2 4 为什么使用docker-compose</h3><p>docker虽然部署与管理变的容易，但是当遇到版本升级的时候就需要重新使用命令行进行一次部署，然而很多时候我都懒得进行本分，目前工作中使用的是k8s，在家用nas上我觉得实在是没必要，于是比较传统的<code>docker-compose</code>就是一个很好的解决方案。<br>每当有版本升级的时候只要修改<code>docker-compose.yml</code>文件中对应的镜像标签，然后重新docker-compose up -d就自动进行拉取部署升级，不会影响其他未修改配置的镜像，就方便很多了。</p>
<h2 id="2-3-Home-Assistant"><a href="#2-3-Home-Assistant" class="headerlink" title="2.3 Home Assistant"></a>2.3 Home Assistant</h2><h3 id="2-3-1-调用本地图片"><a href="#2-3-1-调用本地图片" class="headerlink" title="2.3.1 调用本地图片"></a>2.3.1 调用本地图片</h3><p>在<code>configuration.yaml</code>文件的位置建立一个<code>www</code>文件夹，将要引用的文件放进去，在配置文件中使用<code>/local</code>对应的就是<code>www</code>文件夹中的文件，例如</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> blueprints</span><br><span class="line">│   └── automation</span><br><span class="line">│       └── homeassistant</span><br><span class="line">│           ├── motion_light.yaml</span><br><span class="line">│           └── notify_leaving_zone.yaml</span><br><span class="line">├── configuration.yaml</span><br><span class="line">├── deps</span><br><span class="line">├── groups.yaml</span><br><span class="line">├── home-assistant.log</span><br><span class="line">├── home-assistant_v2.db</span><br><span class="line">├── scenes.yaml</span><br><span class="line">├── scripts.yaml</span><br><span class="line">├── secrets.yaml</span><br><span class="line">├── tts</span><br><span class="line">└── www</span><br><span class="line">    └── floorplan.png</span><br></pre></td></tr></table></figure>
<p>如果要在配置中调用<code>www/floorplan.png</code>则对应的配置文件为:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">type:</span> <span class="string">picture-elements</span></span><br><span class="line"><span class="attr">image:</span> <span class="string">/local/floorplan.png</span></span><br><span class="line"><span class="attr">elements:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">state-badge</span></span><br><span class="line">    <span class="attr">entity:</span> <span class="string">binary_sensor.updater</span></span><br><span class="line">    <span class="attr">style:</span></span><br><span class="line">      <span class="attr">top:</span> <span class="number">65</span><span class="string">%</span></span><br><span class="line">      <span class="attr">left:</span> <span class="number">38</span><span class="string">%</span></span><br></pre></td></tr></table></figure>
<h3 id="2-3-2-水位流量采集"><a href="#2-3-2-水位流量采集" class="headerlink" title="2.3.2 水位流量采集"></a>2.3.2 水位流量采集</h3><p>我在天气好的时候会出去钓鱼，但是松花江如果在汛期的时候涨水，有些地方就去不了了，为了不耽误时间，我发现松辽水利网每天8点会发布一次当前的水位流量，所以我进行了采集，这样出门前看一下水位和流速来判断可以去哪个地方钓鱼，避免白跑一趟。</p>
<p>在<code>configuration.yaml</code>下面加入下面的内容，就可以在面板中加载进来了。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sensor:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">platform:</span> <span class="string">scrape</span></span><br><span class="line">    <span class="attr">resource:</span> <span class="string">http://www.slwr.gov.cn/swjgzfw/sssq.asp</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">slwr</span> <span class="string">shuiwei</span></span><br><span class="line">    <span class="attr">select:</span> <span class="string">&#x27;script&#x27;</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">1</span></span><br><span class="line">    <span class="attr">scan_interval:</span> <span class="number">3600</span></span><br><span class="line">    <span class="attr">value_template:</span> <span class="string">&gt;-</span></span><br><span class="line">      &#123;&#123; <span class="string">(value</span> <span class="string">|</span> <span class="string">replace</span> <span class="string">(&quot;cvt(&quot;</span>,<span class="string">&quot;&quot;</span><span class="string">)</span> <span class="string">|</span> <span class="string">replace</span> <span class="string">(&quot;);&quot;</span>,<span class="string">&quot;&quot;</span><span class="string">)</span> <span class="string">|</span> <span class="string">replace</span> <span class="string">(&quot;&#x27;&quot;</span>,<span class="string">&quot;&quot;</span><span class="string">)</span> <span class="string">)</span> &#125;&#125;</span><br><span class="line">  <span class="bullet">-</span> <span class="attr">platform:</span> <span class="string">scrape</span></span><br><span class="line">    <span class="attr">resource:</span> <span class="string">http://www.slwr.gov.cn/swjgzfw/sssq.asp</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">slwr</span> <span class="string">liuliang</span></span><br><span class="line">    <span class="attr">select:</span> <span class="string">&#x27;font&#x27;</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">8</span></span><br><span class="line">    <span class="attr">scan_interval:</span> <span class="number">3600</span></span><br></pre></td></tr></table></figure>
<h3 id="2-3-3-小米扫地机器人"><a href="#2-3-3-小米扫地机器人" class="headerlink" title="2.3.3 小米扫地机器人"></a>2.3.3 小米扫地机器人</h3><p>第一二代的小米扫地机，使用的是<code>Token</code>的方式加入的，目前有一个简单的工具<a target="_blank" rel="noopener" href="https://github.com/PiotrMachowski/Xiaomi-cloud-tokens-extractor">https://github.com/PiotrMachowski/Xiaomi-cloud-tokens-extractor</a> 运行后输入账号密码就可以获取到局域网中的<code>IP</code>和<code>Token</code>、<code>设备Id</code>，我们这里使用<code>IP</code>和<code>Token</code>就够了。<br>获取到信息后，在<code>configuration.yaml</code>下面加入下面的内容，就可以在面板中加载进来了。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">vacuum:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">platform:</span> <span class="string">xiaomi_miio</span></span><br><span class="line">    <span class="attr">host:</span> <span class="number">192.168</span><span class="number">.0</span><span class="number">.69</span></span><br><span class="line">    <span class="attr">token:</span> <span class="string">**********************************</span></span><br></pre></td></tr></table></figure>
<h3 id="2-3-4-格力宁韵空调"><a href="#2-3-4-格力宁韵空调" class="headerlink" title="2.3.4 格力宁韵空调"></a>2.3.4 格力宁韵空调</h3><p><a target="_blank" rel="noopener" href="https://github.com/RobHofmann/HomeAssistant-GreeClimateComponent">https://github.com/RobHofmann/HomeAssistant-GreeClimateComponent</a><br>下载最新版本解压后如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">|   climate.yaml</span><br><span class="line">|   configuration.yaml</span><br><span class="line">|   info.md</span><br><span class="line">|   LICENSE</span><br><span class="line">|   README.md</span><br><span class="line">|</span><br><span class="line">+---.github</span><br><span class="line">|   \---ISSUE_TEMPLATE</span><br><span class="line">|           bug_report.md</span><br><span class="line">|           feature_request.md</span><br><span class="line">|</span><br><span class="line">\---custom_components</span><br><span class="line">    \---gree</span><br><span class="line">            climate.py</span><br><span class="line">            manifest.json</span><br><span class="line">            __init__.py</span><br></pre></td></tr></table></figure>
<p>如果<code>configuration.yaml</code>同级目录下没有<code>custom_components</code>则直接复制进去，如果已经存在，则复制下面的<code>gree</code>到<code>custom_components</code>下，然后在复制<code>climate.yaml</code>到<code>configuration.yaml</code>同级目录,之后编辑``configuration.yaml<code>同级目录加入一行</code>climate: !include climate.yaml`。</p>
<p>使用<code>格力+</code>接入空调，这样就能在路由器中看到空调的<code>IP</code>和<code>MAC</code>，下面会用到，虽然我是在苏宁购买的，但是苏宁的app实在是不好用，于是下载了<code>格力+</code>，在添加设备的时候直接选择<code>宁韵</code>，然后重置空调的<code>wifi</code>，就可以连接了，如果连不上，那么修改<code>wifi</code>里的<code>2.4G</code>的<code>无线模式</code>为<code>11gb</code>开头的模式。</p>
<p>之后编辑<code>climate.yaml</code>中的内容：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">platform:</span> <span class="string">gree</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">起一个名字，例如ningyun_ac</span></span><br><span class="line">  <span class="attr">host:</span> <span class="string">空调的IP地址</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">7000</span></span><br><span class="line">  <span class="attr">mac:</span> <span class="string">&#x27;空调的MAC地址，可以是-分隔，也可以是:分隔&#x27;</span></span><br><span class="line">  <span class="attr">target_temp_step:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">lights:</span> <span class="string">input_boolean.first_ac_lights</span></span><br><span class="line">  <span class="attr">health:</span> <span class="string">input_boolean.first_ac_health</span></span><br><span class="line">  <span class="attr">sleep:</span> <span class="string">input_boolean.first_ac_sleep</span></span><br><span class="line">  <span class="attr">powersave:</span> <span class="string">input_boolean.first_ac_powersave</span></span><br></pre></td></tr></table></figure>
<h3 id="2-3-x-lovelace"><a href="#2-3-x-lovelace" class="headerlink" title="2.3.x lovelace"></a>2.3.x lovelace</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">保利·上城</span></span><br><span class="line"><span class="attr">views:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">panel:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">Home</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">&#x27;hass:home-assistant&#x27;</span></span><br><span class="line">    <span class="attr">badges:</span> []</span><br><span class="line">    <span class="attr">cards:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">vertical-stack</span></span><br><span class="line">        <span class="attr">cards:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">&#x27;custom:weather-card&#x27;</span></span><br><span class="line">            <span class="attr">entity:</span> <span class="string">weather.bao_li_shang_cheng</span></span><br><span class="line">            <span class="attr">number_of_forecasts:</span> <span class="string">&#x27;5&#x27;</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">horizontal-stack</span></span><br><span class="line">            <span class="attr">cards:</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">entity</span></span><br><span class="line">                <span class="attr">entity:</span> <span class="string">sensor.slwr_shuiwei</span></span><br><span class="line">                <span class="attr">name:</span> <span class="string">水位</span></span><br><span class="line">                <span class="attr">unit:</span> <span class="string">米</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">entity</span></span><br><span class="line">                <span class="attr">entity:</span> <span class="string">sensor.slwr_liuliang</span></span><br><span class="line">                <span class="attr">name:</span> <span class="string">流量</span></span><br><span class="line">                <span class="attr">unit:</span> <span class="string">立方米</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">picture-elements</span></span><br><span class="line">        <span class="attr">elements:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">state-icon</span></span><br><span class="line">            <span class="attr">entity:</span> <span class="string">vacuum.xiaomi_vacuum_cleaner</span></span><br><span class="line">            <span class="attr">style:</span></span><br><span class="line">              <span class="attr">top:</span> <span class="number">65</span><span class="string">%</span></span><br><span class="line">              <span class="attr">left:</span> <span class="number">35</span><span class="string">%</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">state-icon</span></span><br><span class="line">            <span class="attr">entity:</span> <span class="string">climate.ningyun_ac</span></span><br><span class="line">            <span class="attr">style:</span></span><br><span class="line">              <span class="attr">top:</span> <span class="number">8</span><span class="string">%</span></span><br><span class="line">              <span class="attr">left:</span> <span class="number">35</span><span class="string">%</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">/local/floorplan.png</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">vertical-stack</span></span><br><span class="line">        <span class="attr">cards:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">thermostat</span></span><br><span class="line">            <span class="attr">entity:</span> <span class="string">climate.ningyun_ac</span></span><br><span class="line">            <span class="attr">name:</span> <span class="string">格力宁韵</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">picture-glance</span></span><br><span class="line">            <span class="attr">image:</span> <span class="string">/local/img/vacuum.png</span></span><br><span class="line">            <span class="attr">entities:</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">entity:</span> <span class="string">vacuum.xiaomi_vacuum_cleaner</span></span><br><span class="line">            <span class="attr">tap_action:</span></span><br><span class="line">              <span class="attr">action:</span> <span class="string">more-info</span></span><br><span class="line">            <span class="attr">hold_action:</span></span><br><span class="line">              <span class="attr">action:</span> <span class="string">none</span></span><br><span class="line">            <span class="attr">title:</span> <span class="string">小米</span></span><br><span class="line">            <span class="attr">entity:</span> <span class="string">vacuum.xiaomi_vacuum_cleaner</span></span><br></pre></td></tr></table></figure>
<h2 id="2-4-syncthing"><a href="#2-4-syncthing" class="headerlink" title="2.4 syncthing"></a>2.4 syncthing</h2><p>资源占用小，内网发现，全球发现，内网穿透。</p>
<p>要注意的是从其他设备同步过来的文件夹，默认情况下会出现在<code>/config</code>下，</p>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><h3 id="linux下rename命令进行批量重命名"><a href="#linux下rename命令进行批量重命名" class="headerlink" title="linux下rename命令进行批量重命名"></a>linux下rename命令进行批量重命名</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rename <span class="string">&#x27;s///g&#x27;</span> *.mp4</span><br><span class="line">例如</span><br><span class="line">rename <span class="string">&#x27;s/cowboy\.bebop\.//g&#x27;</span> *.mkv</span><br><span class="line">将cowboy.bebop替换为空，也就是删掉</span><br></pre></td></tr></table></figure>
<p>其中<code>s</code>为开始，第一个<code>/</code>后面写要查找的字符串,第二个<code>/</code>进行分隔，第三个<code>/</code>前面写替换的字符串，然后<code>g</code>结尾</p>
<p>特殊字符用<code>\</code>进行转义，包括<code>空格</code>和<code>[]&#123;&#125;().\</code>~!@#$%^&amp;*_+-=;:’”&lt;&gt;,?`之类的，总之就是会影响正则的都要进行转义</p>
<h3 id="docker-compose-yml"><a href="#docker-compose-yml" class="headerlink" title="docker-compose.yml"></a>docker-compose.yml</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3.3&quot;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">qbittorrent:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">ghcr.io/linuxserver/qbittorrent:amd64-latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">qbittorrent</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PUID=1000</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PGID=1000</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Shanghai</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">UMASK_SET=022</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">WEBUI_PORT=8008</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/nas/opt/qbittorrent/config:/config</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/nas:/downloads</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">6969</span><span class="string">:6969</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">6969</span><span class="string">:6969/udp</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">8008</span><span class="string">:8008</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">deploy:</span></span><br><span class="line">      <span class="attr">resources:</span></span><br><span class="line">        <span class="attr">limits:</span></span><br><span class="line">          <span class="attr">cpus:</span> <span class="string">&#x27;0.5&#x27;</span></span><br><span class="line">          <span class="attr">memory:</span> <span class="string">200M</span></span><br><span class="line">  <span class="attr">home-assistant:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">homeassistant/home-assistant:2020.12.1</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">home-assistant</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PUID=1000</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PGID=1000</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Shanghai</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/etc/localtime:/etc/localtime:ro</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/nas/opt/home-assistant/config:/config</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">network_mode:</span> <span class="string">&#x27;host&#x27;</span></span><br><span class="line">    <span class="attr">deploy:</span></span><br><span class="line">      <span class="attr">resources:</span></span><br><span class="line">        <span class="attr">limits:</span></span><br><span class="line">          <span class="attr">cpus:</span> <span class="string">&#x27;0.5&#x27;</span></span><br><span class="line">          <span class="attr">memory:</span> <span class="string">200M</span></span><br><span class="line">  <span class="attr">syncthing:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">ghcr.io/linuxserver/syncthing</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">syncthing</span></span><br><span class="line">    <span class="attr">hostname:</span> <span class="string">syncthing</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PUID=1000</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">PGID=1000</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Shanghai</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/nas/syncthing:/config</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">8384</span><span class="string">:8384</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">22000</span><span class="string">:22000</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">21027</span><span class="string">:21027/udp</span></span><br><span class="line">    <span class="attr">deploy:</span></span><br><span class="line">      <span class="attr">resources:</span></span><br><span class="line">        <span class="attr">limits:</span></span><br><span class="line">          <span class="attr">cpus:</span> <span class="string">&#x27;0.5&#x27;</span></span><br><span class="line">          <span class="attr">memory:</span> <span class="string">256M</span></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">default:</span></span><br><span class="line">    <span class="attr">external:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">pve-subnet</span></span><br></pre></td></tr></table></figure>
<p>启动<code>start.sh</code>文件里，直接使用<code>bash start.sh</code>启动。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose --compatibility -f docker-compose.yml up -d</span><br></pre></td></tr></table></figure>
<p>停止了<code>stop.sh</code>文件里，直接使用<code>bash stop.sh</code>停止。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose --compatibility down</span><br></pre></td></tr></table></figure>
<p>增加<code>--compatibility</code>参数是因为docker不是swam的模式的情况下，<code>deploy</code>节点下对资源的限制是不起作用的。</p>

    </div>
    
    <div class="post-footer">
        <div>
            
            转载声明：
            商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="" target="_blank">狐狸的后山</a>
            
            
        </div>
        <div>
            
        </div>
    </div>
</article>
<div class="article-nav prev-next-wrap clearfix">
    
    <a href="/2021/01/13/%E5%9C%A8docker%E4%B8%AD%E4%BD%BF%E7%94%A8kubectl/" class="pre-post btn btn-default" title='关于在Windows中使用Terminal连接SSH登录远程机器中的docker容器中使用kubectl管理集群的那些事'>
        <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
        <span class="hidden-xs">
            关于在Windows中使用Terminal连接SSH登录远程机器中的docker容器中使用kubectl管理集群的那些事</span>
    </a>
    
    
    <a href="/2019/07/16/Architecture/" class="next-post btn btn-default" title='架构蓝皮书(基础版)'>
        <span class="hidden-lg">下一篇</span>
        <span class="hidden-xs">
            架构蓝皮书(基础版)</span><i class="fa fa-angle-right fa-fw"></i>
    </a>
    
</div>

<div id="comments">
    

<div id="vcomments" class="valine"></div>

<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="/assets/valine.min.js"></script>

<script>
new Valine({
    av: AV,
    el: '#vcomments',
    appId: 'txckaEfD4ck2wSccpplvRI0k-gzGzoHsz',
    appKey: '2rlxDiSufbMnfiBjtfaiYSl7',
    placeholder: '说点什么吧',
    notify: false,
    verify: true,
    avatar: 'mm',
    meta: 'nick,mail'.split(','),
    pageSize: '10',
    path: window.location.pathname,
    lang: 'zh-CN'.toLowerCase()
})
</script>


</div>

                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">
            文章目录
        </h3>
        
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E4%B8%80%E4%B8%AANAS%E9%83%BD%E5%BA%94%E8%AF%A5%E8%83%BD%E5%81%9A%E4%BB%80%E4%B9%88"><span class="toc-text">1 一个NAS都应该能做什么</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-%E6%B5%81%E5%AA%92%E4%BD%93"><span class="toc-text">1.1 流媒体</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E4%B8%8B%E8%BD%BD"><span class="toc-text">1.2 下载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-Home-Assistant"><span class="toc-text">1.3 Home Assistant</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-%E6%97%81%E8%B7%AF%E7%BD%91%E5%85%B3"><span class="toc-text">1.4 旁路网关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5-%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB"><span class="toc-text">1.5 文件共享</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-6-%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7"><span class="toc-text">1.6 可扩展性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-1-Docker"><span class="toc-text">1.6.1 Docker</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-1-1-Home-Assistant"><span class="toc-text">1.6.1.1 Home Assistant</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-1-2-qBittorrent"><span class="toc-text">1.6.1.2 qBittorrent</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-1-3-Jellyfin"><span class="toc-text">1.6.1.3 Jellyfin</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-1-4-%E7%AD%BE%E5%88%B0"><span class="toc-text">1.6.1.4 签到</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-1-5-%E7%99%BE%E5%BA%A6%E4%BA%91"><span class="toc-text">1.6.1.5 百度云</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-2-%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="toc-text">1.6.2 虚拟机</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-2-1-windows"><span class="toc-text">1.6.2.1 windows</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-2-2-linux"><span class="toc-text">1.6.2.2 linux</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-7-%E4%BA%91"><span class="toc-text">1.7 云</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-8-ZeroTier"><span class="toc-text">1.8 ZeroTier</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-9-%E9%80%89%E7%94%A8%E4%BB%80%E4%B9%88%E7%B3%BB%E7%BB%9F%EF%BC%9F"><span class="toc-text">1.9 选用什么系统？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-9-1-%E7%BE%A4%E6%99%96"><span class="toc-text">1.9.1 群晖</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-9-1-1-%E9%BB%91%E7%BE%A4%E6%99%96"><span class="toc-text">1.9.1.1 黑群晖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-9-1-2-%E7%99%BD%E7%BE%A4%E6%99%96"><span class="toc-text">1.9.1.2 白群晖</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-9-2-ProxmoxVE%EF%BC%88%E6%8E%A8%E8%8D%90%E2%98%85%E2%98%85%E2%98%85%E2%98%85%E2%98%85%EF%BC%89"><span class="toc-text">1.9.2 ProxmoxVE（推荐★★★★★）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-9-2-1-zfs%E5%AD%98%E5%82%A8"><span class="toc-text">1.9.2.1 zfs存储</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-9-2-2-%E8%BD%AF%E8%B7%AF%E7%94%B1"><span class="toc-text">1.9.2.2 软路由</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-9-2-3-lxc"><span class="toc-text">1.9.2.3 lxc</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-9-3-FreeNAS%EF%BC%88%E6%8E%A8%E8%8D%90%E2%98%85%E2%98%85%E2%98%85%EF%BC%89"><span class="toc-text">1.9.3 FreeNAS（推荐★★★）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-9-4-OMV%EF%BC%88OpenMediaVault%EF%BC%89"><span class="toc-text">1.9.4 OMV（OpenMediaVault）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-9-5-Windows-Server%EF%BC%88%E6%8E%A8%E8%8D%90%E2%98%85%E2%98%85%E2%98%85%E2%98%85%EF%BC%89"><span class="toc-text">1.9.5 Windows Server（推荐★★★★）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-9-6-Ubuntu-Server"><span class="toc-text">1.9.6 Ubuntu Server</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-9-7-UNRAID"><span class="toc-text">1.9.7 UNRAID</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-9-8-ESXI"><span class="toc-text">1.9.8 ESXI</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-10-%E7%A1%AC%E4%BB%B6%E4%B8%8A%E6%9C%80%E5%A5%BD%E6%9C%89%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">1.10 硬件上最好有什么？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-10-1-%E7%BD%91%E5%8D%A1"><span class="toc-text">1.10.1 网卡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-10-2-Raid%E5%8D%A1"><span class="toc-text">1.10.2 Raid卡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-10-3-%E7%83%AD%E6%8F%92%E6%8B%94"><span class="toc-text">1.10.3 热插拔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-10-4-USB3"><span class="toc-text">1.10.4 USB3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-10-5-DC%E7%94%B5%E6%BA%90"><span class="toc-text">1.10.5 DC电源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-10-6-1-N%E5%9D%97%E7%A1%AC%E7%9B%98"><span class="toc-text">1.10.6 1+N块硬盘</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-NAS%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86"><span class="toc-text">2 NAS服务管理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-Jellyfin"><span class="toc-text">2.1 Jellyfin</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-1-%E7%94%B5%E5%BD%B1%E5%A4%9A%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86"><span class="toc-text">2.1.1 电影多版本管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5"><span class="toc-text">参考链接</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-2-%E5%AD%97%E5%B9%95%E4%B8%AD%E7%9A%84%E6%96%B9%E5%9D%97"><span class="toc-text">2.1.2 字幕中的方块</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-docker-compose"><span class="toc-text">2.2 docker-compose</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-1-%E5%AE%89%E8%A3%85docker"><span class="toc-text">2.2 1 安装docker</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5-1"><span class="toc-text">参考链接</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-2-%E5%AE%89%E8%A3%85docker-compose"><span class="toc-text">2.2 2 安装docker-compose</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-3-%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87"><span class="toc-text">2.2 3 前期准备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-4-%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8docker-compose"><span class="toc-text">2.2 4 为什么使用docker-compose</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-Home-Assistant"><span class="toc-text">2.3 Home Assistant</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-1-%E8%B0%83%E7%94%A8%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87"><span class="toc-text">2.3.1 调用本地图片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-2-%E6%B0%B4%E4%BD%8D%E6%B5%81%E9%87%8F%E9%87%87%E9%9B%86"><span class="toc-text">2.3.2 水位流量采集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-3-%E5%B0%8F%E7%B1%B3%E6%89%AB%E5%9C%B0%E6%9C%BA%E5%99%A8%E4%BA%BA"><span class="toc-text">2.3.3 小米扫地机器人</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-4-%E6%A0%BC%E5%8A%9B%E5%AE%81%E9%9F%B5%E7%A9%BA%E8%B0%83"><span class="toc-text">2.3.4 格力宁韵空调</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-x-lovelace"><span class="toc-text">2.3.x lovelace</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-syncthing"><span class="toc-text">2.4 syncthing</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%84%E5%BD%95"><span class="toc-text">附录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#linux%E4%B8%8Brename%E5%91%BD%E4%BB%A4%E8%BF%9B%E8%A1%8C%E6%89%B9%E9%87%8F%E9%87%8D%E5%91%BD%E5%90%8D"><span class="toc-text">linux下rename命令进行批量重命名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#docker-compose-yml"><span class="toc-text">docker-compose.yml</span></a></li></ol></li></ol></li></ol>
        
    </div>
</aside>
                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>
<a id="back-to-top" class="icon-btn hide">
    <i class="fa fa-chevron-up"></i>
</a>
    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="busuanzi">
    
</div>
            </div>
            <div class="col-sm-12">
                <span>Copyright &copy;
                    2021
                    
                </span> |
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> |
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>



<script src="/assets/tagcanvas.min.js?rev=2.9.js"></script>

<script>
var tagOption = {
    textColour: '#444', // 字体颜色
    outlineMethod: 'block', // 选中模式
    outlineColour: '#FFDAB9', // 选中模式的颜色
    interval: 30 || 30, // 动画帧之间的时间间隔，值越大，转动幅度越大
    textHeight: 13,
    outlineRadius: 3,
    freezeActive: true || '', // 选中的标签是否继续滚动
    frontSelect: true || '', // 不选标签云后部的标签
    initial: [0.1, -0.1],
    depth: 0.5,
    decel: 0.95,
    maxSpeed: 0.03,
    reverse: true || '', // 是否反向触发
    fadeIn: 500, // 进入动画时间
    wheelZoom: false || '' // 是否启用鼠标滚轮
}
TagCanvas.Start('tag-cloud-3d', '', tagOption);
</script>



<script src="/js/app.js?rev=@@hash.js"></script>

</body>
</html>