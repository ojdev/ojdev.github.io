<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>双色球大数据选号 PRO - 深度过滤版</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1462206097231302" crossorigin="anonymous"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .ball-red { background: radial-gradient(circle at 30% 30%, #ff5f6d, #ff3b3b); color: white; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
        .ball-blue { background: radial-gradient(circle at 30% 30%, #5d9fff, #3b82f6); color: white; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
        .ad-placeholder { background: #f3f4f6; border: 1px dashed #d1d5db; text-align: center; color: #9ca3af; font-size: 11px; }
        input[type=range] { accent-color: #ef4444; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen">
    <div class="max-w-6xl mx-auto p-4 lg:p-10">
        
        <div class="ad-placeholder mb-8 p-4 rounded-lg">
            <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1462206097231302" data-ad-slot="4806082429" data-ad-format="auto"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
            <p>Google AdSense - 顶部横幅</p>
        </div>

        <div class="flex flex-col lg:flex-row gap-8">
            <div class="lg:w-1/3 space-y-6">
                <div class="bg-white p-6 rounded-3xl shadow-xl shadow-slate-200 border border-slate-100">
                    <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center">
                        <span class="bg-red-100 text-red-500 p-2 rounded-lg mr-3 text-sm">PRO</span> 深度过滤引擎
                    </h2>
                    
                    <div class="space-y-6">
                        <section>
                            <label class="block text-sm font-bold text-slate-700">生成注数: <span id="countView" class="text-red-500">5</span></label>
                            <input type="range" id="count" min="1" max="20" value="5" oninput="countView.innerText=this.value" class="w-full h-2 bg-gray-200 rounded-lg cursor-pointer mt-2">
                        </section>

                        <section>
                            <label class="block text-sm font-bold text-slate-700">AC值过滤 (推荐: 7-10)</label>
                            <div class="flex gap-2 mt-2">
                                <input type="number" id="acMin" value="7" class="w-1/2 p-2 border rounded-lg text-sm bg-slate-50">
                                <input type="number" id="acMax" value="10" class="w-1/2 p-2 border rounded-lg text-sm bg-slate-50">
                            </div>
                            <p class="text-[10px] text-slate-400 mt-1">AC值反映号码随机复杂程度</p>
                        </section>

                        <section>
                            <label class="block text-sm font-bold text-slate-700">三区分布限制</label>
                            <select id="regionLimit" class="w-full mt-2 p-2 border rounded-lg text-sm bg-slate-50">
                                <option value="any">分布：随机</option>
                                <option value="2:2:2" selected>均衡型 (2:2:2)</option>
                                <option value="1:2:3">后区加重 (1:2:3)</option>
                                <option value="3:2:1">前区加重 (3:2:1)</option>
                            </select>
                        </section>

                        <div class="bg-slate-50 p-4 rounded-2xl space-y-3">
                            <label class="flex items-center justify-between cursor-pointer">
                                <span class="text-xs font-medium text-slate-600">强制同尾号</span>
                                <input type="checkbox" id="needSameTail" checked class="w-4 h-4 rounded text-red-500">
                            </label>
                            <label class="flex items-center justify-between cursor-pointer">
                                <span class="text-xs font-medium text-slate-600">强制连号</span>
                                <input type="checkbox" id="needConsecutive" class="w-4 h-4 rounded text-red-500">
                            </label>
                        </div>

                        <button onclick="deepGenerate()" class="w-full py-4 bg-slate-900 text-white rounded-2xl font-bold text-lg hover:bg-red-600 transition-all shadow-lg hover:shadow-red-200 active:scale-95">
                            开始深度筛选
                        </button>
                    </div>
                </div>

                <div class="ad-placeholder h-48 rounded-2xl flex items-center justify-center">
                    <p>广告位 - 矩形</p>
                </div>
            </div>

            <div class="lg:w-2/3 space-y-4">
                <div id="statsInfo" class="text-xs text-slate-400 font-mono uppercase tracking-widest mb-2">Ready to scan 17,721,088 combinations...</div>
                <div id="results" class="grid gap-4">
                    <div class="p-20 text-center border-2 border-dashed border-slate-200 rounded-3xl text-slate-300">
                        点击左侧按钮，从千万组合中筛选高频结构
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function getACValue(arr) {
            let diffs = new Set();
            for (let i = 0; i < arr.length; i++) {
                for (let j = i + 1; j < arr.length; j++) {
                    diffs.add(Math.abs(arr[i] - arr[j]));
                }
            }
            return diffs.size - (arr.length - 1);
        }

        function getRegionRatio(arr) {
            let r1 = arr.filter(n => n <= 11).length;
            let r2 = arr.filter(n => n > 11 && n <= 22).length;
            let r3 = arr.filter(n => n > 22).length;
            return `${r1}:${r2}:${r3}`;
        }

        function deepGenerate() {
            const count = parseInt(document.getElementById('count').value);
            const acMin = parseInt(document.getElementById('acMin').value);
            const acMax = parseInt(document.getElementById('acMax').value);
            const regionLimit = document.getElementById('regionLimit').value;
            const needSameTail = document.getElementById('needSameTail').checked;
            const needConsecutive = document.getElementById('needConsecutive').checked;

            const resBox = document.getElementById('results');
            resBox.innerHTML = '';
            
            let found = 0;
            let countAttempts = 0;

            while (found < count && countAttempts < 50000) {
                countAttempts++;
                let reds = [];
                while(reds.length < 6) {
                    let n = Math.floor(Math.random() * 33) + 1;
                    if(!reds.includes(n)) reds.push(n);
                }
                reds.sort((a,b) => a-b);

                // 1. AC Value
                const ac = getACValue(reds);
                if (ac < acMin || ac > acMax) continue;

                // 2. Region
                const region = getRegionRatio(reds);
                if (regionLimit !== 'any' && region !== regionLimit) continue;

                // 3. Same Tail
                const tails = reds.map(n => n % 10);
                if (needSameTail && new Set(tails).size === tails.length) continue;

                // 4. Consecutive
                if (needConsecutive) {
                    let hasCons = false;
                    for(let i=0; i<5; i++) { if(reds[i+1]-reds[i]===1){hasCons=true; break;} }
                    if(!hasCons) continue;
                }

                // Success
                found++;
                const blue = Math.floor(Math.random() * 16) + 1;
                renderTicket(reds, blue, ac, region);
            }
        }

        function renderTicket(reds, blue, ac, region) {
            const resBox = document.getElementById('results');
            const card = document.createElement('div');
            card.className = "bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex flex-col md:flex-row justify-between items-center hover:border-red-200 transition-all";
            
            const redBalls = reds.map(n => `<span class="w-10 h-10 ball-red rounded-full flex items-center justify-center font-bold text-sm mx-1">${n.toString().padStart(2,'0')}</span>`).join('');
            const blueBall = `<span class="w-10 h-10 ball-blue rounded-full flex items-center justify-center font-bold text-sm ml-4">${blue.toString().padStart(2,'0')}</span>`;

            card.innerHTML = `
                <div class="flex items-center mb-4 md:mb-0">${redBalls} ${blueBall}</div>
                <div class="flex gap-3">
                    <span class="px-3 py-1 bg-slate-100 rounded-full text-[10px] font-bold text-slate-500">AC: ${ac}</span>
                    <span class="px-3 py-1 bg-slate-100 rounded-full text-[10px] font-bold text-slate-500">三区: ${region}</span>
                </div>
            `;
            resBox.appendChild(card);
        }
    </script>
</body>

</html>
